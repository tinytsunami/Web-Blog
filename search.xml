<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo Next 的 Local Search 菜單位置</title>
    <url>/hexo-next-local-search/</url>
    <content><![CDATA[<p>由於要準備發新文章，開始重新考慮一些文章管理的事情，其中最重要的是「站內搜索」。<br>這篇文章只是記錄一個設定上的小問題而已……</p>
<a id="more"></a>
<h1 id="開啟-Local-Search-功能"><a href="#開啟-Local-Search-功能" class="headerlink" title="開啟 Local Search 功能"></a>開啟 Local Search 功能</h1><p>首先，在 Hexo 的 Next 主題開啟 Local Search 非常容易，<br>只要在 <code>themes\next\_config.yml</code> 中，找到：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line"><span class="attr">  trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line"><span class="attr">  top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line"><span class="attr">  unescape:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>將 <code>local_search</code> 的 <code>enable</code> 設為 <code>true</code> 即可。</p>
<h1 id="調整-Local-Search-位置"><a href="#調整-Local-Search-位置" class="headerlink" title="調整 Local Search 位置"></a>調整 Local Search 位置</h1><p>預設 Local Search 在主選單的位置如圖 1 所示，會自動插入在最末處：</p>
<p><img src="https://i.imgur.com/KHVtWAN.png" alt="圖 1、預設 Local Search 的菜單位置"></p>
<p>基本上沒辦法直接從 <code>_config.yml</code> 設定位置，<br>如果要改到首頁的下方，則可以到 <code>themes\next\layout\_partials\header\menu.swig</code> 修改程式：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&lt;nav class=&quot;site-nav&quot;&gt;</span><br><span class="line">  &#123;% if theme.menu %&#125;</span><br><span class="line">    &lt;ul id=&quot;menu&quot; class=&quot;menu&quot;&gt;</span><br><span class="line">      &#123;% for name, path in theme.menu %&#125;</span><br><span class="line">        渲染每一行選單連結</span><br><span class="line">      &#123;%- endfor %&#125;</span><br><span class="line"></span><br><span class="line">      &#123;% set hasSearch = theme.swiftype_key || theme.algolia_search.enable || theme.local_search.enable %&#125;</span><br><span class="line">      &#123;% if hasSearch %&#125;</span><br><span class="line">        渲染 Local Search 功能連結</span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  其他主題樣式的處理</span><br><span class="line">&lt;/nav&gt;</span><br></pre></td></tr></table></figure>
<p>不難理解，假設我們需要把「搜索」的位置移動到「首頁」下方，<br>那只要把渲染 Local Search 功能，先插入到上方的 <code>for</code> 迴圈中，<br>然後加上一個條件 <code>name == &#39;home&#39;</code> 跟隨首頁進行渲染即可：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">&lt;nav class=&quot;site-nav&quot;&gt;</span><br><span class="line">  &#123;% if theme.menu %&#125;</span><br><span class="line">    &lt;ul id=&quot;menu&quot; class=&quot;menu&quot;&gt;</span><br><span class="line">      &#123;% for name, path in theme.menu %&#125;</span><br><span class="line">        渲染每一行選單連結</span><br><span class="line"></span><br><span class="line">        跟隨首頁進行渲染</span><br><span class="line">        &#123;% if name == &apos;home&apos; %&#125;</span><br><span class="line">          &#123;% set hasSearch = theme.swiftype_key || theme.algolia_search.enable || theme.local_search.enable %&#125;</span><br><span class="line">          &#123;% if hasSearch %&#125;</span><br><span class="line">            渲染 Local Search 功能連結</span><br><span class="line">          &#123;% endif %&#125;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">      &#123;%- endfor %&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  其他主題樣式的處理</span><br><span class="line">&lt;/nav&gt;</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>需要注意的是，隨著需求不同，設下的條件（<code>name == &#39;home&#39;</code>）可能不一樣，<br>你應該檢查 <code>_config.yml</code> 的 <code>menu</code> 區域設定，來獲得正確的條件。</p>
          </div>
<div class="note info">
            <p>關於渲染 swig 代碼塊，可以使用：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% codeblock lang:swig %&#125;</span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line">…</span><br><span class="line">&#123;% endraw %&#125;</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br></pre></td></tr></table></figure>
          </div>
]]></content>
      <categories>
        <category>網頁設計</category>
      </categories>
  </entry>
  <entry>
    <title>HTML5 Cordova Android APP 環境配置</title>
    <url>/HTML5-Cordova-Android-APP-1/</url>
    <content><![CDATA[<p>這篇是紀錄一個基於 HTML5 的 Android APP 開發流程。</p>
<p>雖然筆者常常寫 HTML、CSS 以及 JavaScript 程式，<br>也聽說 HTML5 對 APP 開發速度的幫助很大，但從未有自己的 APP 上架。<br><a id="more"></a></p>
<p>這篇文章將介紹 Cordova 的環境配置。</p>
<div class="note info">
            <p>本篇預設讀者都已掌握開發技術，不會介紹 Web 程式的撰寫。</p>
          </div>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>開發環境的配置需要安裝：</p>
<ul>
<li>Node.js</li>
<li>Cordova</li>
<li>Java Development Kit (JDK)</li>
<li>Android Software Development Kit (SDK)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">名稱</th>
<th style="text-align:left">功能</th>
<th style="text-align:left">下載網站</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Node.js</td>
<td style="text-align:left">Cordova 在 Node.js 的命令列上執行</td>
<td style="text-align:left"><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></td>
</tr>
<tr>
<td style="text-align:left">Cordova</td>
<td style="text-align:left">將 Web 專案部屬到指定行動裝置平台</td>
<td style="text-align:left"><a href="https://cordova.apache.org/" target="_blank" rel="noopener">Apache Cordova</a></td>
</tr>
<tr>
<td style="text-align:left">Java Development Kit (JDK)</td>
<td style="text-align:left">Cordova 新增、部屬 Android 平台時需要</td>
<td style="text-align:left"><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">Oracle Technology Network</a></td>
</tr>
<tr>
<td style="text-align:left">Android Software Development Kit (SDK)</td>
<td style="text-align:left">Cordova 新增、部屬 Android 平台時需要</td>
<td style="text-align:left"><a href="https://developer.android.com/studio/" target="_blank" rel="noopener">Android Developers</a></td>
</tr>
<tr>
<td style="text-align:left">Gradle*</td>
<td style="text-align:left">Android 的官方構建工具</td>
<td style="text-align:left"><a href="https://gradle.org/" target="_blank" rel="noopener">Gradle Build Tool</a></td>
</tr>
</tbody>
</table>
<div class="note info">
            <p>SDK 及 Gradle 的下載有無需要，請在 <a href="#安裝-SDK">安裝 SDK</a> 的章節中確認。</p>
          </div>
<div class="note info">
            <p>筆者接下來會將 Java Development Kit 簡稱為 JDK；而 Android Software Development Kit 簡稱為 SDK。</p>
          </div>
<h1 id="安裝-Node-js"><a href="#安裝-Node-js" class="headerlink" title="安裝 Node.js"></a>安裝 Node.js</h1><p>先到 <a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js 官網</a> 下載 Node.js，<br>官網左邊的 LTS 表示推薦的穩定版本、而右邊的 Current 表示最新的版本，<br>官網畫面請參考圖 1，筆者這邊使用的是 LTS 版本：</p>
<p><img src="https://i.imgur.com/MPA5e7Ql.png" alt="圖 1、Node.js 官網示意圖"></p>
<p>然後安裝 Node.js 的部分，不會花太多時間，跟一般的安裝差不多。<br>安裝好後，透過下列指令測試正確安裝，畫面請參考圖 2：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node --version</span><br></pre></td></tr></table></figure></p>
<p><img src="https://i.imgur.com/ftOp2ZBl.png" alt="圖 2、Node.js 測試示意圖"></p>
<div class="note info">
            <p>通常情況下，可能 Node.js 版本與筆者不同，但操作應該大同小異。</p>
          </div>
<h1 id="安裝-Cordova"><a href="#安裝-Cordova" class="headerlink" title="安裝 Cordova"></a>安裝 Cordova</h1><p>在 <a href="https://cordova.apache.org/" target="_blank" rel="noopener">Apache Cordova</a> 官網有說明絕大多數操作，<br>透過 npm 安裝 Cordova 即可，指令如下：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g cordova</span><br></pre></td></tr></table></figure></p>
<p>安裝好後，一樣透過指令測試，畫面請參考圖 3：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cordova --version</span><br></pre></td></tr></table></figure></p>
<p><img src="https://i.imgur.com/U2FzEL5l.png" alt="圖 3、測試 Cordova 示意圖"></p>
<p>上圖是安裝完後，透過指令測試的</p>
<div class="note info">
            <p>Node Package Manager (npm) 是 Node.js 預設的套件包管理器；其中參數 -g 代表全局安裝。</p>
          </div>
<h1 id="安裝-JDK"><a href="#安裝-JDK" class="headerlink" title="安裝 JDK"></a>安裝 JDK</h1><p>接著到 <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">Oracle Technology Network</a> 網站，<br>下載 JDK，如圖 4 所示，注意下圖中藍框的同意條款要勾選才能下載：</p>
<p><img src="https://i.imgur.com/MVsvsq5l.png" alt="圖 4、下載 JDK 示意圖"></p>
<p>注意兩個安裝的路徑：</p>
<ul>
<li>JDK</li>
<li>Java Runtime Environment (JRE)</li>
</ul>
<p>這兩個路徑可能之後會使用到，務必記下來，<br>預設路徑是「C:\Program Files\Java\」或「C:\Program Files (x86)\Java\」。</p>
<h1 id="安裝-SDK"><a href="#安裝-SDK" class="headerlink" title="安裝 SDK"></a>安裝 SDK</h1><p>安裝 SDK 的部分，可以分成兩個方法：</p>
<ul>
<li>使用 Android Studio 附帶的 SDK 包</li>
<li>獨立安裝 SDK Tools 與 SDK Platform Tools</li>
</ul>
<p>如果已經安裝過 Android Studio 的話，就直接使用其附帶的 SDK 即可；<br>反之，如果沒有安裝過 Android Studio；且未來也不打算安裝，則推薦獨立安裝 SDK。<br>（如果讀者覺得可能會使用到 Android Studio 則建議安裝。）</p>
<p>安裝好 Android Studio 時，應該會指定安裝 SDK 的位置；<br>獨立下載時，解壓縮到喜歡的目錄下即可。</p>
<p>獨立安裝 SDK Tools 的下載網址：<a href="https://developer.android.com/studio/" target="_blank" rel="noopener">Android Developers</a><br>此外，要再下載 SDK Platform Tools，網址：<a href="https://developer.android.com/studio/releases/platform-tools" target="_blank" rel="noopener">SDK Platform Tools Release</a></p>
<h1 id="安裝-Gradle"><a href="#安裝-Gradle" class="headerlink" title="安裝 Gradle"></a>安裝 Gradle</h1><p>這個部分同樣取決於是否安裝 Android Studio：</p>
<ul>
<li>使用 Android Studio 附帶的 Gradle</li>
<li>獨立安裝 Gradle </li>
</ul>
<p>與 SDK 的狀況一樣，至於 Android Studio 安裝時，<br>不會另外讓你設定 Gradle 的安裝位置，預設在「Android Studio\gradle\gradle-x.x」<br>（其中 x.x 為 Gradle 的版本號。）</p>
<h1 id="配置環境變數"><a href="#配置環境變數" class="headerlink" title="配置環境變數"></a>配置環境變數</h1><p>接下來是比較容易出錯的部分，<br>由於安裝了很多東西，有一些自動幫你配置環境變數；有些則無。<br>我們需要配置的環境變數如下：</p>
<table>
<thead>
<tr>
<th>來源軟體</th>
<th>配置方法</th>
<th>環境變數名稱</th>
<th>環境變數位置</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node.js</td>
<td>安裝 Node.js 時自動配置</td>
<td>Path（系統變數）</td>
<td>nodejs\</td>
</tr>
<tr>
<td>Node.js (npm)</td>
<td>安裝 Node.js 時自動配置</td>
<td>Path（使用者變數）</td>
<td>AppData\Roaming\npm\</td>
</tr>
<tr>
<td>Cordova</td>
<td>透過 npm 呼叫</td>
<td>無</td>
<td>無</td>
</tr>
<tr>
<td>JDK</td>
<td>使用者手動配置</td>
<td>JAVA_HOME（使用者變數）</td>
<td>jdk1.8.0_171\</td>
</tr>
<tr>
<td>SDK Tools（A.S. 附帶）</td>
<td>使用者手動配置</td>
<td>ANDROID_HOME（使用者變數）</td>
<td>SDK\</td>
</tr>
<tr>
<td>SDK Tools（獨立安裝）</td>
<td>使用者手動配置</td>
<td>ANDROID_HOME（使用者變數）</td>
<td>SDK\</td>
</tr>
<tr>
<td>SDK Platform Tools（A.S. 附帶）</td>
<td>使用者手動配置</td>
<td>Path（系統變數）</td>
<td>platform-tools\</td>
</tr>
<tr>
<td>SDK Platform Tools（獨立安裝）</td>
<td>使用者手動配置</td>
<td>Path（系統變數）</td>
<td>platform-tools\</td>
</tr>
<tr>
<td>SDK Tools（A.S. 附帶）</td>
<td>使用者手動配置</td>
<td>Path（使用者變數）</td>
<td>tools\bin\</td>
</tr>
<tr>
<td>SDK Tools（獨立安裝）</td>
<td>使用者手動配置</td>
<td>Path（使用者變數）</td>
<td>tools\bin\</td>
</tr>
<tr>
<td>Gradle（A.S. 附帶）</td>
<td>使用者手動配置</td>
<td>Path（系統變數）</td>
<td>gradle\gradle-x.x\bin\</td>
</tr>
<tr>
<td>Gradle（獨立安裝）</td>
<td>使用者手動配置</td>
<td>Path（系統變數）</td>
<td>gradle-x.x\</td>
</tr>
</tbody>
</table>
<div class="note info">
            <p>記號「A.S.」表示「Android Studio」</p>
          </div>
<div class="note warning">
            <p>環境變數位置為相對位置，請依照安裝時設定的位置為準。</p>
          </div>
<h1 id="測試環境變數"><a href="#測試環境變數" class="headerlink" title="測試環境變數"></a>測試環境變數</h1><p>這裡提供一個檢測環境變數的方法，<br>在這裡使用的 Cordova 專案可能不是最終使用的專案。</p>
<p>首先到自己喜歡的目錄下，透過指令建立 Cordova 專案，<br>其中 myApp 為自訂的專案名稱：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cordova create myApp</span><br></pre></td></tr></table></figure>
<p>然後將進入建立好的目錄，透過指令將 Android 加入部屬的平台：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd myApp</span><br><span class="line">cordova platform add android</span><br></pre></td></tr></table></figure></p>
<p>然後透過指令檢測環境：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cordova requirements</span><br></pre></td></tr></table></figure></p>
<p>整個操作的示意如圖 5，<br>如果有錯誤，應該會提示哪裡沒有配置好：<br><img src="https://i.imgur.com/cglnTXb.png" alt="圖 5、檢測命令示意圖"></p>
]]></content>
      <categories>
        <category>行動裝置</category>
      </categories>
  </entry>
  <entry>
    <title>JavaScript 檔案處理</title>
    <url>/javascript-file-process/</url>
    <content><![CDATA[<p>這篇文章的起因是想到過去寫的 JS Demo 多數沒有保留，<br>好不容易，上次在學校弄人工智慧有保留一份帶有檔案處理的。</p>
<p>所以這篇文章整理了過去做過、<br>未來也可能用在本網誌的演示部份而寫。<br><a id="more"></a></p>
<h1 id="歷史"><a href="#歷史" class="headerlink" title="歷史"></a>歷史</h1><p>沒記錯的話，早期的瀏覽器是不太允許讀取本機資料的。</p>
<p>理由是，如果瀏覽器的 JavaScript 可以隨意讀取本機資料，<br>那可能看一看網站，所有東西都偷偷被上傳了。</p>
<p>然而，這造成了一個問題：<br>「每次要檔案處理，都要透過檔案上傳到伺服器，然後再下載回來」</p>
<p>這個模式的問題在於網路頻寬的浪費，<br>也有可能網路的傳輸時間遠大於檔案處理的時間。</p>
<p>HTML5 標準中出現了 File API 處理了這個問題。<br><div class="note warning">
            <p>注意：File API 在部分瀏覽器尚未普及。請參閱 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/FileReader" target="_blank" rel="noopener">MDN FileReader</a>。</p>
          </div></p>
<h1 id="讀取檔案"><a href="#讀取檔案" class="headerlink" title="讀取檔案"></a>讀取檔案</h1><p>下面是直接從本機拿資料給 JavaScript 的做法：</p>
<p>HTML 必須的有 input 標籤，<br>至於按鈕只是為了給使用者按的（不然設定在 input.onchange 也是可以）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>基本的上傳檔案<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> /&gt;</span> <span class="tag">&lt;<span class="name">button</span>&gt;</span>上傳<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>JavaScript 的部份，最主要就是那個 FileReader 的物件：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">buttonNode.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">let</span> file = inputNode.files[<span class="number">0</span>];        <span class="comment">// 取得輸入標籤的檔案</span></span><br><span class="line">  <span class="keyword">let</span> fileReader = <span class="keyword">new</span> FileReader();    <span class="comment">// 建立 FileReader 物件</span></span><br><span class="line"></span><br><span class="line">  fileReader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;      <span class="comment">// 設定讀檔後的函數</span></span><br><span class="line">    <span class="keyword">let</span> contents = event.target.result; <span class="comment">// 取得資料</span></span><br><span class="line">    ...                                 <span class="comment">// 處理資料</span></span><br><span class="line">  &#125;;</span><br><span class="line">  fileReader.readAsDataURL(file);       <span class="comment">// 載入檔案</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p>這個演示從本機端直接讀取檔案，然後顯示出檔案內容（文字）：<br><div class="note info">
            <p>本演示的 input(file) 標籤做了樣式處理，可供參考。</p>
          </div></p>
<iframe scrolling="no" width="100%" height="310px" src="//jsfiddle.net/yaamhnmw/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="讀取進度"><a href="#讀取進度" class="headerlink" title="讀取進度"></a>讀取進度</h1><p>雖然從本機端直接讀取不用透過網路已經很快了，<br>但有時候檔案還是大的多，這個時候我們可能會想知道讀取的進度。</p>
<p>這時，我們的進度可以從 FileReader 的 onprogress 取得（可以搭配 progress 標籤使用）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"100"</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>JavaScript 的部份：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 過程進行的函數</span></span><br><span class="line">fileReader.onprogress = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> rate = event.loaded / event.total; <span class="comment">// 得到讀取的比例</span></span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h2><p>這個演示製作了進度條（需要大一點的檔案才能看到）<br><div class="note info">
            <p>本演示的 progress 標籤做了樣式處理，可供參考。</p>
          </div></p>
<iframe scrolling="no" width="100%" height="310px" src="//jsfiddle.net/xmee4x4j/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="讀取圖像"><a href="#讀取圖像" class="headerlink" title="讀取圖像"></a>讀取圖像</h1><p>畫布（Canvas）是 HTML5 幾乎最核心的功能之一，<br>當然讀取圖像繪畫到畫布上，也是很常見的。</p>
<h2 id="使用-Image-物件"><a href="#使用-Image-物件" class="headerlink" title="使用 Image 物件"></a>使用 Image 物件</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 從 input 標籤取得檔案</span></span><br><span class="line"><span class="keyword">let</span> file = inputNode.files[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建立 Image 物件 </span></span><br><span class="line"><span class="keyword">let</span> img = <span class="keyword">new</span> Image();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圖片載入後的事件函數</span></span><br><span class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 畫到畫布上</span></span><br><span class="line">  context.drawImage(img, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建立 URL 掛到 Image 物件上</span></span><br><span class="line">img.src = URL.createObjectURL(file);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="演示-2"><a href="#演示-2" class="headerlink" title="演示"></a>演示</h3><p>這個演示示範了基本從 Image 到 Canvas 的過程：</p>
<iframe scrolling="no" width="100%" height="410px" src="//jsfiddle.net/cjpbjrxL/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h2 id="使用-FileReader-物件"><a href="#使用-FileReader-物件" class="headerlink" title="使用 FileReader 物件"></a>使用 FileReader 物件</h2><p>通常而言會推薦使用 Image 物件，不過透過 FileReader 也可實作。</p>
<div class="note info">
            <p>如果是圖像處理建議使用 Image 物件；<br>這是因為 FileReader 的瀏覽器支援度不如 Image 物件普及。</p>
          </div>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 取得檔案、建立 FileReader 物件</span></span><br><span class="line"><span class="keyword">let</span> file = inputNode.files[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> fileReader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 載入完成的事件函數</span></span><br><span class="line">fileReader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> content = event.target.result;    </span><br><span class="line">  <span class="keyword">let</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">  img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        context.drawImage(img, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  img.src = contents;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 載入檔案</span></span><br><span class="line">fileReader.readAsDataURL(file);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="演示-3"><a href="#演示-3" class="headerlink" title="演示"></a>演示</h3><p>如果透過 FileReader 一樣可以畫在畫布上：</p>
<iframe scrolling="no" width="100%" height="440px" src="//jsfiddle.net/rtjd137s/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="二進位檔案處理"><a href="#二進位檔案處理" class="headerlink" title="二進位檔案處理"></a>二進位檔案處理</h1><p>取得了檔案通常需要做處理（透過 JavaScript）尤其是二進位的檔案，<br>轉檔、壓縮之類的往往需要二進位的控制，然而這個已經被 JavaScript 支援了：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 這個只是方便取得檔案中的文字塊</span></span><br><span class="line"><span class="comment">// 然後把函數掛到了 DataView 底下</span></span><br><span class="line"><span class="built_in">DataView</span>.prototype.getString = <span class="function"><span class="keyword">function</span>(<span class="params">offset, len</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> result = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> value = <span class="keyword">this</span>.getUint8(offset + i);</span><br><span class="line">    result += <span class="built_in">String</span>.fromCharCode(value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// 取得檔案、建立 FileReader 物件</span></span><br><span class="line"><span class="keyword">let</span> file = inputNode.files[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> fileReader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">fileReader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 建立 DataView 做控制</span></span><br><span class="line">  <span class="keyword">let</span> contents = <span class="keyword">new</span> <span class="built_in">DataView</span>(event.target.result);</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意這邊 readAsDataURL 改成 readAsArrayBuffer 函數</span></span><br><span class="line">fileReader.readAsArrayBuffer(file);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示-4"><a href="#演示-4" class="headerlink" title="演示"></a>演示</h2><div class="note primary">
            <p>這個演示需要 WAV 檔案，可跳至 <a href="#演示-5">下載檔案演示</a> 的部分；<br>該演示將由二進制組合一個 WAV 檔案下載。</p>
          </div>
<p>它解析檔案內容，讀取資料（首個聲道的內容）繪畫到畫布上：</p>
<iframe scrolling="no" width="100%" height="250px" src="//jsfiddle.net/0qs13nyk/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="下載檔案"><a href="#下載檔案" class="headerlink" title="下載檔案"></a>下載檔案</h1><p>我們討論了很多的讀取、操作檔案的方法，<br>同樣的，我們也要讓使用者能把檔案從瀏覽器上拿回來才行。</p>
<p>具體的作法是，透過一個連結標籤。<br>然後設定相關參數，並執行自身（讓瀏覽器自動處理）下載：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">let</span> buffer = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(...);              <span class="comment">// 設定空間</span></span><br><span class="line"><span class="keyword">let</span> contents = <span class="keyword">new</span> <span class="built_in">DataView</span>(buffer);            <span class="comment">// 建立 DataView 控制</span></span><br><span class="line"></span><br><span class="line">... <span class="comment">/* 在這邊使用 DataView 物件操作檔案 */</span> ...</span><br><span class="line"></span><br><span class="line"><span class="comment">// 透過 ArrayBuffer 建立 Blob 物件</span></span><br><span class="line"><span class="comment">// 後面的 type 屬性是二進位的流，請參考 Content-type 資訊</span></span><br><span class="line"><span class="keyword">let</span> blob = <span class="keyword">new</span> Blob([buffer], &#123;<span class="attr">type</span>: <span class="string">"application/octet-stream"</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> url = <span class="built_in">window</span>.URL.createObjectURL(blob);     <span class="comment">// 建立 URL</span></span><br><span class="line"><span class="keyword">let</span> downloadNode = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>); <span class="comment">// 創造 a 標籤</span></span><br><span class="line"></span><br><span class="line">downloadNode.style.display = <span class="string">"none"</span>;            <span class="comment">// 設定標籤不可見</span></span><br><span class="line">downloadNode.href = url;                        <span class="comment">// 設定標籤位置（URL）</span></span><br><span class="line">downloadNode.download = <span class="string">"..."</span>;                  <span class="comment">// 設定下載檔案檔名</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(downloadNode);        <span class="comment">// 加入標籤到網頁</span></span><br><span class="line">downloadNode.click();                           <span class="comment">// 自動點擊執行</span></span><br><span class="line"></span><br><span class="line">URL.revokeObjectURL(url);                       <span class="comment">// 將創造的 URL 釋放掉</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示-5"><a href="#演示-5" class="headerlink" title="演示"></a>演示</h2><p>這個演示會根據你的函數內容生成、下載 WAV 檔案：<br><div class="note info">
            <p>對於 16-bit 的 WAV 文件，範圍在 [-32768, 32767] 的區間內。</p>
          </div></p>
<iframe scrolling="no" width="100%" height="200px" src="//jsfiddle.net/fcgbq61a/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/HTMLImageElement/Image" target="_blank" rel="noopener">MDN Web Docs : Image</a></li>
<li><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/FileReader" target="_blank" rel="noopener">MDN Web Docs : FileReader</a></li>
<li><a href="https://zh.wikipedia.org/wiki/WAV" target="_blank" rel="noopener">Wikipedia: WAV</a></li>
<li><a href="http://soundfile.sapp.org/doc/WaveFormat/" target="_blank" rel="noopener">WAVE PCM Soundfile Format</a></li>
</ul>
]]></content>
      <categories>
        <category>網頁設計</category>
      </categories>
  </entry>
  <entry>
    <title>Linux 螢幕解析度問題</title>
    <url>/linux-screen-display-problem/</url>
    <content><![CDATA[<p>我當初剛裝 Linux 時，被雙螢幕的問題搞了許久，<br>這篇主要是做個解決方案的筆記，以免之後又碰到相同的問題。</p>
<p>本解決方案來自網路上的資料，我將把參考資料陳列於下方。<br><a id="more"></a></p>
<div class="note info">
            <p>本篇的 Linux 版本為 <a href="https://linuxmint.com/" target="_blank" rel="noopener">Linux Mint</a><br>如果你的不是 Linux Mint 的話，解決方案可能大同小異，請參考其他資料處理。</p>
          </div>
<h1 id="解析度問題"><a href="#解析度問題" class="headerlink" title="解析度問題"></a>解析度問題</h1><p>有時候安裝好 Linux 螢幕並不會自動抓到適當的解析度，<br>筆者的雙螢幕中，發生問題的螢幕是電視螢幕，具體參考圖 1。</p>
<p>我的猜測是，螢幕本身不是電腦螢幕的話，可能發生機會會大得多。</p>
<p><img src="https://i.imgur.com/w7Kga59.png" alt="圖 1、Linux Mint 螢幕設定畫面"></p>
<p>如上圖所示，問題螢幕為 DVI-I 輸出，正常情況應為 1920x1080 解析度；<br>但由於某種原因，最高只到 1024x768 解析度。</p>
<h1 id="解決方案"><a href="#解決方案" class="headerlink" title="解決方案"></a>解決方案</h1><p>我們會利用 cvt 及 xrandr 指令解決這個問題：</p>
<ul>
<li>利用 xrandr 找出問題螢幕的代號</li>
<li>透過 cvt 生成 modeline</li>
<li>透過 xrandr 以及 modeline 建立解析度</li>
<li>透過 xrandr 增加解析度到螢幕代號</li>
<li>設定螢幕為新解析度</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tinytsunami@Tinytsunami-PC ~ $ xrandr</span><br><span class="line">Screen 0: minimum 320 x 200, current 2944 x 1080, maximum 16384 x 16384</span><br><span class="line">DVI-I-1 connected 1024x768+0+0 (normal left inverted right x axis y axis) 0mm x 0mm</span><br><span class="line">   1024x768      60.00* </span><br><span class="line">   800x600       60.32    56.25  </span><br><span class="line">   848x480       60.00  </span><br><span class="line">   640x480       59.94  </span><br><span class="line">HDMI-1 disconnected (normal left inverted right x axis y axis)</span><br><span class="line">VGA-1 connected primary 1920x1080+1024+0 (normal left inverted right x axis y axis) 477mm x 268mm</span><br><span class="line">   1920x1080     60.00*+</span><br><span class="line">   1680x1050     59.95  </span><br><span class="line">   1600x900      60.00  </span><br><span class="line">   1280x1024     60.02  </span><br><span class="line">   1280x800      59.81  </span><br><span class="line">   1280x720      60.00  </span><br><span class="line">   1024x768      60.00  </span><br><span class="line">   800x600       60.32  </span><br><span class="line">   640x480       59.94  </span><br><span class="line">tinytsunami@Tinytsunami-PC ~ $ cvt 1920 1080 60</span><br><span class="line"><span class="comment"># 1920x1080 59.96 Hz (CVT 2.07M9) hsync: 67.16 kHz; pclk: 173.00 MHz</span></span><br><span class="line">Modeline <span class="string">"1920x1080_60.00"</span>  173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync</span><br><span class="line">tinytsunami@Tinytsunami-PC ~ $ xrandr --newmode <span class="string">"1920x1080_60.00"</span>  173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync</span><br><span class="line">tinytsunami@Tinytsunami-PC ~ $ xrandr --addmode DVI-I-1 <span class="string">"1920x1080_60.00"</span></span><br><span class="line">tinytsunami@Tinytsunami-PC ~ $ xrandr --output DVI-I-1 --mode 1920x1080_60.00</span><br></pre></td></tr></table></figure>
<p>這個方法是暫時的，完成這些步驟後，要做一些設定來保存這個配置，<br>我的方案是使用開機執行程式（.sh）開機時自動完成上面那些操作：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xrandr --newmode <span class="string">"1920x1080_60.00"</span>  173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync</span><br><span class="line">xrandr --addmode DVI-I-1 1920x1080_60.00</span><br><span class="line">xrandr --output DVI-I-1 --mode 1920x1080_60.00</span><br></pre></td></tr></table></figure>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><p><a href="https://www.ubuntu-tw.org/modules/newbb/viewtopic.php?post_id=161574" target="_blank" rel="noopener">https://www.ubuntu-tw.org/modules/newbb/viewtopic.php?post_id=161574</a><br><a href="https://askubuntu.com/questions/377937/how-to-set-a-custom-resolution" target="_blank" rel="noopener">https://askubuntu.com/questions/377937/how-to-set-a-custom-resolution</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title>三角函數的微分</title>
    <url>/differential-trigonometric-functions/</url>
    <content><![CDATA[<p>總之一個因緣際會複習微積分，所以寫下這篇文章。<br>本篇文章部分要仰賴一些先備知識：<br><a id="more"></a></p>
<p>$\displaystyle{ \lim_{\theta \to 0} \frac{sin(\theta)}{\theta} = 1 }$</p>
<p>（證明可以參考：<a href="http://mathtrain.jp/sinc\" target="_blank" rel="noopener">sinx/xについて覚えておくべき２つのこと</a>）</p>
<p>題外話，在 tutor 板上出現過為什麼不可以用羅必達法則（l’H&ocirc;pital’s Rule）證明的問題。<br>有興趣可以自己前去觀看：<a href="https://www.ptt.cc/man/tutor/DFC5/D338/D20E/M.1174228073.A.6B3.html" target="_blank" rel="noopener">[討論] limsinx/x＝1 when x&rarr;0</a></p>
<p>另一個部分是：</p>
<p>$\displaystyle{ \lim_{\theta&nbsp;\to 0} \frac{cos(\theta) - 1}{\theta} = 0 }$</p>
<p>推倒如下。</p>
<p>$\displaystyle{ \lim_{\theta&nbsp;\to 0} \frac{cos(\theta) - 1}{\theta} = \lim_{\theta&nbsp;\to 0} \frac{cos(\theta) - 1}{\theta} \cdot \frac{cos(\theta) + 1}{cos(\theta) + 1}}$</p>
<p>$\displaystyle{ = \lim_{\theta&nbsp;\to 0} \frac{cos^{2}(\theta) - 1^{2}}{\theta [cos(\theta) + 1]} = \lim_{\theta&nbsp;\to 0} \frac{-sin^{2}(\theta)}{\theta [cos(\theta) + 1]}}$</p>
<p>$\displaystyle{ = - \lim_{\theta&nbsp;\to 0} \frac{sin(\theta)}{\theta}\frac{sin(\theta)}{cos(\theta) + 1} = - \{ \lim_{\theta&nbsp;\to 0} \frac{sin(\theta)}{\theta} \cdot \lim_{\theta&nbsp;\to 0} \frac{sin(\theta)}{cos(\theta) + 1} \} }$</p>
<p>$\displaystyle{ = - \{ 1&nbsp;\cdot \frac{0}{1 + 1} \} = 0 }$&nbsp;</p>
<h1 id="sin-x-正弦"><a href="#sin-x-正弦" class="headerlink" title="sin(x) 正弦"></a>sin(x) 正弦</h1><p>利用微分定義推導：</p>
<p>$\displaystyle{ \frac{d}{dx} sin(x) = \lim_{h \to 0} \frac{sin(x + h) - sin(x)}{h} }$</p>
<p>$\displaystyle{ = \lim_{h&nbsp;\to 0} \frac{sin(x)cos(h) + cos(x)sin(h) - sin(x)}{h} \text{（※ 正弦和角公式）} }$</p>
<p>$\displaystyle{ = \lim_{h&nbsp;\to 0} \frac{sin(x)cos(h) - sin(x) + cos(x)sin(h)}{h} }$</p>
<p>$\displaystyle{ = \lim_{h&nbsp;\to 0} \frac{sin(x)&nbsp;[cos(h) - 1]}{h} + \lim_{h&nbsp;\to 0} \frac{cos(x)sin(h)}{h} }$</p>
<p>$\displaystyle{ = sin(x) \cdot \lim_{h&nbsp;\to 0} \frac{cos(h) - 1}{h} + cos(x) \cdot&nbsp;\lim_{h&nbsp;\to 0} \frac{sin(h)}{h} }$</p>
<p>$\displaystyle{ = sin(x) \cdot 0&nbsp;+ cos(x) \cdot 1 = cos(x) }$</p>
<h1 id="cos-x-餘弦"><a href="#cos-x-餘弦" class="headerlink" title="cos(x) 餘弦"></a>cos(x) 餘弦</h1><p>利用微分定義推導：</p>
<p>$\displaystyle{ \frac{d}{dx} cos(x) = \lim_{h \to 0} \frac{cos(x + h) - cos(x)}{h} }$</p>
<p>$\displaystyle{ = \lim_{h&nbsp;\to 0} \frac{cos(x)cos(h) - sin(x)sin(h) - cos(x)}{h} \text{（※ 餘弦和角公式）} }$</p>
<p>$\displaystyle{ = \lim_{h&nbsp;\to 0} \frac{cos(x)cos(h) -&nbsp;cos(x) -&nbsp;sin(x)sin(h)}{h} }$</p>
<p>$\displaystyle{ = \lim_{h&nbsp;\to 0} \frac{cos(x) [cos(h) - 1]}{h} - \lim_{h&nbsp;\to 0}&nbsp;\frac{sin(x)sin(h)}{h} }$</p>
<p>$\displaystyle{ = cos(x) \cdot \lim_{h&nbsp;\to 0} \frac{cos(h) - 1}{h} - sin(x) \cdot&nbsp;\lim_{h&nbsp;\to 0}&nbsp;\frac{sin(h)}{h} }$</p>
<p>$\displaystyle{ = cos(x) \cdot 0&nbsp;- sin(x) \cdot 1 = - sin(x) }$</p>
<h1 id="tan-x-正切"><a href="#tan-x-正切" class="headerlink" title="tan(x) 正切"></a>tan(x) 正切</h1><p>由 $tan(x) = \frac{sin(x)}{cos(x)}$ 開始：</p>
<p>$\frac{d}{dx} tan(x) = \frac{d}{dx} \frac{sin(x)}{cos(x)}$</p>
<p>$ = \frac{\frac{d}{dx}sin(x) \cdot&nbsp;cos(x) - sin(x) \cdot \frac{d}{dx}cos(x)}{cos^{2}(x)} \text{（※ 微分除法公式）}$</p>
<p>$ = \frac{cos(x) \cdot&nbsp;cos(x) - sin(x) \cdot [-sin(x)]}{cos^{2}(x)} = \frac{cos^{2}(x) +&nbsp;sin^{2}(x)}{cos^{2}(x)}$</p>
<p>$ = \frac{1}{cos^{2}(x)} = sec^{2}(x)$</p>
<p>（※ 使用了 $sin^{2}(x) + cos^{2}(x) = 1$ 這條式子，證明請參考：<a href="https://www.youtube.com/watch?v=91Jxfu4FntM" target="_blank" rel="noopener">sin^2+cos^2=1</a>）</p>
<h1 id="csc-x-餘割"><a href="#csc-x-餘割" class="headerlink" title="csc(x) 餘割"></a>csc(x) 餘割</h1><p>由 $csc(x) = \frac{1}{sin(x)}$ 開始：</p>
<p>$\frac{d}{dx} csc(x) = \frac{d}{dx} \frac{1}{sin(x)}$</p>
<p>$ = \frac{\frac{d}{dx} 1 \cdot sin(x) - 1 \cdot \frac{d}{dx} sin(x)}{sin^{2}(x)} \text{（※ 微分除法公式）}$</p>
<p>$ = \frac{0 \cdot sin(x) - 1 \cdot cos(x)}{sin^{2}(x)} = - \frac{cos(x)}{sin^{2}(x)}$</p>
<p>$ = - \frac{cos(x)}{sin(x)} \cdot \frac{1}{sin(x)} = - cot(x) csc(x)$</p>
<h1 id="sec-x-正割"><a href="#sec-x-正割" class="headerlink" title="sec(x) 正割"></a>sec(x) 正割</h1><p>由 $sec(x) = \frac{1}{cos(x)}$ 開始：</p>
<p>$\frac{d}{dx} sec(x) = \frac{d}{dx} \frac{1}{cos(x)}$</p>
<p>$ = \frac{\frac{d}{dx} 1 \cdot cos(x) - 1 \cdot \frac{d}{dx} cos(x)}{cos^{2}(x)} \text{（※ 微分除法公式）}$</p>
<p>$ = \frac{0 \cdot cos(x) - 1 \cdot [-sin(x)] }{cos^{2}(x)} = \frac{sin(x)}{cos^{2}(x)}$</p>
<p>$ = \frac{sin(x)}{cos(x)} \cdot \frac{1}{cos(x)} = tan(x) sec(x)$</p>
<h1 id="cot-x-餘切"><a href="#cot-x-餘切" class="headerlink" title="cot(x) 餘切"></a>cot(x) 餘切</h1><p>由 $cot(x) = \frac{cos(x)}{sin(x)}$ 開始：</p>
<p>$\frac{d}{dx} cot(x) = \frac{d}{dx} \frac{cos(x)}{sin(x)}$</p>
<p>$ = \frac{\frac{d}{dx}cos(x) \cdot sin(x) - cos(x) \cdot \frac{d}{dx} sin(x)}{sin^{2}(x)} \text{（※ 微分除法公式）}$</p>
<p>$ = \frac{[-sin(x)] \cdot sin(x) - cos(x) \cdot cos(x)}{sin^{2}(x)} = \frac{ - sin^{2}(x) - cos^{2}(x)}{sin^{2}(x)}$</p>
<p>$ = - \{\frac{sin^{2}(x) +&nbsp;cos^{2}(x)}{sin^{2}(x)}\}&nbsp;= - \frac{1}{sin^{2}(x)} = -csc^{2}(x)$</p>
<p>（※ 跟 $tan(x)$ 一樣使用了 $sin^{2}(x) + cos^{2}(x) = 1$ 這條式子，證明請參考上面的資料。）</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>可以發現一些手法，除了 $sin(x)$ 以及 $cos(x)$ 要從定義來之外，<br>其他的有兩兩對應的步驟，像是 $tan(x)$ 跟 $cot(x)$ 就很類似、而 $csc(x)$ 跟 $sec(x)$ 也很相像。</p>
]]></content>
      <categories>
        <category>微積分</category>
      </categories>
  </entry>
  <entry>
    <title>K均值算法 K-mean Algorithm</title>
    <url>/k-mean-algorithm/</url>
    <content><![CDATA[<p>K均值算法（K-mean Algorithm）應該可以說是最簡單的無監督學習算法了，<br>因為很直觀的關係，所以這篇應該蠻短的。<br><a id="more"></a></p>
<p>讓我們開始吧！</p>
<h1 id="物以類聚"><a href="#物以類聚" class="headerlink" title="物以類聚"></a>物以類聚</h1><p>想像一下，如果「物以類聚」這件事情為真的話，<br>那麼一筆一筆的資料是不是也有這樣的特性呢？</p>
<p>$X_{0} \approx X_{1}$</p>
<p>兩筆資料由於特徵相近，所以映射在高維空間中的距離接近。<br>所以說，這些散布在空間中的點，<br>如果這堆點，每個都有所屬的類別的話。</p>
<p>很顯然的，那就存在一個類別的中心，<br>而這個類別的中心，我們常稱作「聚類中心」。</p>
<p>$\mu = \text{聚類中心}$</p>
<p>越靠近這個聚類中心，代表它越屬於這個類別。</p>
<h2 id="K個類別"><a href="#K個類別" class="headerlink" title="K個類別"></a>K個類別</h2><p>由於類別不只一個，<br>老實說，如果類別沒有兩個以上，那也不用去分了。<br>我們假定存在 $K$ 個類別的話，就有 $K$ 個聚類中心：</p>
<p>$\mu_{0}, \mu_{1}, … , \mu_{K}$</p>
<p>我們可以進一步去定義，<br>這些每個聚類都是集合，可以用來塞資料點：</p>
<p>$S_{j} = \{ … \}$</p>
<p>如此一來，聚類中心就有定義了：</p>
<p>$\mu_{j} = \frac{1}{|S_{j}|}\sum\limits_{x_{i} \in S_{j}} x_{i}$</p>
<p>聚類中心是「屬於聚類集合的點取平均」而來。</p>
<h1 id="演算法"><a href="#演算法" class="headerlink" title="演算法"></a>演算法</h1><p>接下來，是演算法的實際做法：</p>
<ul>
<li>隨機初始化聚類中心</li>
<li>計算資料點較接近哪個聚類中心 </li>
<li>把接近聚類中心的資料點塞進聚類集合</li>
<li>計算新的聚類中心，代替掉舊的</li>
<li>重複 2 ～ 5 步驟，直到不再更新為止</li>
</ul>
<p>公式的定義：</p>
<p>$S_{j} = \{ x_{i} : \mid x_{i} - \mu_{j}\mid ^{2} \leq \mid x_{i} - \mu_{p}\mid ^{2} \forall p, 1 &lt; p &lt; K \}$</p>
<p>具體的作法就是迭代上式。至於這條公式的解釋：</p>
<p>第 j 個聚類集合，如果符合：<br>「第 i 筆資料與第 j 個聚類中心的距離」小於等於「第 i 筆資料與第 p 個聚類中心的距離」的話，<br>那麼第 i 筆資料就屬於第 j 個聚類集合（對於所有的 p 都要嘗試，至於 p 的範圍是 1 ～ K）</p>
<p>這是白話文翻譯。不過為了裝得很厲害的樣子，還是寫符號吧..XD<br>換言之，這筆資料是不是屬於這個聚類，就要嘗試看看他跟這個聚類中心的距離是不是小於等於其他聚類中心，<br>如果是則將它擺到這個聚類集合中；反之，則忽略這筆，繼續看下一筆資料。</p>
<p>值得一提的是，通常情況下一筆資料只會被分配到一個聚類集合。<br>依照這個定義的話，如果 $\mid x_{i} - \mu_{p}\mid ^{2} = |x_{i} - \mu_{q}\mid ^{2}$ 也就是距離一樣的話，<br>那麼資料點 $x_{i}$ 就會被分配到最後一個算的聚類中心。</p>
<h2 id="形式化"><a href="#形式化" class="headerlink" title="形式化"></a>形式化</h2><ul>
<li>$\mu_{j} = random$</li>
<li>$S_{j} = \{ x_{i} : \mid x_{i} - \mu_{j}\mid ^{2} \leq \mid x_{i} - \mu_{p}\mid ^{2} \forall p, 1 &lt; p &lt; K \}$</li>
<li>$\mu_{j} = \frac{1}{|S_{j}|}\sum\limits_{x_{i} \in S_{j}} x_{i}$</li>
<li>$\text{Repeat 2~3}$</li>
</ul>
<p>以上，就是所有的內容了。來看演示吧！</p>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><iframe scrolling="no" width="100%" height="530px" src="//jsfiddle.net/kLyn0kut/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>串列 Linked List</title>
    <url>/linked-list/</url>
    <content><![CDATA[<p>串列是資料結構中，一種重要的資料表達方式，<br>這樣的表達方式可以透過指標來完成。</p>
<a id="more"></a>
<p>通常，從這個部分開始，<br>可以看出一個人對指標的熟練程度。</p>
<h1 id="串列結構"><a href="#串列結構" class="headerlink" title="串列結構"></a>串列結構</h1><p>串列的典型做法是使用 struct 實作：</p>
<div class="note info">
            <p>為方便撰寫範例，這裡假設資料為整數。</p>
          </div>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;   <span class="comment">// 資料</span></span><br><span class="line">    Node *next; <span class="comment">// 下個節點</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line">Node *node_1 = <span class="keyword">new</span> Node; <span class="comment">// 第 1 個節點</span></span><br><span class="line">Node *node_2 = <span class="keyword">new</span> Node; <span class="comment">// 第 2 個節點</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">// 把第 2 個節點接在第 1 個後面</span></span><br><span class="line">node_1-&gt;next = node_2;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>串列結構經過良好的封裝更便於使用。</p>
          </div>
<h1 id="創建節點"><a href="#創建節點" class="headerlink" title="創建節點"></a>創建節點</h1><p>可以透過一個函數取得節點，<br>動態建立節點後，記得回傳給主程式。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 給定資料建立一個節點</span></span><br><span class="line"><span class="function">Node* <span class="title">create</span><span class="params">(<span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *node = <span class="keyword">new</span> Node; <span class="comment">// 建立新節點</span></span><br><span class="line">    node-&gt;data = value;    <span class="comment">// 設定節點值</span></span><br><span class="line">    node-&gt;next = <span class="literal">nullptr</span>;  <span class="comment">// 初始化指標</span></span><br><span class="line">    <span class="keyword">return</span> node;           <span class="comment">// 回傳給主程序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接下來的插入節點就可以使用這個函數了。</p>
<h1 id="搜索節點"><a href="#搜索節點" class="headerlink" title="搜索節點"></a>搜索節點</h1><p>我個人認為，搜索節點這件事情，<br>搜索當前節點的效益並不大，通常我們更需要「目標節點的前一個節點」。</p>
<div class="note info">
            <p>「搜索目標節點的前一個節點函數」下面簡稱為「搜前函數」。</p>
          </div>
<p>個人實作時，會先實作搜前函數，<br>搜索節點的函數則透過這個函數間接完成。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">Node* <span class="title">sreachPrevious</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node* node = root;</span><br><span class="line">    <span class="keyword">while</span> (node-&gt;next != <span class="literal">nullptr</span>      <span class="comment">// 不是最後一個節點</span></span><br><span class="line">        &amp;&amp; node-&gt;next-&gt;data != value) <span class="comment">// 而且下個節點的值不是目標</span></span><br><span class="line">        node = node-&gt;next;            <span class="comment">// 繼續搜索</span></span><br><span class="line">    <span class="keyword">return</span> node;                      <span class="comment">// 回傳目標的上一節點或最後一個節點</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>這裡的「root」是樹狀結構的名詞，但串列也可以視作一棵樹。</p>
          </div>
<p>透過搜前函數，可以實做出的搜索功能。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function">Node* <span class="title">sreach</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;data == value)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    Node *node = sreachPrevious(root, value);</span><br><span class="line">    <span class="keyword">return</span> node-&gt;next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="插入節點"><a href="#插入節點" class="headerlink" title="插入節點"></a>插入節點</h1><p>插入節點不困難，這裡以插入到末端為例，<br>如果存在一個值不會出現在串列中的話，可以透過搜前函數實作。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 插入一個節點到串列的結尾</span></span><br><span class="line"><span class="function">Node* <span class="title">insert</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *node = create(value);       <span class="comment">// 新建節點</span></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">nullptr</span>)              <span class="comment">// 如果串列尚不存在</span></span><br><span class="line">        <span class="keyword">return</span> node;                  <span class="comment">// 回傳給主程序</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Node* tail = root;            <span class="comment">// 找尾巴節點</span></span><br><span class="line">        <span class="keyword">while</span> (tail-&gt;next != <span class="literal">nullptr</span>)</span><br><span class="line">            tail = tail-&gt;next;</span><br><span class="line">        tail-&gt;next = node;            <span class="comment">// 新增在尾巴</span></span><br><span class="line">        <span class="keyword">return</span> root;                  <span class="comment">// 回傳給主程序</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>插入到特定位置的功能，也可以利用搜前函數的實作。</p>
          </div>
<div class="note warning">
            <p>如果不回傳指標給主程序，則建立串列時會出錯。</p>
          </div>
<h1 id="刪除節點"><a href="#刪除節點" class="headerlink" title="刪除節點"></a>刪除節點</h1><p>刪除節點可以直接透過搜前函數實作。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(Node *root, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *previous = sreachPrevious(root, value);</span><br><span class="line">    Node *target = previous-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (target != <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        previous-&gt;next = target-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="遍歷節點"><a href="#遍歷節點" class="headerlink" title="遍歷節點"></a>遍歷節點</h1><p>對串列進行一堆操作後，檢查串列的正確性，<br>或是有時我們需要對整個串列做特定運算，都需要遍歷功能：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">traversal</span><span class="params">(Node *root, <span class="keyword">void</span> (*callback)(Node *node))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (Node *node = root; node != <span class="literal">nullptr</span>; node = node-&gt;next)</span><br><span class="line">        callback(node);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>遍歷功能的第二個參數是函數的指標，<br>串列的每個節點，會被當成這個函數的傳入值操作。</p>
<p>以印出節點來說，可以這樣調用：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(Node *node)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; node-&gt;data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">traversal(root, show);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><p>演示包含插入與刪除節點，<br>其中插入功能隱含創建節點功能，而刪除功能隱含著搜尋功能。</p>
<iframe scrolling="no" width="100%" height="130px" src="//jsfiddle.net/ngkx992u/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>程式設計</category>
      </categories>
  </entry>
  <entry>
    <title>我的大學作業整理</title>
    <url>/ming-chuan-university-homework/</url>
    <content><![CDATA[<p>隨著銘傳大學畢業後，攻讀研究所，一直很捨不得一些過去大學時期的作業；<br>這篇是整理大學時期的所有作業（當成是個人的小作品）放在這篇文章裡。</p>
<a id="more"></a>
<p>也許有人會說「作業有什麼好留的」，<br>但是因為筆者的心態是很極端的「要嘛認真做、要嘛擺爛」，<br>（既然一開始無心幹嘛浪費時間，不如去幹其他事。）</p>
<p>又因為特別喜歡軟體課，變成軟體課的作業都很認真寫，<br>所以對於某些東西真的覺得未來找不到會很可惜。</p>
<h1 id="資料結構與演算法"><a href="#資料結構與演算法" class="headerlink" title="資料結構與演算法"></a>資料結構與演算法</h1><p>因為老師有特別說過可以整理，所以這門課的作業特別整理過，<br>而且這個 Blog 的 <a href="/sort/" title="排序 Sort">排序 Sort</a> 最早就是出自 C++ 的排序作業（105上學期作業1）。</p>
<p>後來 Blog 的 Code 有重寫過，因為初版某些排序寫太爛了。</p>
<div class="note success">
            <p>作業連結：<a href="https://github.com/tinytsunami/MCU-DSA" target="_blank" rel="noopener">GitHub: tinytsunami/MCU-DSA</a></p>
          </div>
<p>同時，從大概第一次修課的這個時候撰寫 Blog 至今，最早是當成課堂筆記用。</p>
<h1 id="多媒體導論"><a href="#多媒體導論" class="headerlink" title="多媒體導論"></a>多媒體導論</h1><p>最主要的工作是 Python 的小精靈專案，因為那個是要參加私立大學軟體什麼東西的。<br>不過實際參展的時候，發現全部學校都是用期末專題，只有我們這邊是課程專案……</p>
<p>當時的主要作品是多人連線版小精靈，但是連線 Server 的檔案（多人）丟失了，<br>純 Client 版本（單人）在 GitHub 可以找到。</p>
<div class="note success">
            <p>作業連結：<a href="https://github.com/tinytsunami/Python-Game" target="_blank" rel="noopener">GitHub: tinytsunami/Python-Game</a></p>
          </div>
<h1 id="影像處理課程"><a href="#影像處理課程" class="headerlink" title="影像處理課程"></a>影像處理課程</h1><p>影像處理課的作業是寫 C++ 程式，然後發布成果與心得到作業 Blog 上，<br>其實一直想轉寫所有的 Code 成 Javascript 版本到自己的 Blog，但之後再說。</p>
<div class="note success">
            <p>作業連結：<a href="http://hwshow-ipc.blogspot.com/search/label/04360783%20%E6%B2%88%E9%83%81%E7%BF%94" target="_blank" rel="noopener">影像處理作業 Blog</a></p>
          </div>
<p>題外話，這篇作業整理是因為找這個 Blog 找了老半天，<br>所以乾脆一次找好放在自己 Blog 裡。</p>
<h1 id="互動遊戲製作"><a href="#互動遊戲製作" class="headerlink" title="互動遊戲製作"></a>互動遊戲製作</h1><p>這門課的先修課是影像處理，而互動遊戲製作的 C++ 專案是一個學期的，<br>目標是製作一個透過 webcam 可以與人或環境「互動」的遊戲。<br>（當時剛好碰到 PokemonGo 熱潮，大概就是那樣的東西。）</p>
<p>我的專案很晚才做，是因為題目一直不確定，找靈感花了很多時間，<br>大部分時間都在 <a href="https://itch.io/" target="_blank" rel="noopener">itch.io</a> 尋找一些免費的獨立遊戲發掘靈感。</p>
<p>當時最吸引我的是 <a href="https://gamesbyjens.itch.io/kinoko" target="_blank" rel="noopener">KINOKO</a><br>我的個人分類為「禪遊戲」（畫面漂亮、安靜愜意，而且沒有明確目標的遊戲。）</p>
<p>最後是因為某個朋友圈剛好有養魚遊戲的訊息，加上某個朋友暱稱叫「魚」，<br>所以開始有一些想法，最後延伸成一些問題：<br>扭曲的畫面在程式上如何寫？把畫面當成魚缸如何？色調如何處理？景色如何搭配？</p>
<p>解決這些問題，就變成我的最終專案「養魚遊戲」。<br>（似乎很適合放在 Blog 當放置遊戲）</p>
<div class="note success">
            <p>作業連結：<a href="https://hwshow-vgc.blogspot.com/search/label/04360783%20%E6%B2%88%E9%83%81%E7%BF%94" target="_blank" rel="noopener">互動遊戲專案 Blog</a></p>
          </div>
<h1 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h1><p>「躲怪遊戲」是我從大學入學前就不斷在製作的遊戲，只是現在已經棄坑了，<br>一開始世界觀弄太大，雖然後來有做完，但是跟心目中的差太多就沒公開發布。</p>
<p>而且某一次把家裡 PC 的螢幕換成 1920*1080 以後，<br>才發現 RMVX 的視窗太小了，連我 Debug 盯著畫面都很痛苦。</p>
<p>意外翻到遊戲最後 Ending 的圖片，最後就放上這張圖片，<br>作為我大學時代的人生里程碑，正式劃下句點。</p>
<p><img src="https://i.imgur.com/FEDSAAz.jpg" alt="圖 1、躲怪遊戲完結圖之一"></p>
]]></content>
      <categories>
        <category>羊羽手札</category>
      </categories>
  </entry>
  <entry>
    <title>平均值與有效值證明</title>
    <url>/proof-mean-and-rms/</url>
    <content><![CDATA[<p>本篇原本從舊站搬過來時，因為內容比較偏門有考慮要刪掉。<br>但是後來想了想，作為私人筆記留下來了。<br><a id="more"></a></p>
<h1 id="交流電表示式"><a href="#交流電表示式" class="headerlink" title="交流電表示式"></a>交流電表示式</h1><p>在開始之前要先知道這個，<br>技職學校的話，大概是基本電學下半章的最後。</p>
<p>正弦波的情況：  </p>
<p>$$<br>v(t) = V_{m}sin(\omega(t)+\theta)<br>$$</p>
<p>其中 $V_{m}$ 為峰值（最大值）也就是 $V_{peak}$ 的意思，<br>除此之外，在 $sin$ 函數內的 $\omega$ 是角頻率（$\omega = \frac{2\pi}{T}$）。<br>最後 $\theta$ 是相位差。</p>
<h1 id="平均值"><a href="#平均值" class="headerlink" title="平均值"></a>平均值</h1><p>先來看比較簡易的平均值，平均值簡單的說就是取平均。<br>雖然聽起來像是廢話，畢竟正弦曲線誰沒看過？積分取個平均不就寫個 $0$ 而已嗎？<br>別忘了，正弦波在整流之後，它只剩下半波、或是全波。<br>也就是說，我們考慮的平均值，只要考量半波整流、或全波整流之後的就好。</p>
<h2 id="半波整流"><a href="#半波整流" class="headerlink" title="半波整流"></a>半波整流</h2><p>對於半波整流，由於截去 $sin$ 函數的負半周。<br>我們直接算它正半周（函數週期的一半）有多少面積、再除以它的週期 $T$ 就好。</p>
<p>$$<br>(\int_{0}^{\frac{T}{2}} v(t) \mathrm{d}t) / T<br>$$</p>
<p>正弦波全部的週期 $T = 2\pi$ </p>
<p>$$<br>V_{av} = (\int_{0}^{\pi} V_{m}sin(\omega(t)+\theta) \mathrm{d}t) / 2\pi<br>$$</p>
<p>角頻率 $\omega = \frac{2\pi}{T} = \frac{2\pi}{2\pi} = 1$、相位差 $\theta = 0$</p>
<p>$$<br>V_{av} = (\int_{0}^{\pi} V_{m}sin(t) \mathrm{d}t) / 2\pi<br>$$</p>
<p>積分中常數 $V_{m}$ 提到外面</p>
<p>$$<br>V_{av} = (V_{m} \int_{0}^{\pi} sin(t) \mathrm{d}t) / 2\pi<br>$$</p>
<p>對 $sin(t)$ 取反導數，準備結束這個積分</p>
<p>$$<br>\begin{align}<br>&amp; V_{av} = (V_{m} (-cos(t))\mid_{0}^{\pi}) / 2\pi \nonumber \\<br>&amp; V_{av} = (V_{m} (-cos(\pi) + cos(0))) / 2\pi \nonumber\\<br>&amp; V_{av} = (V_{m} (-(-1) + 1)) / 2\pi \nonumber\\<br>&amp; V_{av} = (V_{m} (1 + 1)) / 2\pi \nonumber\\<br>&amp; V_{av} = 2V_{m} / 2\pi \nonumber\\<br>&amp; V_{av} = V_{m} / \pi \nonumber\\<br>\end{align}<br>$$</p>
<p>得證半波整流的正弦波平均值為 $V_{m} / \pi$</p>
<h2 id="全波整流"><a href="#全波整流" class="headerlink" title="全波整流"></a>全波整流</h2><p>全波整流跟半波整流很像，基本上換湯不換藥。<br>直接算它正半周（函數週期的一半）有多少面積，並予以雙倍（負半週被轉正），<br>再除以它的週期 $T$ 就好。</p>
<p>$$<br>2(\int_{0}^{\frac{T}{2}} v(t) \mathrm{d}t) / T<br>$$</p>
<p>正弦波全部的週期 $T = 2\pi$ </p>
<p>$$<br>V_{av} = 2(\int_{0}^{\pi} V_{m}sin(\omega(t)+\theta) \mathrm{d}t) / 2\pi<br>$$</p>
<p>角頻率 $\omega = \frac{2\pi}{T} = \frac{2\pi}{2\pi} = 1$、相位差 $\theta = 0$</p>
<p>$$<br>V_{av} = 2(\int_{0}^{\pi} V_{m}sin(t) \mathrm{d}t) / 2\pi<br>$$</p>
<p>常數 $V_{m}$ 提到外面，順便把 $2$ 常數約掉</p>
<p>$$<br>\begin{align}<br>&amp; V_{av} = (V_{m} \int_{0}^{\pi} sin(t) \mathrm{d}t) / \pi \nonumber \\<br>&amp; V_{av} = (V_{m} (-cos(t))\mid_{0}^{\pi}) / \pi \nonumber \\<br>&amp; V_{av} = (V_{m} (-cos(\pi) + cos(0))) / \pi \nonumber \\<br>&amp; V_{av} = (V_{m} (-(-1) + 1)) / \pi \nonumber \\<br>&amp; V_{av} = (V_{m} (1 + 1)) / \pi \nonumber \\<br>&amp; V_{av} = 2V_{m} / \pi \nonumber \\<br>&amp; V_{av} = 2V_{m} / \pi \nonumber \\<br>\end{align}<br>$$</p>
<p>得證全波整流的正弦波平均值為 $2V_{m} / \pi$</p>
<h1 id="有效值"><a href="#有效值" class="headerlink" title="有效值"></a>有效值</h1><p>有效值比較機車，不過也沒啥困難的，<br>唯一要注意的是，它會用到三角函數的半角公式。<br>有效值又名「均方根」值，顧名思義：先開方平均、再取根號。  </p>
<p>對於連續函數 $f(x)$ 在區間 $[a, b]$ 來說：</p>
<p>$$<br>f(x) = \sqrt{\frac{1}{b - a}\int_{a}^{b} f(x)^2  \mathrm{d}x}<br>$$</p>
<p>寫成我們交流電的形式（區間在 $[0, 2\pi]$）：<br>$$<br>V_{rms} = \sqrt{\frac{1}{2\pi}\int_{0}^{2\pi} v(t)^2  \mathrm{d}t}<br>$$</p>
<p>我們來考慮半波、跟全波整流後的情況。</p>
<h2 id="半波整流-1"><a href="#半波整流-1" class="headerlink" title="半波整流"></a>半波整流</h2><p>半波整流中，負半週整個被刪去。<br>所以說，我們積分的區間要改成 $[0, \pi]$ 才正確。</p>
<p>$$<br>V_{rms} = \sqrt{\frac{1}{2\pi}\int_{0}^{\pi} v(t)^2  \mathrm{d}t}<br>$$</p>
<p>把 $v(t)$ 代換掉，另外角頻率 $\omega = \frac{2\pi}{T} = \frac{2\pi}{2\pi} = 1$、相位差 $\theta = 0$。</p>
<p>$$<br>\begin{align}<br>&amp; V_{rms} = \sqrt{\frac{1}{2\pi}\int_{0}^{\pi} (V_{m}sin(\omega(t)+\theta))^2  \mathrm{d}t} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{1}{2\pi}\int_{0}^{\pi} (V_{m}sin(t))^2  \mathrm{d}t} \nonumber \\<br>\end{align}<br>$$</p>
<p>把積分那邊的平方移進去，常數 $V_{m}^{2}$ 移出積分。</p>
<p>$$<br>V_{rms} = \sqrt{\frac{V_{m}^2}{2\pi}\int_{0}^{\pi} sin(t)^2  \mathrm{d}t}<br>$$</p>
<p>接下來很關鍵，半角公式登場 $sin^{2}(x) = \frac{1}{2}(1 - cos(2x))$  </p>
<p>$$<br>V_{rms} = \sqrt{\frac{V_{m}^2}{2\pi}\int_{0}^{\pi} \frac{1}{2}(1 - cos(2x)) \mathrm{d}t}<br>$$</p>
<p>常數通通丟出去。</p>
<p>$$<br>V_{rms} = \sqrt{\frac{V_{m}^2}{4\pi}\int_{0}^{\pi} 1 - cos(2x) \mathrm{d}t}<br>$$</p>
<p>取 $1 - cos(2x)$ 的反導數準備結束積分。</p>
<p>$$<br>\begin{align}<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{4\pi} (x - \frac{1}{2}sin(2x))\mid_{0}^{\pi}} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{4\pi} (\pi - \frac{1}{2}sin(2\pi)) - (0 - \frac{1}{2}sin(0))} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{4\pi} (\pi - \frac{1}{2}sin(2\pi)) - (0 - 0)} \nonumber \\<br>\end{align}<br>$$</p>
<p>當中 $sin(2\pi) = 0$ 直接拿掉</p>
<p>$$<br>\begin{align}<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{4\pi} (\pi - 0)} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{(V_{m}^2)(\pi)}{4\pi}} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{(V_{m}^2)}{4}} \nonumber \\<br>&amp; V_{rms} = \frac{\sqrt{V_{m}^2}}{\sqrt{4}} \nonumber \\<br>&amp; V_{rms} = \frac{V_{m}}{2}  \nonumber \\<br>\end{align}<br>$$</p>
<p>半波整流的有效值，是最大值（峰值）的一半。</p>
<h2 id="全波整流-1"><a href="#全波整流-1" class="headerlink" title="全波整流"></a>全波整流</h2><p>在積分那邊，取個雙倍而已。</p>
<p>$$<br>\begin{align}<br>&amp; V_{rms} = \sqrt{\frac{1}{2\pi} 2\int_{0}^{\pi} v(t)^2  \mathrm{d}t} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{1}{\pi}\int_{0}^{\pi} (V_{m}sin(\omega(t)+\theta))^2  \mathrm{d}t} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{1}{\pi}\int_{0}^{\pi} (V_{m}sin(t))^2  \mathrm{d}t} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{\pi}\int_{0}^{\pi} sin(t)^2  \mathrm{d}t} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{\pi}\int_{0}^{\pi} \frac{1}{2}(1 - cos(2x)) \mathrm{d}t} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{2\pi}\int_{0}^{\pi} 1 - cos(2x) \mathrm{d}t} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{2\pi} (x - \frac{1}{2}sin(2x))\mid_{0}^{\pi}} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{2\pi} (\pi - \frac{1}{2}sin(2\pi)) - (0 - \frac{1}{2}sin(0))} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{2\pi} (\pi - \frac{1}{2}sin(2\pi)) - (0 - 0)} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{V_{m}^2}{2\pi} (\pi - 0)} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{(V_{m}^2)(\pi)}{2\pi}} \nonumber \\<br>&amp; V_{rms} = \sqrt{\frac{(V_{m}^2)}{2}} \nonumber \\<br>&amp; V_{rms} = \frac{\sqrt{V_{m}^2}}{\sqrt{2}} \nonumber \\<br>&amp; V_{rms} = \frac{V_{m}}{\sqrt{2}} \nonumber \\<br>\end{align}<br>$$</p>
]]></content>
      <categories>
        <category>基本電學與電子學</category>
      </categories>
  </entry>
  <entry>
    <title>先驗算法 Apriori Algorithm</title>
    <url>/apriori-algorithm/</url>
    <content><![CDATA[<p>資料探勘的文章，多半是我大學資料探勘課程的筆記之類的東西，<br>因為覺得內容有點雜，不是很難，就是很多東西。</p>
<p>所以想開個文章逐一紀錄。以後找資料也方便一點這樣。<br>不過課程吸收的感覺對這個領域把握不高，有錯誤還請見諒就是了。<br><a id="more"></a></p>
<h1 id="關聯規則"><a href="#關聯規則" class="headerlink" title="關聯規則"></a>關聯規則</h1><p>關聯規則是類似這樣的一個問題：<br><div class="note info">
            <p>如果我的客戶買了某個商品，那麼要再推薦什麼商品呢？</p>
          </div></p>
<p>想當然的，推薦的商品一定是那個「很有可能被加購的」商品。</p>
<p>那麼，我要怎知道客戶有可能加購什麼呢？<br>事實上，我們大概可以猜到一些事情。  </p>
<ul>
<li>與「客戶的屬性」相關<ul>
<li>客戶是學生，而他剛剛買了筆，是不是折扣的話會買更多？</li>
<li>客戶是廚師的話呢？</li>
</ul>
</li>
<li>與「外在的屬性」相關<ul>
<li>天氣炎熱的話，買了午餐再買飲料的關聯，是不是會被加強？</li>
<li>天氣涼爽的話呢？</li>
</ul>
</li>
<li>與「先前購買的商品」相關  <ul>
<li>買了鐵鎚，是不是會繼續選購釘子呢？</li>
<li>推薦買了鐵鎚的人麵包如何？</li>
</ul>
</li>
</ul>
<p>而資料探勘當中，有一些方法，可以去得到這些關聯規則，</p>
<p>對於商業行為來說，資料探勘的重點就是找到這些隱含在資料中的「商機」。<br>然而這三種可能，我們通常關注第三種，也就是「先前購買的商品」相關的部份。</p>
<p>至於為什麼呢？看下面的例子，然後想想看：  </p>
<ul>
<li>某個男人在賣場中買了一個麵包，所以男人的職業是？</li>
<li>早上天氣還很熱，下午開始轉涼了。</li>
</ul>
<h1 id="支持率與可信度"><a href="#支持率與可信度" class="headerlink" title="支持率與可信度"></a>支持率與可信度</h1><p>在開始進行算法之前，得先介紹一下：</p>
<p>支持率（Support）以及可信度（Confidence）這兩個參數。  </p>
<ul>
<li>支持率：出現的概率。</li>
<li>可信度：條件機率，當商品出現時，出現另一件商品的概率。</li>
</ul>
<p>下面做一些描述：  </p>
<p>$Support(A) = P(A)$<br>$Confidence(A \Rightarrow B) = P(B \mid A)$  </p>
<p>參數的作用，從這裡可以發現一些指標：</p>
<div class="note info">
            <p>支持率代表一條規則的重要程度。</p>
          </div>
<p>$Confidence(A \Rightarrow B) = 99%, Support({A, B}) = 1%$</p>
<p>雖然買了 A 商品，幾乎也會買 B 商品，但出現這種買法相當罕見。<br>如果很少人會這樣買，是不是就沒有商機呢？</p>
<div class="note info">
            <p>可信度代表一條規則的準確程度</p>
          </div>
<div class="note info">
            <p>想想看，有沒有可能出現可信度很高、但支持率很低的情況？</p>
          </div>
<p>$Confidence(A \Rightarrow B) = P(B \mid A) = \frac{P(A \cap B)}{P(A)} = \frac{Support({A, B})}{P(A)}$</p>
<h1 id="先驗算法"><a href="#先驗算法" class="headerlink" title="先驗算法"></a>先驗算法</h1><p>先驗算法（Apriori Algorithm）是資料探勘中的一種基本方法，<br>讓我們可以從資料中取得這些關聯規則。</p>
<p>實際操作的說明：  </p>
<ul>
<li>設定 $\text{minimum_support}$</li>
<li>計算每種商品的 $\text{support}$</li>
<li>刪去 $\text{support}$ 小於 $\text{minimum_support}$ 的商品</li>
<li>組合剩下的商品</li>
<li>重複 2 ～ 4 步，直到無法組合或滿足其他停止條件</li>
<li>計算所有的 $\text{confidence}$</li>
</ul>
<p>公式化：  </p>
<ul>
<li>$\alpha = \text{Minimum Support}, X_{0} = \text{All Objects}$</li>
<li>$X_{p+1} = { x_{i} \cup x_{j} : support(x_{i}) &gt; \alpha \land support(x_{j}) &gt; \alpha , x_{i} \neq x_{j}, \forall x_{i}, x_{j} \in X_{p} }$</li>
<li>$\text{Repeat step.2, until } X_{n} = \varnothing$</li>
</ul>
<p>大致上就這個樣子，直到 $X$ 無法組合為止，而這時的最長規則，長度為 $n-1$ 單位，<br>很多時候，由於要人工篩選規則，所以所有出現過的 $X$ 都要考慮。</p>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><iframe scrolling="no" width="100%" height="400px" src="//jsfiddle.net/okfyq5ub/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>堆疊與佇列 Stack and Queue</title>
    <url>/stack-and-queue/</url>
    <content><![CDATA[<p>本文僅為資料結構的筆記。</p>
<p>對於較高階的語言來說有許多現成的函式庫，<br>儘管如此，還是需要瞭解基本規則。<br><a id="more"></a></p>
<h1 id="堆疊"><a href="#堆疊" class="headerlink" title="堆疊"></a>堆疊</h1><p>堆疊是一種基本結構，核心的思維是「先進後出」。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//create stack</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">stack</span>[SIZE];</span><br><span class="line"><span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//stack push data</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>[top++] = data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//stack pop data</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">stack</span>[--top];</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>這是 C/C++ 的作法，<br>對於更高階的語言（比方說 JavaScript）來說，<br>這些功能都已經內建了。</p>
<div class="note info">
            <p>實際上 C++ STL 有內建；另外雖然建立很簡單，但 C 語言方面也有函示庫可以使用。</p>
          </div>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">var</span> stack = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">//create stack</span></span><br><span class="line">stack.push(..);          <span class="comment">//stack push data</span></span><br><span class="line">stack.pop(..);           <span class="comment">//stack pop data</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p>接下來來看看基本堆疊的資料進出方式。</p>
<iframe scrolling="no" width="100%" height="300px" src="//jsfiddle.net/6xb1L6my/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="佇列"><a href="#佇列" class="headerlink" title="佇列"></a>佇列</h1><p>佇列是一種基本結構，核心的思維是「先進先出」。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//create queue</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">queue</span>[SIZE];</span><br><span class="line"><span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//queue push data</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>[top++] = data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//queue shift data</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">shift</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> data = <span class="built_in">queue</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; i++)</span><br><span class="line">        <span class="built_in">queue</span>[i] = <span class="built_in">queue</span>[i + <span class="number">1</span>];</span><br><span class="line">    top--;</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>這是C/C++的作法，<br>對於更高階的語言（比方說 JavaScript）來說，<br>這些功能都也已經內建了。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">var</span> queue = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">//create queue</span></span><br><span class="line">queue.push(..);          <span class="comment">//queue push data</span></span><br><span class="line">queue.shift(..);         <span class="comment">//queue shift data</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h2><p>接下來來看看基本佇列的資料進出方式。</p>
<iframe scrolling="no" width="100%" height="300px" src="//jsfiddle.net/zfq3ucak/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>拉格朗日插值 Lagrange polynomial interpolation</title>
    <url>/lagrange-polynomial-interpolation/</url>
    <content><![CDATA[<p>第一次認識拉格朗日插值，源自於名叫 Paint.NET 的繪圖軟體，<br>這個軟體陪我走過 RPG Maker VX 的許多歲月。</p>
<a id="more"></a>
<p>當初在尋找適合製作 Pixel art 的軟體時，筆者當時選擇軟體的條件是「既不能太複雜、也不能太陽春」。<br>因緣際會遇到了 Paint.NET，它的功能足夠，操作也很簡單，所以我很快就喜歡上了。</p>
<p><img src="https://i.imgur.com/WCnpBLH.jpg" alt="圖 1、個人製作的遊戲畫面圖（素材皆為 Paint.NET 繪製）"></p>
<p>當時除了用它製作基本的 Pixel 素材之外，也會用它做一些遊戲的特殊效果（像光影）之類的，<br>它其中一個重要的功能是「設定各個顏色的曲線」：</p>
<p><img src="https://i.imgur.com/fw0N6s6.jpg" alt="圖 2、Paint.NET 的曲線功能"></p>
<p>當時就在想，要怎麼實作這個功能呢？網路上一查，就碰到「拉格朗日（Lagrange）插值」了！</p>
<h1 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h1><p>插值，意思就是手上有一些資料點：</p>
<p>$\{(x_0, y_0), (x_1, y_1), (x_2, y_2) …, (x_{n-1}, y_{n-1})\}$</p>
<p>找一個函數，去「穿過」這些點：</p>
<p>$f(x_i) = y_i, \quad i = 0, 1, …, n-1$</p>
<p>而這邊接下來討論的是「多項式插值」，<br>也就是說，我們預期 $f(x)$ 是一個多項式，我們表示成 $P(x)$</p>
<div class="note success">
            <p>建議閱讀 <a href="/linear-regression-and-gradient-descent/" title="線性回歸與梯度下降 Linear Regression and Gradient Descent">線性回歸與梯度下降 Linear Regression and Gradient Descent</a><br>比較「插值（interpolation）」跟「擬合（fitting）」的差別。</p>
          </div>
<div class="note info">
            <p>插值可以細分為內插（interpolation）與外插（extrapolation）；<br>一般說插值是指內插，而如果預測的點出現在資料點的最大區間之外，則稱為外插。</p>
          </div>
<h1 id="拉格朗日插值"><a href="#拉格朗日插值" class="headerlink" title="拉格朗日插值"></a>拉格朗日插值</h1><p>拉格朗日插值多項式：</p>
<p>$$<br>P(x) = \sum\limits_{i=0}^{n-1} y_i \ell_i(x)<br>$$</p>
<p>其中 $\ell_i(x)$ 為插值基函數：</p>
<p>$$<br>\ell_i(x) = \prod\limits_{j=0, j \neq i}^{n-1} \frac{(x - x_i)}{(x_i - x_j)}<br>$$</p>
<p>因為有特性：<br>$$<br>\ell_i(x_j) = \delta_{ij} =<br>\begin{cases}<br>    1, \qquad\text{if } i = j \\<br>    0, \qquad\text{if } i \neq j \\<br>\end{cases}<br>$$</p>
<div class="note info">
            <p>式中的 $\delta_{ij}$ 是指 <a href="https://en.wikipedia.org/wiki/Kronecker_delta" target="_blank" rel="noopener">克羅內克 delta 函數 (Kronecker delta function)</a></p>
          </div>
<p>導致任意點對 $(x_k, y_k)$ 帶入後都有：</p>
<p>$$<br>y_k \ell_k(x_k) = y_k<br>$$</p>
<p>所以 $P(x)$ 必可穿過 $0, 1, …, n-1$ 所有的點對。</p>
<h1 id="多項式的點值表示"><a href="#多項式的點值表示" class="headerlink" title="多項式的點值表示"></a>多項式的點值表示</h1><p>插值在最初我看到時，是用在影像處理編輯圖片的操作上；<br>直到有次在《算法導論》中看到插值結果的唯一性證明，發現它也可以用多項式的點值表示，<br>更進一步可以用在計算快速傅立葉轉換上。</p>
<p>原本我們是有點對：<br>$\{(x_0, y_0), (x_1, y_1), (x_2, y_2) …, (x_{n-1}, y_{n-1})\}$</p>
<p>透過這些點對找多項式函數，也就是多項式函數的係數，滿足：</p>
<p>$$<br>P(x_k) = a_0 + a_1x_k + a_2x_k^2 + \dots + a_{n-1}x_k^{n-1} = y_k, \quad k = 0, 1, \dots, n-1<br>$$</p>
<p>通常我們都將 $x$ 當成函數輸入，即 $Ax = y$；<br>但現在我們改以 $a$ 當成函數輸入，並將 $k$ 展開，表示成矩陣有：</p>
<p>$$<br>Xa = y<br>$$</p>
<p>$$<br>\left[ \begin{matrix}<br>1 &amp; x_{0} &amp; x_{0}^{2} &amp; \dots &amp; x_{0}^{n-1} \\<br>1 &amp; x_{1} &amp; x_{1}^{2} &amp; \dots &amp; x_{1}^{n-1} \\<br>\vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>1 &amp; x_{n-1} &amp; x_{n-1}^{2} &amp; \dots  &amp; x_{n-1}^{n-1}<br>\end{matrix} \right]<br>\left[ \begin{matrix}<br>a_{0} \\<br>a_{1} \\<br>\vdots \\<br>a_{n-1}<br>\end{matrix} \right]<br>=<br>\left[ \begin{matrix}<br>y_{0} \\<br>y_{1} \\<br>\vdots \\<br>y_{n-1}<br>\end{matrix} \right]<br>$$</p>
<p>其中 $X$ 為 <a href="https://zh.wikipedia.org/wiki/%E8%8C%83%E5%BE%B7%E8%92%99%E7%9F%A9%E9%99%A3" target="_blank" rel="noopener">Vandermonde 矩陣</a><br>當 $i \neq j$ 時，有 $x_i \neq x_j$，則行列式 $det(X) \neq 0$<br>$X$ 可逆，代表唯一存在一組 $a$ 是唯一解，滿足 $Xa = y$</p>
<p>既然係數 $a$ 是唯一的，那多項式函數 $P(x)$ 也是唯一的，<br>代表了，表示多項式時，我有兩種選擇方法：</p>
<ol>
<li>直接儲存 $a_0, a_1, \dots, a_n$ 共 $n$ 個係數</li>
<li>儲存 $(x_0, y_0), (x_1, y_1), (x_2, y_2) …, (x_{n-1}, y_{n-1})$ 共 $n$ 組點對</li>
</ol>
<p>而第二種儲存點對的方式，被稱為多項式的「點值表示」。</p>
<div class="note info">
            <p>點值表示有一些很有趣的性質，<br>比方說兩個多項式相乘的複雜度，在係數表示時是 $\Theta(n^2)$，但在點值表示僅需 $\Theta(n)$。</p>
          </div>
<p>至於用點值表示做其他事情，就超出本文的範圍了。</p>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><p>這個演示可以上傳一張照片，用插值曲線調整顏色。</p>
<iframe scrolling="no" width="100%" height="600px" src="//jsfiddle.net/hyjb39e7/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>羊羽手札更新歷程 02</title>
    <url>/tinytsunami-update-02/</url>
    <content><![CDATA[<p>這學期一開始還好，期中之後就很忙，<br>這個部落格也就在後半學期暫緩一下子了。</p>
<p>隨暑假的到來，雖然還是有很多事情，<br>但筆者又開始比較有空了，會趁暑假會繼續寫新文章。<br><a id="more"></a></p>
<h1 id="更新歷程"><a href="#更新歷程" class="headerlink" title="更新歷程"></a>更新歷程</h1><ul>
<li>2016.10.24 羊羽手札v1（PHP）</li>
<li>2017.12.18 羊羽手札v2（Vue.js+Express）</li>
<li>2017.02.25 羊羽手札v3（Hexo）</li>
<li>2017.02.25 更新歷程 01 發表</li>
<li>2018.07.01 更新歷程 02 發表</li>
</ul>
<h1 id="雜記"><a href="#雜記" class="headerlink" title="雜記"></a>雜記</h1><p>到目前為止，羊羽手札感覺還可以，<br>很多文章沒有發表的原因是很懶得打 LaTeX 公式。</p>
<p>下一幾篇「預計」會是：</p>
<ul>
<li>推盤遊戲 N-puzzle</li>
<li>全連接神經網路 Fully Connected Neural Network</li>
<li>前、中及後序 Preorder, Inorder and Postorder</li>
<li>…</li>
</ul>
<p>這學期上了人工智慧（古典）的內容，<br>其中包含了「推盤遊戲 N-puzzle」的搜索與解法。</p>
<p>考完期末考的時候，就已經把演示的核心大致寫好了，<br>但動畫真的不好做，而且可能還需要改一些程式碼才能發表。</p>
<p>全連接神經網路是舊坑，很早就該寫了，<br>只是對反向傳播演算法的推導，沒自信可以寫得很容易懂，<br>另外公式不好打（矩陣的部分）</p>
<h1 id="禮物演示"><a href="#禮物演示" class="headerlink" title="禮物演示"></a>禮物演示</h1><p>真的很感謝讀者的支持（雖然我不知道有誰 XD）<br>這個原本是「<a href="/HTML5-Cordova-Android-APP-1/" title="HTML5 Cordova Android APP 環境配置">HTML5 Cordova Android APP 環境配置</a>」文章續篇所使用的演示。</p>
<p>本來是要做成 Missile Command 的文青版，也就是「雨輕輕的飄落在屏幕上」的感覺，<br>後來關卡設計做一做，變成除了下雨，還加了黑雨（小說《黒い雨》）及隕石撞地球。</p>
<p>最後腦洞開太大，後來就只做成類似遊戲畫面的東西了。<br>（這張照片是筆者拍的，是我們學校後山。）</p>
<iframe scrolling="no" width="100%" height="520px" src="//jsfiddle.net/8epx9rvo/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>羊羽手札</category>
      </categories>
  </entry>
  <entry>
    <title>羊羽手札更新歷程 01</title>
    <url>/tinytsunami-update-01/</url>
    <content><![CDATA[<p>將網站更新成 Hexo 框架。<br>最主要的原因是舊的 Blog 系統當初寫得太急促，而且往往為了嘗試新東西而直接邊學邊做，導致系統問題有點多。<br>在重複考慮之下，決定改成目前的模式。這篇文章接下來寫的，是「羊羽手札」建立到目前為止的雜事以及更新狀況。<br><a id="more"></a></p>
<h1 id="更新歷程"><a href="#更新歷程" class="headerlink" title="更新歷程"></a>更新歷程</h1><ul>
<li>2016.10.24 羊羽手札v1（PHP）</li>
<li>2017.12.18 羊羽手札v2（Vue.js+Express）</li>
<li>2017.02.25 羊羽手札v3（Hexo）</li>
</ul>
<h1 id="雜記"><a href="#雜記" class="headerlink" title="雜記"></a>雜記</h1><p>到目前為止，羊羽手札的特徵是文章頁面中有 JS 演示的部分，先談談之前的做法。<br>最早的 PHP 頁面想要時做這個部份時，想到的做法是將 HTML 直接寫到資料庫，然後 CSS 採用行內樣式，比方說：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo_01"</span> <span class="attr">style</span>=<span class="string">"..."</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">...</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">...</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>因為透過編輯器寫入，需要跳脫過濾一些 HTML（像是 script 標籤）以及 JS 語法。<br>所以 JS 是另外上傳單個檔案，採用外鏈式加載：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> root = <span class="built_in">document</span>.getElementById(<span class="string">"demo_01"</span>);</span><br><span class="line">    ...</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<p>這個的主要問題在於，每次更新系統時，<br>需要檢查 JS 檔案是否還在（有時會改動檔案上傳的部分、或遷移主機商平台等等）<br>也因為這件事，我有遺失幾個文章內的 JS 演示腳本。</p>
<p>經過考慮後，第 3 版的羊羽手札，屆時將會改成 HTML、CSS、JS 遊樂場（JSbin、JSfiddle 或 Codepen）來嵌入演示。</p>
]]></content>
      <categories>
        <category>羊羽手札</category>
      </categories>
  </entry>
  <entry>
    <title>直方圖均化 Histogram Equalization</title>
    <url>/histogram-equalization/</url>
    <content><![CDATA[<p>之前影像處理課有寫過直方圖均化（Histogram Equalization）的程式，<br>這篇是重新紀錄做法，以及提供 Web 的演示。</p>
<a id="more"></a>
<p>因為最近稍微小忙，為了保持每月更新的步調，<br>所以挑了一個比較簡單的主題先寫這樣 XD”</p>
<div class="note success">
            <p>請參閱 <a href="/ming-chuan-university-homework/" title="我的大學作業整理">我的大學作業整理</a> 的「影像處理課程」部分。</p>
          </div>
<h1 id="色階與直方圖"><a href="#色階與直方圖" class="headerlink" title="色階與直方圖"></a>色階與直方圖</h1><p>圖片的「色階」（level）是統計圖片像素的灰階亮度或各顏色分量，<br>然後依照其值與像素的數量，畫成一張直方圖（histogram）如圖 1 所示：</p>
<p><img src="https://i.imgur.com/Ms1N4xX.png" alt="圖 1、Paint.net 中的色階"></p>
<div class="note info">
            <p>嚴格說，色階是顏色亮度的強弱，但直方圖是表示色階的一種圖表；<br>表示色階未必要用直方圖，而且直方圖的 X 與 Y 軸也不見得是亮度與數量。</p>
          </div>
<h1 id="直方圖均化"><a href="#直方圖均化" class="headerlink" title="直方圖均化"></a>直方圖均化</h1><p>直觀地說，直方圖均化（histogram equalization）做法是紀錄圖像中，每個像素（pixel）的亮度（brightness），<br>然後根據「每個像素亮度的數量」重新分配亮度的過程，具體作法如下：</p>
<ol>
<li>初始化直方圖 $h(c, v) = 0 \ \forall c, v$ 其中 $c \in \{0, 1, 2\}$ 為顏色分量，而 $v = [0, 255] \in N$ 為統計數量</li>
<li>遍歷所有像素，計算出直方圖 $h(c, v)$</li>
<li>根據直方圖 $h$ 算出累積分布函數（Cumulative Distribution Function, CDF）<br>其定義為 $CDF(c, v) = \sum_{i = 0}^{v} h(c, i)$</li>
<li>按 $CDF$ 比例，重新分配像素 $p(c)$ 顏色 $c$ 的亮度值，定義為：</li>
</ol>
<p>$$<br>p_{new}(c) = round\left(\text{color_range} \cdot \frac{p_{old}(c) - CDF_{min}(c)}{\text{image_size} - CDF_{min}(c)}\right) \ \forall c<br>$$</p>
<p>其中，根據累積分布函數的定義，有 $CDF_{min}(c) = CDF(c, 0)$ 的關係，<br>而 $\text{color_range}$ 是該顏色 $c$ 的最大值、$\text{image_size}$ 的圖片像素總數（寬、高相乘），<br>另外就是 $round$ 函數實際上可以根據需要調整（常見的候選為 $floor(x)$ 及 $ceil(x)$ 函數）。</p>
<p>具體的程式如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 直方圖初始化 */</span></span><br><span class="line"><span class="keyword">let</span> histogram = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">3</span>&#125;, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">256</span>&#125;, () =&gt; <span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 遍歷所有像素 */</span></span><br><span class="line"><span class="keyword">let</span> pixels = imgData.data;                              <span class="comment">// 讀取的圖片值，存在 ImageData 中</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, l = pixels.length; i &lt; l; i += <span class="number">4</span>) &#123;     <span class="comment">// 每個像素都有紅, 綠, 藍及透明度，共 4 個值</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="number">3</span>; c += <span class="number">1</span>) &#123;                      <span class="comment">// 紀錄 3 種顏色的數量</span></span><br><span class="line">    histogram[c][pixels[i + c]] += <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 累積分布函數初始化 */</span></span><br><span class="line"><span class="keyword">let</span> cdf = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">3</span>&#125;, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">256</span>&#125;, () =&gt; <span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 計算累積分布函數 */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="number">3</span>; c += <span class="number">1</span>) &#123;                        <span class="comment">// 遍歷所有顏色</span></span><br><span class="line">  cdf[c][<span class="number">0</span>] = histogram[c][<span class="number">0</span>];                          <span class="comment">// 紀錄第一個數量值</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="number">256</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">    cdf[c][i] = cdf[c][i - <span class="number">1</span>] + histogram[c][i];        <span class="comment">// 累計後面所有數量的值</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 定義一些變數 */</span></span><br><span class="line"><span class="keyword">let</span> w = imgData.width;                                  <span class="comment">// 舊圖片的寬度</span></span><br><span class="line"><span class="keyword">let</span> h = imgData.height;                                 <span class="comment">// 舊圖片的高度</span></span><br><span class="line"><span class="keyword">let</span> max = w * h;                                        <span class="comment">// 圖片的像素總數（image_size = width*height）</span></span><br><span class="line"><span class="keyword">let</span> newData = imageContext.createImageData(w, h);       <span class="comment">// 宣告新圖片</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 開始直方圖均化 */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt; <span class="number">3</span>; c += <span class="number">1</span>) &#123;                        <span class="comment">// 遍歷所有顏色</span></span><br><span class="line">  <span class="keyword">let</span> min = cdf[c][<span class="number">0</span>];                                  <span class="comment">// 取的該顏色最小 CDF 值</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, l = pixels.length; i &lt; l; i += <span class="number">4</span>) &#123;   <span class="comment">// 遍歷所有像素</span></span><br><span class="line">    <span class="keyword">let</span> v = cdf[c][pixels[i + c]];                      <span class="comment">// 取得 CDF 值</span></span><br><span class="line">    <span class="keyword">let</span> r = (v - min) / (max - min);                    <span class="comment">// 計算該 CDF 值的比例</span></span><br><span class="line">    newData.data[i + c] = <span class="built_in">Math</span>.round(<span class="number">255</span> * r);          <span class="comment">// 設定新圖片的像素顏色（color_range = 255）</span></span><br><span class="line">    newData.data[i + <span class="number">3</span>] = <span class="number">255</span>;                          <span class="comment">// 設定新圖片的像素透明度</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note success">
            <p>關於讀取、顯示圖片，請參考 <a href="/javascript-file-process/" title="JavaScript 檔案處理">JavaScript 檔案處理</a> 及 <a href="https://developer.mozilla.org/en-US/docs/Web/API/ImageData" target="_blank" rel="noopener">MDN ImageData</a> 相關文章。</p>
          </div>
<div class="note info">
            <p>在 Paint.net 軟體中的「自動色階」功能，就是「直方圖均化」。</p>
          </div>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><iframe scrolling="no" width="100%" height="600px" src="//jsfiddle.net/9v4xg21t/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<div class="note info">
            <p>重複執行多次直方圖均化時，由於浮點數經過 $round(x)$ 函數，<br>會導致直方圖有時候會有稍微差異（約 1 個亮度值），但是對於圖片來說，並不會造成視覺上的改變。</p>
          </div>
]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>羊羽手札更新歷程 04</title>
    <url>/tinytsunami-update-04/</url>
    <content><![CDATA[<p>最近比較開始有時間重新開始維護部落格了。<br><a id="more"></a></p>
<h1 id="更新歷程"><a href="#更新歷程" class="headerlink" title="更新歷程"></a>更新歷程</h1><ul>
<li>2016.10.24 羊羽手札v1（PHP）</li>
<li>2017.12.18 羊羽手札v2（Vue.js+Express）</li>
<li>2017.02.25 羊羽手札v3（Hexo）</li>
<li>2017.02.25 更新歷程 01 發表</li>
<li>2018.07.01 更新歷程 02 發表</li>
<li>2018.09.24 暫停更新</li>
<li>2018.09.24 更新歷程 03 發表</li>
<li>2019.03.28 重啟更新</li>
<li>2019.04.20 羊羽手札v4（Hexo/Next Update）</li>
<li>2019.04.20 更新歷程 04 發表</li>
</ul>
<h1 id="系統更新"><a href="#系統更新" class="headerlink" title="系統更新"></a>系統更新</h1><ol>
<li>數學公式顯示系統「MathJax」的版本更新</li>
<li>文章中的標籤改成顯示圖示</li>
<li>留言系統更新</li>
<li>增加圖片的文字標題</li>
</ol>
]]></content>
      <categories>
        <category>羊羽手札</category>
      </categories>
  </entry>
  <entry>
    <title>羊與羊的草原 02</title>
    <url>/sheeps-02/</url>
    <content><![CDATA[<p>這篇是我的獨立遊戲《羊與羊的草原》開發的紀錄；<br>《羊與羊的牧場》已被更名為《羊與羊的草原》。</p>
<a id="more"></a>
<div class="note info">
            <p>本文為 v0.3 版《羊與羊的草原》的開發紀錄。</p>
          </div>
<h1 id="系統改動"><a href="#系統改動" class="headerlink" title="系統改動"></a>系統改動</h1><p>原本想說用牧場為單位可以對戰，中間有極少許的劇情過渡。</p>
<p>原本玩家所在牧場點 A、敵人牧場點 B，<br>如果兩者要鄰接交戰，要嘛 A 遷移到 B 旁邊，要嘛 B 遷移到 A 旁邊。</p>
<p>但是後來發現，我沒辦法說服玩家「為什麼牧場可以瞬間移動？」<br>本來想說設計一種空間移動的魔法石什麼的，覺得太微妙而作罷。</p>
<p>後來改成「建立移動車」之類的東西，遊戲中的術語稱為「Vessel」<br>玩家在過程中可以裝設容器與組織團隊，在各地移動。</p>
<p>於是《羊與羊的牧場》就被更名為《羊與羊的草原》了。</p>
<h1 id="開發紀錄"><a href="#開發紀錄" class="headerlink" title="開發紀錄"></a>開發紀錄</h1><p><img src="https://i.imgur.com/hg8R09t.png" alt="圖 1、Vessel 的設定畫面"></p>
<p>目前 Vessel 設定已經完成，玩家可以拖曳道具欄中的物品裝置於 Vessel 中。</p>
<div class="note info">
            <p>所有的設計都只是原型，實際情況可能還會改變。</p>
          </div>]]></content>
      <categories>
        <category>獨立遊戲製作</category>
      </categories>
  </entry>
  <entry>
    <title>羊與羊的草原 03</title>
    <url>/sheeps-03/</url>
    <content><![CDATA[<p>這篇是我的獨立遊戲《羊與羊的草原》開發的紀錄；<br>《羊與羊的牧場》已被更名為《羊與羊的草原》。</p>
<a id="more"></a>
<div class="note info">
            <p>本文為截至 v0.3.7 版的開發紀錄。</p>
          </div>
<h1 id="主要系統完成"><a href="#主要系統完成" class="headerlink" title="主要系統完成"></a>主要系統完成</h1><ol>
<li>修正釋放手中道具時 Stack overflow 錯誤</li>
<li>完成兩種投擲物件設計（直射與拋射）</li>
<li>修正道具視窗的判斷範圍錯誤</li>
<li>重構角色控制腳本</li>
</ol>
<p>這次主要更新都在投擲物件或相關操作上。</p>
<h1 id="投擲系統"><a href="#投擲系統" class="headerlink" title="投擲系統"></a>投擲系統</h1><p>原先系統設計是裝備武器，然後利用武器攻擊，<br>後來發現當玩家在 Vessel 上時，近戰武器變得相當弱勢；<br>若採全部遠程攻擊的話，原本的設計方法會讓戰鬥變化很平淡。</p>
<p>所以改成投擲物品進行攻擊，不同的物品有不同的攻擊軌道跟特色，<br>當然針對的物件也不同，主要來說分成：直射物品、拋射物品。</p>
<div class="note info">
            <p>移動車在遊戲中的術語稱為「Vessel」。</p>
          </div>
<h2 id="直射物品"><a href="#直射物品" class="headerlink" title="直射物品"></a>直射物品</h2><p>玩家蓄力的程度，將影響直射物品的飛行初速，<br>一旦物品速度降至一定量以下，便會消失。</p>
<p>直射物品針對的對象是 Vessel 的置物，<br>攻擊時，蓄力對速度影響相當大，<br>對 Vessel 移動的誤差也較小，命中率比較高。</p>
<p><img src="https://i.imgur.com/0ehhzso.gif" alt="圖 1、直射物：素材木頭"></p>
<h2 id="拋射物品"><a href="#拋射物品" class="headerlink" title="拋射物品"></a>拋射物品</h2><p>玩家蓄力的程度，將影響拋射物品的飛行高度，<br>一旦物品墜落至地面，便會消失。通常，拋射物體的攻擊距離非常遠。</p>
<p>拋射物的最大特點是可以越過 Vessel 的牆壁，攻擊內部的物品，<br>同時也是可以對 Vessel 地板造成攻擊的投擲物品，<br>當地版損毀時，上方的置物會全部損毀，對於戰局會造成很重要的結果。</p>
<p>儘管如此，拋射物依然得面對命中率的問題，拋射物體的高度會造成風力影響加劇，<br>射出的高度跟距離相關度非常高，這代表發射前需要蓄力不少時間。</p>
<p><img src="https://i.imgur.com/jg8BfE2.gif" alt="圖 2、拋射物：素材石頭"></p>
<div class="note info">
            <p>所有的設計都只是原型，實際情況可能還會改變。</p>
          </div>]]></content>
      <categories>
        <category>獨立遊戲製作</category>
      </categories>
  </entry>
  <entry>
    <title>羊羽手札更新歷程 03</title>
    <url>/tinytsunami-update-03/</url>
    <content><![CDATA[<p>原本以為暑假可以很閒，結果意外的忙，<br>沒意外的話，一直到明年過完年才會有時間更新。<br><a id="more"></a></p>
<h1 id="更新歷程"><a href="#更新歷程" class="headerlink" title="更新歷程"></a>更新歷程</h1><ul>
<li>2016.10.24 羊羽手札v1（PHP）</li>
<li>2017.12.18 羊羽手札v2（Vue.js+Express）</li>
<li>2017.02.25 羊羽手札v3（Hexo）</li>
<li>2017.02.25 更新歷程 01 發表</li>
<li>2018.07.01 更新歷程 02 發表</li>
<li>2018.09.24 暫停更新</li>
<li>2018.09.24 更新歷程 03 發表</li>
</ul>
]]></content>
      <categories>
        <category>羊羽手札</category>
      </categories>
  </entry>
  <entry>
    <title>羊與羊的草原 04</title>
    <url>/sheeps-04/</url>
    <content><![CDATA[<p>這篇是我的獨立遊戲《羊與羊的草原》開發的紀錄；<br>《羊與羊的牧場》已被更名為《羊與羊的草原》。</p>
<a id="more"></a>
<div class="note info">
            <p>本文為截至 v0.3.9 版的開發紀錄。</p>
          </div>
<h1 id="主要系統完成"><a href="#主要系統完成" class="headerlink" title="主要系統完成"></a>主要系統完成</h1><ol>
<li>完成地圖轉換的設計</li>
<li>精靈深度調整</li>
<li>第一章劇情製作</li>
<li>繪製精靈圖片</li>
</ol>
<p>這個版本最主要的工作是地圖設計。</p>
<h1 id="地圖規劃"><a href="#地圖規劃" class="headerlink" title="地圖規劃"></a>地圖規劃</h1><p>先介紹基本的地圖，如圖 1 所示，<br>一般的遊戲地圖大概是這樣，我相信理解起來並不困難。</p>
<p><img src="https://i.imgur.com/G3qVBaI.png" alt="圖 1、地圖設計：正常移動"></p>
<p>但我原本遊戲設計並不是如此，而是地圖是單張實體，<br>透過定義的座標去動態生成物件，也就是說：</p>
<p>假如玩家更新位置 $(dx, dy) = (+1, 0)$<br>則地圖上所有物件都執行 $(dx, dy) = (-1, 0)$<br>如圖 2 所示，實際上玩家是不移動的。</p>
<p><img src="https://i.imgur.com/mJcSlgA.png" alt="圖 2、地圖設計：相對式移動"></p>
<p>原本程式也寫出來了，不過後來沒有採用。</p>
<p>採用原本地圖設計的話，麻煩的是切換房間的情況，<br>但切換房間已經在 v0.3.8 中處理完了。</p>
<div class="note info">
            <p>移動車在遊戲中的術語稱為「Vessel」。</p>
          </div>
<h1 id="物品設計"><a href="#物品設計" class="headerlink" title="物品設計"></a>物品設計</h1><p>截至目前為止，物品已經整理完成，<br>雖然未來可能改變，但數量約是 275 件沒錯。</p>
<p>接下來介紹一些特殊的設計。</p>
<h2 id="金屬材料"><a href="#金屬材料" class="headerlink" title="金屬材料"></a>金屬材料</h2><p>除了開放世界（open world）常見的金、銀、銅、鐵之外，<br>另外，設計了錫、鋁、鉛三種金屬，分別對應：</p>
<ul>
<li>錫：用於搭配合成，但耐久度低</li>
<li>鋁：道具的堆疊數較高，武器直射類較多</li>
<li>鉛：道具的堆疊數較低，武器拋射類較多</li>
</ul>
<h2 id="岩石材料"><a href="#岩石材料" class="headerlink" title="岩石材料"></a>岩石材料</h2><p>岩石材料是合成 Vessel 裝置的重要材料，<br>比較特別的是「硓咕岩」與「花崗岩」</p>
<ul>
<li>硓咕岩：由近海岸處蒐集</li>
<li>花崗岩：由近山脈處蒐集</li>
</ul>
<h1 id="讀者禮物"><a href="#讀者禮物" class="headerlink" title="讀者禮物"></a>讀者禮物</h1><p>雖然不是很想公開地圖樣貌，<br>但是稍微透漏一些，來補這篇文章的圖好了。</p>
<div style="width: 300px"><img src="https://i.imgur.com/vZ2UUbw.gif" alt="圖 3、地圖畫面透漏"></div>

<div class="note info">
            <p>所有的設計都只是原型，實際情況可能還會改變。</p>
          </div>]]></content>
      <categories>
        <category>獨立遊戲製作</category>
      </categories>
  </entry>
  <entry>
    <title>羊與羊的牧場 01</title>
    <url>/sheeps-01/</url>
    <content><![CDATA[<p>這篇是我的獨立遊戲《羊與羊的牧場》開發的紀錄。<br><a id="more"></a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>原本都是發消息到 FB，但是後來覺得 FB 的文章之後好像找不到……<br>所以決定從版本 v0.2 開始，把開發的紀錄整理到 Blog。</p>
<h1 id="羊與羊的牧場故事"><a href="#羊與羊的牧場故事" class="headerlink" title="羊與羊的牧場故事"></a>羊與羊的牧場故事</h1><p>《羊與羊的牧場》是具經營成分的 RPG 遊戲。</p>
<p>很久以前，羊神從天降下傳說的肥料澆灌大地，<br>荒蕪的大地從此長出了黃金的牧草，羊群們稱這種肥料為「金肥（Gold fertilizer）」<br>使用金肥種出的黃金牧草被當作重要的資產在大陸上流通著……<br>現在，金肥資源已經接近枯竭，羊群陷入一片混亂之中。</p>
<p>玩家扮演著羊，經營拆遷式牧場，在羊之大陸上尋找金肥。</p>
<h1 id="開發紀錄"><a href="#開發紀錄" class="headerlink" title="開發紀錄"></a>開發紀錄</h1><div class="video-container"><iframe src="//www.youtube.com/embed/WQ8pBReNaOE" frameborder="0" allowfullscreen></iframe></div>
<p>這個版本完成了：</p>
<ul>
<li>紙娃娃系統</li>
<li>地圖及部分物件的設定</li>
</ul>
<p>雖然圖像還有可能再更動，不過暫時多少有遊戲原型的樣子了。</p>
<p><img src="https://i.imgur.com/C134U4E.gif" alt="圖 1、羊群們"></p>
<div class="note info">
            <p>所有的設計都只是原型，實際情況可能還會改變。</p>
          </div>]]></content>
      <categories>
        <category>獨立遊戲製作</category>
      </categories>
  </entry>
  <entry>
    <title>老鼠走迷宮 Mouse Maze</title>
    <url>/mouse-maze/</url>
    <content><![CDATA[<p>這是資料結構第三次作業。<br>本篇老鼠走迷宮會大致上分成：「生成迷宮」與「解出迷宮」兩個部分。<br><a id="more"></a></p>
<h1 id="建立迷宮"><a href="#建立迷宮" class="headerlink" title="建立迷宮"></a>建立迷宮</h1><p>老鼠走迷宮畢竟是一個經典問題，當然對於迷宮生成也是，<br>所以已經有許多很棒的網路資源可以參考了。</p>
<div class="note info">
            <p>我覺得很棒的 <a href="http://hctu.blogspot.tw/search?q=%E8%BF%B7%E5%AE%AE\" target="_blank" rel="noopener">參考資料</a></p>
          </div>
<div class="note success">
            <p>本文改寫前使用碎形結構建立迷宮。<!-- ；請參閱 [L系統與碎形 L-system and Fractal](/2018/03/03/L系統與碎形%20L-system%20and%20Fractal/#more) --></p>
          </div>
<p>那接下來，我就不重複裡面的內容，畢竟重複就沒有太大的意義。<br>我會依照我原先的想法來製作迷宮。</p>
<p>好的迷宮是又亂又複雜的，所以直觀的想法是：使用亂數。</p>
<p>參考室內結構來說，梁柱、牆板之類的部分是必要的；<br>我想迷宮也一樣，而且我們最好有一條路徑可以找到出口。</p>
<p>對於亂數生成的做法來講，以下提供基本操作的想法：</p>
<ul>
<li>產生入口</li>
<li>產生出口</li>
<li>格子狀佈滿柱子</li>
<li>柱子間隨機方向延伸 1 格成為牆板，或不延伸</li>
<li>輸出迷宮</li>
</ul>
<div class="note info">
            <p>好的迷宮有哪些特徵呢？</p>
          </div>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p>演示提供三個參數可以調整。</p>
<p>我增加了柱子間連接的機率，也就是說，即使選取了A、B兩個柱子。<br>也要剛好機會符合才相接牆面，間接降低了圖形的密度。</p>
<iframe scrolling="no" width="100%" height="560px" src="//jsfiddle.net/rzun2ogn/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="迷宮解法"><a href="#迷宮解法" class="headerlink" title="迷宮解法"></a>迷宮解法</h1><div class="note success">
            <p>本段需有堆疊與佇列的先備知識；請參閱 <a href="/stack-and-queue/" title="堆疊與佇列 Stack and Queue">堆疊與佇列 Stack and Queue</a></p>
          </div>
<p>其實在之前 ITSA 中就有這樣的題目，<br>當時是採用複製地圖副本且標記的作法來解，也順利解出來了。<br>其實是同一類的做法，只差在這邊多了一種資料結構來控制與調整。</p>
<p>有趣的是，如果直接在地圖上記錄哪裡走過，<br>最後輸出路徑還是需要掃描一次地圖。</p>
<p>下面是解法的粗略步驟：  </p>
<ol>
<li>堆疊初始化（存入第一步）</li>
<li>根據堆疊內的資料走出下一步</li>
<li>走出下一步時將資料存入堆疊</li>
<li>重複 2 ~ 3 步驟，直到堆疊為空或到達出口</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 給予第一步</span></span><br><span class="line"><span class="built_in">stack</span>.push((<span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line"><span class="comment">// 尚有路徑沒試</span></span><br><span class="line"><span class="keyword">while</span>(!<span class="built_in">stack</span>.empty())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 走回頭路</span></span><br><span class="line">    obj step = <span class="built_in">stack</span>.pop();</span><br><span class="line">    x = step.x;</span><br><span class="line">    y = step.y;</span><br><span class="line">    dir = step.dir;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// 嘗試每個方向</span></span><br><span class="line">    <span class="keyword">while</span>(dir)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 下一步的位置</span></span><br><span class="line">        u = x + dx;</span><br><span class="line">        v = y + dy;</span><br><span class="line">        <span class="comment">// 下一步可以通行</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">map</span>[u][v].through())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 把這步塞進堆疊</span></span><br><span class="line">            <span class="built_in">stack</span>.push((x, y));</span><br><span class="line">            <span class="comment">// 移動到下一步</span></span><br><span class="line">            x = u;</span><br><span class="line">            y = v;</span><br><span class="line">            <span class="comment">// 發現這步正是終點</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">map</span>[x][y].end?())</span><br><span class="line">                outputResult();</span><br><span class="line">            <span class="comment">//方向重置</span></span><br><span class="line">            dir.initialize();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 所有路徑都已經嘗試</span></span><br><span class="line"><span class="comment">// 但沒有走到終點，代表無解</span></span><br><span class="line">noResult();</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>這邊巧妙的利用方向重置來找路，並僅使用一行掉頭找其他路徑。<br><div class="note info">
            <p>迷宮的布局、嘗試方向的順序，皆會影響解出迷宮的時間。</p>
          </div></p>
<h2 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h2><iframe scrolling="no" width="100%" height="540px" src="//jsfiddle.net/suws2m74/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>羊羽手札更新歷程 05</title>
    <url>/tinytsunami-update-05/</url>
    <content><![CDATA[<p>總之雖然有點遲到，預祝 2020 諸事順遂；<br>然後接下來應該會準備發新文章了。</p>
<a id="more"></a>
<h1 id="更新歷程"><a href="#更新歷程" class="headerlink" title="更新歷程"></a>更新歷程</h1><ul>
<li>2016.10.24 羊羽手札v1（PHP）</li>
<li>2017.12.18 羊羽手札v2（Vue.js+Express）</li>
<li>2017.02.25 羊羽手札v3（Hexo）</li>
<li>2017.02.25 更新歷程 01 發表</li>
<li>2018.07.01 更新歷程 02 發表</li>
<li>2018.09.24 暫停更新</li>
<li>2018.09.24 更新歷程 03 發表</li>
<li>2019.03.28 重啟更新</li>
<li>2019.04.20 羊羽手札v4（Hexo/Next Update）</li>
<li>2019.04.20 更新歷程 04 發表</li>
<li>2020.02.25 更新歷程 05 發表</li>
</ul>
<h1 id="新年賀圖"><a href="#新年賀圖" class="headerlink" title="新年賀圖"></a>新年賀圖</h1><p><img src="https://i.imgur.com/3zotrQ3.png" alt="圖 1、2020 新年賀圖"></p>
]]></content>
      <categories>
        <category>羊羽手札</category>
      </categories>
  </entry>
  <entry>
    <title>Thinking at night</title>
    <url>/thinking-at-night/</url>
    <content><![CDATA[<p>這是一個蒐集我編曲作品的音樂遊戲。</p>
<p>當初看到國外素材全原創的遊戲，很想把這樣的風氣帶回 R 圈；<br>為此我跑去學了程式、美術跟音樂，目標是做出一個全原創的遊戲。</p>
<p>不過事情總是沒有這麼順利，許多專案都棄坑或塵封了……</p>
<a id="more"></a>
<p>自誤入作曲與編曲的領域後，就一直想做一個作品的大合集，<br>因緣際會看到 RPG 2020 比賽，就決定捲起袖子完成這個小小的夢想。</p>
<div class="note info">
            <p>同步發布於 <a href="https://forum.gamer.com.tw/C.php?bsn=4918&amp;snA=29415&amp;tnum=1" target="_blank" rel="noopener">巴哈姆特</a></p>
          </div>
<h1 id="遊戲介紹"><a href="#遊戲介紹" class="headerlink" title="遊戲介紹"></a>遊戲介紹</h1><p><img src="https://i.imgur.com/zPMiv63.png" alt="Thinking at night 封面圖"></p>
<p><strong>【遊戲名稱】</strong> Thinking at night<br><strong>【最新版本】</strong> v1.3<br><strong>【遊戲類型】</strong> 音樂遊戲<br><strong>【開發引擎】</strong> RPG Maker MV<br><strong>【檔案大小】</strong> 195 MB / 101 MB(zip)<br><strong>【遊玩時間】</strong> 約 60 分鐘<br><strong>【素材來源】</strong> 全自製<br><strong>【下載連結】</strong> <a href="https://tinytsunami.itch.io/thinking-at-night" target="_blank" rel="noopener">itch.io</a></p>
<iframe frameborder="0" src="https://itch.io/embed/516570?border_width=0&amp;bg_color=222&amp;fg_color=ffffff&amp;link_color=5b7efa&amp;border_color=4e4e4e" width="550" height="165"></iframe>

<div class="note info">
            <p>原 Google Drive 下載版（桌面版），請直接由 itch.io 內連結下載。</p>
          </div>
<div class="note warning">
            <p>有些鍵盤不能支援多鍵同時按下，可能需要自行設定到可用的鍵位</p>
          </div>
<h1 id="曲目列表"><a href="#曲目列表" class="headerlink" title="曲目列表"></a>曲目列表</h1><p>這個作品有 16 首原創音樂，演奏特定歌曲後，才會解鎖某些曲目（不論成績皆會解鎖）<br>最後一首音樂是「Ending Mix」，只有前面所有曲目都通過才會解鎖。</p>
<p>下面是 SoundCloud 的曲目列表，可以線上收聽。</p>
<iframe width="100%" height="450" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/919956049&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>

<h1 id="更新紀錄"><a href="#更新紀錄" class="headerlink" title="更新紀錄"></a>更新紀錄</h1><div class="note success">
            <p>更新紀錄提供給大家參考，目前的最新版是 <a href="#v1-3-版">v1.3 版</a></p>
          </div>
<h2 id="v1-1-版"><a href="#v1-1-版" class="headerlink" title="v1.1 版"></a>v1.1 版</h2><p><strong>更新說明</strong></p>
<ul>
<li>標題增加開始遊戲的按鍵提示</li>
<li>移除曲目 Clear 解鎖條件，現在只要演奏完就解鎖新曲</li>
<li>加入 Great / Good / Miss 擊中動畫</li>
<li>Hit 改成 Accuracy 字樣</li>
<li>部分曲目流速加速</li>
<li>部分曲目譜面修正</li>
<li>重開時按鍵操作消失 Bug 修正</li>
<li>現在會紀錄每首歌最高 Accuracy 的分數</li>
<li>在設定狀態中，顯示操作提示</li>
<li>設定熱鍵由 tab 改成 shift</li>
<li>中途退出曲目與暫停功能</li>
<li>放寬判定標準，現在的判定為 [6.02, 12.04, 14.45] 幀倍率</li>
</ul>
<div class="note warning">
            <p>v1.0 版的紀錄不再適用 v1.1 版</p>
          </div>
<div class="note info">
            <p>v1.1 版開始，按下 shift 可以中途暫停或退出</p>
          </div>
<h2 id="v1-2-版"><a href="#v1-2-版" class="headerlink" title="v1.2 版"></a>v1.2 版</h2><p><strong>發行說明</strong></p>
<ul>
<li>不再提供極致壓縮的 7z 版</li>
<li>新增了 Itch.io 的線上版</li>
<li>接下來將會釋出這個音樂遊戲的核心腳本（目前正在整理中）</li>
</ul>
<p><strong>更新說明</strong></p>
<ul>
<li>手寫字風格 UI 修正</li>
<li>增加選曲標示 UI/UX 修正</li>
<li>增加自動演奏（auto-play）功能</li>
<li>增加三種難度 Easy, Normalcy, Crazy 的譜面</li>
<li>每首歌的難度分級由 3 顆星變為 8 顆星</li>
</ul>
<p><strong>譜面調整</strong></p>
<ul>
<li>thinking at night 的原譜現被歸類到 Normalcy 難度</li>
<li>umbrella 的原譜現被歸類到 Crazy 難度</li>
<li>night forset roadd 的原譜被歸類到 Crazy 難度，並調整單連 2/4 連擊處</li>
<li>balasute meet 的原譜被歸類到 Normalcy 難度</li>
<li>balasute battle 的原譜被歸類到 Crazy 難度</li>
<li>bar 的原譜被歸類到 Crazy 難度</li>
<li>bye bye tomorrow 的原譜簡化後為 Normalcy 難度，並在 Crazy 難度中變得更具挑戰性</li>
<li>common battle 的原譜被歸類到 Crazy 難度</li>
<li>conspiracy 的原譜被歸類到 Crazy 難度</li>
<li>desert scorpion 的原譜被歸類到 Crazy 難度</li>
<li>fragmentation 的原譜被歸類到 Crazy 難度</li>
<li>fragmentation 在 Normalcy 難度中被略為簡化，而 Easy 難度中，去除 3/6 連擊處</li>
<li>leave 的原譜被歸類到 Crazy 難度</li>
<li>leave 的 Normalcy 難度的譜面與 Crazy 相同，但音符的流速更快</li>
<li>leave 的 Easy 難度中刪去了 1-2-3-2-1-2-… 樓梯型連擊</li>
<li>letter from you 的原譜被歸類到 Normalcy 難度</li>
<li>letter from you 的 Crazy 難度強化了 3/6 拍打擊</li>
<li>letter from you 在 Easy 難度中去除了 16 分音符</li>
<li>on way 的原譜被歸類到 Crazy 難度</li>
<li>on way 於 Normalcy 難度中去除了 1-2-3-2-1-2-… 樓梯型連擊</li>
<li>the a minor 的原譜被歸類到 Crazy 難度</li>
<li>the a minor 在 Easy 難度中簡化節奏與調降音符流速度</li>
<li>ending mix 的原譜被歸類到 Normalcy難度，為各類難度譜面的集合</li>
</ul>
<div class="note warning">
            <p>v1.1 版的紀錄不再適用 v1.2 版</p>
          </div>
<div class="note info">
            <p>v1.1 版開始，按下 Ctrl 可以自動演奏</p>
          </div>
<h2 id="v1-3-版"><a href="#v1-3-版" class="headerlink" title="v1.3 版"></a>v1.3 版</h2><p><strong>發行說明</strong></p>
<ul>
<li>現在開始不再提供 Google Drive 的檔案，請直接在 itch.io 下載</li>
<li>音樂遊戲插件已經整理完成，目前正在撰寫使用說明</li>
</ul>
<p><strong>更新說明</strong></p>
<ul>
<li>新增「長音符」（需要在長音開頭按下直至結尾，完成打擊）</li>
<li>大部分譜面更新（少數沒有增加長音，少數譜面大改）</li>
<li>曲目 Desert Scorpion 的圖標修正</li>
<li>曲目 Desert Scorpion 音樂修正</li>
<li>羊羽手札的顯示畫面修正</li>
<li>部分曲目的星數調整</li>
</ul>
<p><strong>星數調整</strong></p>
<ul>
<li>Balasute meet (Normalcy) 難度調整為 ★6</li>
<li>Balasute meet (Crazy) 難度調整為 ★7</li>
<li>Beer bar (Crazy) 難度調整為 ★7</li>
<li>Bye bye tomorrow (Easy) 難度調整為 ★3</li>
<li>Desert scorpion (Normalcy) 難度調整為 ★8</li>
<li>Leave (Easy) 難度調整為 ★2</li>
<li>Letter from you (Crazy) 難度調整為 ★6</li>
<li>On way (Crazy) 難度調整為 ★6</li>
<li>The a minor (Easy) 難度調整為 ★3</li>
</ul>
<div class="note info">
            <p>從 1.2 版升級到 1.3 版時。桌面版紀錄 save 資料夾可以複製到 www 目錄底下，<br>解鎖、演奏完成的資訊可被繼承，而 Great、Good、Miss、MaxCombo 等，分數類紀錄將歸零。</p>
          </div>
<h1 id="開發花絮"><a href="#開發花絮" class="headerlink" title="開發花絮"></a>開發花絮</h1><p>其實這不是我第一部公開的遊戲，但是這是第一部發布的遊戲。<br>記得以前巴哈 RM 版有遊戲發布預告的討論串，我發過一款名為「躲怪遊戲」的遊戲預告。<br>（RMVX，後來有嘗試把該遊戲遷移到 RMMV）</p>
<p>那個時間點大概是剛學會寫 RMVX 腳本的時候……<br>而這個遊戲被那個棄坑作影響深遠，大概可以這樣理解吧 XDD”</p>
<h2 id="樂曲背景"><a href="#樂曲背景" class="headerlink" title="樂曲背景"></a>樂曲背景</h2><p>《Thinking at night》（夜中思考）曲名是源於我經常熬夜，<br>不知道為何，深夜靈感比較豐富，這遊戲的曲目大部分都是深夜完成的。<br>不計《Ending Mix》的話，這首是這個遊戲最晚寫的曲目。</p>
<p>《Umbrella》（傘）是最早寫的曲目，大約是躲怪遊戲預告發布後一陣子（2014 年前後），<br>完成這首曲目時，午後下起了太陽雨，所以無論是雨傘或陽傘的解釋都是對的。</p>
<p>《Night forest road》（夜晚森林之路，我常簡稱為夜森之路或夜森），<br>封面的路燈是原本躲怪遊戲的怪物「結界路燈」，而這首最早是希望作為遊戲夜晚森林的 BGM。<br>值得一提的是，這首歌設計上是 Clarinet（單簧管）跟 Flute（長笛）交互演奏主旋律的曲子，<br>最早的版本沒有 73~105 小節的合奏。</p>
<p><img src="https://i.imgur.com/9BEVNRn.jpg" alt="圖 1、躲怪遊戲的路燈（事件出沒）"><br><img src="https://i.imgur.com/8qC0WRT.png" alt="圖 2、結界路燈的形象圖"></p>
<div class="note info">
            <p>結界路燈原本應該是魔法都市附近森林的怪物，躲怪遊戲因特殊事件而出沒在城堡中。</p>
          </div>
<p>關於 Balasute（巴拉斯特）是躲怪遊戲的一位女性 NPC 角色，這個遊戲偷偷塞了兩首她的 BGM 在裡面，<br>分別是《Balasute meet》（巴拉斯特遭遇）以及《Balasute battle》（巴拉斯特戰鬥）。</p>
<p>《Bye bye tomorrow》（再見明天）是我有一陣子低潮時的作品，當時真的想要直接結束，不過後來挺過來了。<br>上吊繩的由來是，當時閱讀完全自殺手冊後，發現上吊是這本書最推薦的自殺方法。<br>原本我有想過放上吊繩會不會把遊戲搞得「不合主流」，但是想要保留最初的原意，就沒有拿掉了。<br>這首原曲改過三次，遊戲中是第三版。</p>
<p>《Conspiracy》的迷之動物其實是羊駝 (我發現幾乎所有人都覺得我畫的是長頸鹿)<br>因為這些音樂都是用 LMMS 作曲的，其中有個 LB302 的樂器插件是羊駝圖案。這首歌幾乎都是用這個樂器插件完成的。<br>另外，曲目中的低頻噪音是飛機起降的聲音，在 Crazy 的曲末，我用譜面模擬了飛機跑道。</p>
<p><img src="https://i.imgur.com/lFw2BGR.png" alt="圖 3、LB302 的樂器插件"></p>
<p>《Fragmentation》（碎片）對我來說是畢業歌，當時恰逢學校畢業，碎片指的是回憶的碎片。<br>遊戲中的畫面是左上的橘色背景跟飛散的照片。</p>
<p>《Letter from you》（來自你的信）原本是寫在某論壇作曲教學的成品。<br>當時選曲的時候發覺大部分的曲目都很難，所以想放一首相對簡單的來平衡這樣……</p>
<p>《the a minor》這首曲名是雙關，意思是 the a minor（一個小調）及 the A minor（這個 A 小調）。<br>顧名思義，全曲是 A 小調寫成，這是早期作品。圖中的蜥蜴是在 youtube 發布音樂時，隨手撇的蜥蜴。</p>
<p>《Ending Mix》是選擇我最愛的曲目完成的，所以沒有包含所有歌曲 XD<br>另外這首是 FL Studio 寫成的，也可以作為我從 LMMS 搬家到 FL Studio 的里程碑：</p>
<p><img src="https://i.imgur.com/7Sup7TK.jpg" alt="圖 4、《Ending Mix》樂曲軌道"></p>
<p>然後這曲的設計順序是：</p>
<ol>
<li>用較慢的 Thinking at night 動機當開頭</li>
<li>小銜接段，切進原創的段落，這裡我稱為 Bridge-A</li>
<li>敲 4 拍鼓邊，切進 Fragmentation 副歌</li>
<li>一個長音切到 Umbrella 的主歌</li>
<li>鋼琴琶音後，切入 4 個主拍上行銜接段，然後鼓聲驟停 1 小節，切入 Bridge-B</li>
<li>用比較急的鼓拍子，切入 on way 的特色段落（爬樓梯段落）</li>
<li>延續爬樓梯的旋律，敲一個鈸切到 Night forest road</li>
<li>Night forest road 這裡速度比原曲快，所以我把管樂換成純鋼琴</li>
<li>標準 4 拍切到最後一個 Bridge-C</li>
<li>用跳音切入 Bye bye Tomorrow 這裡是減慢版</li>
<li>過門加速切回 Thinking at night 副歌，以此結尾</li>
</ol>
<p>其中 Bridge-A 希望設計成 RPG 冒險開始的感覺，<br>而 Bridge-B 是 RPG 遭遇曲折，最後 Bridge-C 是 RPG 過夜劇情的感覺 XDD</p>
<h2 id="視覺設計"><a href="#視覺設計" class="headerlink" title="視覺設計"></a>視覺設計</h2><p>關於這個遊戲的選圖，其實是很掙扎的，<br>先要決定手上的音樂要搭什麼圖片，然後放置於主圖中的位置，<br>最早只有決定路燈、鯨魚跟上吊繩的相對位置。</p>
<p>原本還打算放一些極早期的作品，只是因為換電腦很多曲子的分軌檔都不見了 QQ</p>
<p><img src="https://i.imgur.com/Pk74d03.jpg" alt="圖 5、主圖的設計草稿"></p>
<p>最早的遊戲難度與分級是我自己打過一輪，然後把百分比排序，切成三組（標示 1~3 星）<br>後來多數玩家反應說難度太高，我才發覺我太鼓七段自己測試根本失準 XD”</p>
<p>所以在新版本中，我把難度切出來了，<br>在這裡的一個小彩蛋是難度分級 Easy、Normalcy 跟 Crazy 押韻。<br>（Normalcy 是常態的意思）</p>
<p>至於最早曲目的解鎖順序是難度為基準的，<br>但是新版本中調整譜面後，這層關係就沒這麼明顯了。</p>
<p><img src="https://i.imgur.com/BoPh5Zq.jpg" alt="圖 6、自己測試的成績紀錄手稿（最初版）"></p>
<h2 id="製作後續"><a href="#製作後續" class="headerlink" title="製作後續"></a>製作後續</h2><div class="note info">
            <p>這個音樂遊戲的插件請參考 <a href="/rpg-maker-mv-music-game/" title="RMMV 音樂遊戲">RMMV 音樂遊戲</a></p>
          </div>
]]></content>
      <categories>
        <category>獨立遊戲製作</category>
      </categories>
  </entry>
  <entry>
    <title>前、中及後序 Preorder, Inorder and Postorder</title>
    <url>/preorder-inorder-postorder/</url>
    <content><![CDATA[<p>研究所開學前想把一些比較簡單的內容寫完，<br>然後正式邁入下個階段，要學的東西還很多……</p>
<a id="more"></a>
<div class="note success">
            <p>這篇文章需要堆疊與佇列的基本知識，請參考 <a href="/stack-and-queue/" title="堆疊與佇列 Stack and Queue">堆疊與佇列 Stack and Queue</a></p>
          </div>
<h1 id="運算子與運算元"><a href="#運算子與運算元" class="headerlink" title="運算子與運算元"></a>運算子與運算元</h1><p>在開始介紹之前，可能要先提到運算子跟運算元。</p>
<p>運算子（operator）通俗的意思是「符號」，像是 + - * / 之類的；<br>而運算元（operand）意思是「數字」或「代數」，像是 1, 2, 3,… 或 x, y, z, …等都是運算元。</p>
<p>本篇文章使用的運算子包含：</p>
<ul>
<li>加 +</li>
<li>減 -</li>
<li>乘 *</li>
<li>除 /</li>
<li>冪 ^</li>
<li>左括號 (</li>
<li>右括號 ) </li>
</ul>
<p>共 7 種運算子，而運算元則可以是任意數字。</p>
<h1 id="中序表示法"><a href="#中序表示法" class="headerlink" title="中序表示法"></a>中序表示法</h1><p>中序表示法（Infix order）就是一般常見的數學式，運算格式為「運算元 運算子 運算元」；<br>像是「1 + 1」、「3 * 2」、「3 ^ 3」等等皆屬中序表示，另外含括號的類型也是，<br>比如「5 / ( 2 + 1 )」，因為「2 + 1」可以運算後變成「5 / 3」，也是中序表示法。</p>
<p>要特別說明的是，電腦運算通常不使用中序表示，而使用前、後序表示；<br>因為資料常常從左讀取至右，前、後序都有隱含運算順序的能力，可以省去許多資料處理上的麻煩。</p>
<h1 id="前序表示法"><a href="#前序表示法" class="headerlink" title="前序表示法"></a>前序表示法</h1><p>前序表示法是將運算子放到所有運算元之前的表示法，格式為「運算子 運算元 運算元」；<br>像是「+ 1 1」、「* 3 2」、「^ 3 3」就是前序表示法。</p>
<p>由於前序表示已經隱含了運算順序，所以前序表示不需要括號也可以判斷運算順序。<br>像是「/ 5 + 2 1」就是先做「+ 2 1」再做「/ 5 3」。</p>
<div class="note info">
            <p>不需要括號，不代表不能顯式寫出，比方說「/ 5 ( + 2 1 )」也是可以的。</p>
          </div>
<h1 id="後序表示法"><a href="#後序表示法" class="headerlink" title="後序表示法"></a>後序表示法</h1><p>後序表示法是將運算子放置到所有運算元之後的表示法，格式為「運算元 運算元 運算子」；<br>像是「1 1 +」、「3 2 *」、「3 3 ^」就是後序表示法。</p>
<p>與前序表示一樣，後序表示法隱含了運算順序，所以不需要括號，<br>像是「5 2 1 + /」就是先做「2 1 +」再做「5 3 /」。</p>
<div class="note info">
            <p>不需要括號，不代表不能顯式寫出，比方說「5 ( 2 1 + ) /」也是可以的。</p>
          </div>
<h1 id="中序轉前後序"><a href="#中序轉前後序" class="headerlink" title="中序轉前後序"></a>中序轉前後序</h1><p>先考慮中序轉換成前序，若以「1 + 2 * ( 3 - 4 ) / 5」為例，<br>其對應前序為「+ 1 / * 2 - 3 4 5」，後序轉換概念與前序一致。</p>
<p>我們觀察該式，如果電腦由左至右掃描，那麼經過轉換的式子，運算元應該對應順序不變。</p>
<p>但電腦掃到「1 + 2」時，不能直接轉換成「+ <u>1</u> <u>2</u>」，<br>因為尚未確定「1 + 2」之後的運算子，需要掃描到「1 + 2 *」才有足夠的資訊處理。</p>
<p>我們透過 2 個堆疊可以將中序轉換成前序，一個保留運算元資訊，另一個紀錄運算子。<br>詳細步驟稍後解釋，逐步的轉換步驟如下，掃描到的字元以顏色表示：</p>
<table>
<thead>
<tr>
<th>運算式</th>
<th>分類</th>
<th>運算子堆疊</th>
<th>運算元堆疊</th>
<th>處理原因</th>
</tr>
</thead>
<tbody>
<tr>
<td><span style="background-color: #ffff99;">1</span> + 2 * ( 3 - 4 ) / 5</td>
<td>運算元</td>
<td>空</td>
<td><u>1</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>1 <span style="background-color: #ffff99;">+</span> 2 * ( 3 - 4 ) / 5</td>
<td>運算子</td>
<td>+</td>
<td><u>1</u></td>
<td>運算子堆疊為空，直接加入堆疊</td>
</tr>
<tr>
<td>1 + <span style="background-color: #ffff99;">2</span> * ( 3 - 4 ) / 5</td>
<td>運算元</td>
<td>+</td>
<td><u>1</u> <u>2</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>1 + 2 <span style="background-color: #ffff99;">*</span> ( 3 - 4 ) / 5</td>
<td>運算子</td>
<td>+ *</td>
<td><u>1</u> <u>2</u></td>
<td>* 優先度高於 + 故加入堆疊</td>
</tr>
<tr>
<td>1 + 2 * <span style="background-color: #ffff99;">(</span> 3 - 4 ) / 5</td>
<td>運算子</td>
<td>+ * (</td>
<td><u>1</u> <u>2</u></td>
<td>( 優先度高於 * 故加入堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( <span style="background-color: #ffff99;">3</span> - 4 ) / 5</td>
<td>運算元</td>
<td>+ * (</td>
<td><u>1</u> <u>2</u> <u>3</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 <span style="background-color: #ffff99;">-</span> 4 ) / 5</td>
<td>運算子</td>
<td>+ * ( -</td>
<td><u>1</u> <u>2</u> <u>3</u></td>
<td>- 優先度高於 ( 加入堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - <span style="background-color: #ffff99;">4</span> ) / 5</td>
<td>運算元</td>
<td>+ * ( -</td>
<td><u>1</u> <u>2</u> <u>3</u> <u>4</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 <span style="background-color: #ffff99;">)</span> / 5</td>
<td>運算子</td>
<td>+ * ( -</td>
<td><u>1</u> <u>2</u> <u>3</u> <u>4</u></td>
<td>) 需特殊處理</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 <span style="background-color: #ffff99;">)</span> / 5</td>
<td>運算子</td>
<td>+ * (</td>
<td><u>1</u> <u>2</u> <u>- 3 4</u></td>
<td>運算子堆疊取出一個元素 - 檢查不為 ( <br> 運算元堆疊取出兩個元素 <u>4</u> <u>3</u> <br> 組合成 <u>- 3 4</u> 加回運算元堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 <span style="background-color: #ffff99;">)</span> / 5</td>
<td>運算子</td>
<td>+ *</td>
<td><u>1</u> <u>2</u> <u>- 3 4</u></td>
<td>運算子堆疊取出一個元素 ( 檢查為 ( 結束特殊處理</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 ) <span style="background-color: #ffff99;">/</span> 5</td>
<td>運算子</td>
<td>+</td>
<td><u>1</u> <u>* 2 - 3 4</u></td>
<td>/ 與 * 優先度相等 <br> 運算子堆疊取出一個元素 * <br> 運算元堆疊取出兩個元素 <u>- 3 4</u> <u>2</u> <br> 組合成 <u>* 2 - 3 4</u> 加回運算元堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 ) <span style="background-color: #ffff99;">/</span> 5</td>
<td>運算子</td>
<td>+ /</td>
<td><u>1</u> <u>* 2 - 3 4</u></td>
<td>/ 優先度高於 + 故加入堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 ) / <span style="background-color: #ffff99;">5</span></td>
<td>運算元</td>
<td>+ /</td>
<td><u>1</u> <u>* 2 - 3 4</u> <u>5</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 ) / 5</td>
<td>運算元</td>
<td>+ /</td>
<td><u>1</u> <u>* 2 - 3 4</u> <u>5</u></td>
<td>掃描完畢</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 ) / 5</td>
<td>運算元</td>
<td>+</td>
<td><u>1</u> <u>/ * 2 - 3 4 5</u></td>
<td>運算子堆疊取出一個元素 / <br> 運算元堆疊取出兩個元素 <u>5</u> <u>* 2 - 3 4</u> <br> 組合成 <u>/ * 2 - 3 4 5</u> 加回運算元堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 ) / 5</td>
<td>運算元</td>
<td>空</td>
<td><u>+ 1 / * 2 - 3 4 5</u></td>
<td>運算子堆疊取出一個元素 + <br> 運算元堆疊取出兩個元素 <u>/ * 2 - 3 4 5</u> <u>1</u> <br> 組合成 <u>+ 1 / * 2 - 3 4 5</u> 加回運算元堆疊</td>
</tr>
<tr>
<td>1 + 2 * ( 3 - 4 ) / 5</td>
<td>運算元</td>
<td>空</td>
<td><u>+ 1 / * 2 - 3 4 5</u></td>
<td>運算元堆疊頂端元素即為解</td>
</tr>
</tbody>
</table>
<p>從這個列表，我們可以歸納出下面這些結論：</p>
<ol>
<li>掃描到運算元，直接加入運算元堆疊</li>
<li>掃描到運算子，若其優先度高於運算子堆疊頂端元素，則直接加入運算子堆疊</li>
<li>掃描到運算子，若其優先度低於運算子堆疊頂端元素，則「清理堆疊」直到滿足第 2 點</li>
<li>掃描到運算子，若為「)」則「清理堆疊」直到運算子堆疊中「(」取出為止</li>
<li>掃描完畢後「清理堆疊」直到運算元堆疊只剩下 1 個元素</li>
</ol>
<p>至於「清理堆疊」的方法為：</p>
<ol>
<li>從運算子堆疊取出 1 個元素</li>
<li>從運算元堆疊取出 2 個元素</li>
<li>組合放回運算元堆疊</li>
</ol>
<div class="note info">
            <p>從這裡可以發現，中序表示轉換成前序或後序，是由清理堆疊的第 3 步處理的。</p>
          </div>
<p>運算子優先度接近其運算的優先度，列表如下：</p>
<table>
<thead>
<tr>
<th>運算子</th>
<th>優先度</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>1</td>
</tr>
<tr>
<td>-</td>
<td>1</td>
</tr>
<tr>
<td>*</td>
<td>2</td>
</tr>
<tr>
<td>/</td>
<td>2</td>
</tr>
<tr>
<td>^</td>
<td>3</td>
</tr>
<tr>
<td>(</td>
<td>出堆疊時，優先度為 0（因為要阻止它離開堆疊，直到配對「)」為止）<br>進入堆疊時，優先度為 4（因為要強制加入堆疊中，等待「)」的配對）</td>
</tr>
<tr>
<td>)</td>
<td>特殊處理，不進入堆疊中（出現時，堆疊中必存在「(」，否則算式有誤）</td>
</tr>
</tbody>
</table>
<div class="note info">
            <p>優先度是透過大小關係運作的，亦即大小關係正確即可，實際數值可以自行調整。</p>
          </div>
<h1 id="前後序轉中序"><a href="#前後序轉中序" class="headerlink" title="前後序轉中序"></a>前後序轉中序</h1><p>與中序轉換成前後序不同，轉換回中序較簡單，<br>以前序為例，觀察下表，稍後整理步驟：</p>
<table>
<thead>
<tr>
<th>運算式</th>
<th>分類</th>
<th>運算元堆疊</th>
<th>處理原因</th>
</tr>
</thead>
<tbody>
<tr>
<td>+ 1 / * 2 - 3 4 <span style="background-color: #ffff99;">5</span></td>
<td>運算元</td>
<td><u>5</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>+ 1 / * 2 - 3 <span style="background-color: #ffff99;">4</span> 5</td>
<td>運算元</td>
<td><u>5</u> <u>4</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>+ 1 / * 2 - <span style="background-color: #ffff99;">3</span> 4 5</td>
<td>運算元</td>
<td><u>5</u> <u>4</u> <u>3</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>+ 1 / * 2 <span style="background-color: #ffff99;">-</span> 3 4 5</td>
<td>運算子</td>
<td><u>5</u> <u>(3 - 4)</u></td>
<td>從運算元堆疊取出兩個元素 <u>3</u> <u>4</u> <br> 組合成 <u>(3 - 4)</u> 加回運算元堆疊 <br> - 加入運算子堆疊</td>
</tr>
<tr>
<td>+ 1 / * <span style="background-color: #ffff99;">2</span> - 3 4 5</td>
<td>運算元</td>
<td><u>5</u> <u>(3 - 4)</u> <u>2</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td>+ 1 / <span style="background-color: #ffff99;">*</span> 2 - 3 4 5</td>
<td>運算子</td>
<td><u>5</u> <u>(2 * (3 - 4))</u></td>
<td>從運算元堆疊取出兩個元素 <u>2</u> <u>(3 + 4)</u> <br> 組合成 <u>(2 * (3 + 4))</u> 加回運算元堆疊 <br> * 加入運算子堆疊</td>
</tr>
<tr>
<td>+ 1 <span style="background-color: #ffff99;">/</span> * 2 - 3 4 5</td>
<td>運算子</td>
<td><u>((2 * (3 - 4)) / 5)</u></td>
<td>從運算元堆疊取出兩個元素 <u>(2 * (3 - 4))</u> <u>5</u> <br> 組合成 <u>((2 * (3 - 4)) / 5)</u> 加回運算元堆疊 <br> / 加入運算子堆疊</td>
</tr>
<tr>
<td>+ <span style="background-color: #ffff99;">1</span> / * 2 - 3 4 5</td>
<td>運算元</td>
<td><u>((2 * (3 - 4)) / 5)</u> <u>1</u></td>
<td>運算元直接加入堆疊</td>
</tr>
<tr>
<td><span style="background-color: #ffff99;">+</span> 1 / * 2 - 3 4 5</td>
<td>運算子</td>
<td><u>(1 + ((2 * (3 - 4)) / 5))</u></td>
<td>從運算元堆疊取出兩個元素 <u>1</u> <u>((2 * (3 - 4)) / 5)</u> <br> 組合成 <u>(1 + ((2 * (3 - 4)) / 5))</u> 加回運算元堆疊 <br> + 加入運算子堆疊</td>
</tr>
<tr>
<td>+ 1 / * 2 - 3 4 5</td>
<td>運算元</td>
<td><u>(1 + ((2 * (3 - 4)) / 5))</u></td>
<td>運算元堆疊頂端元素即為解</td>
</tr>
</tbody>
</table>
<p>同樣地，可以歸納出下面這些結論：</p>
<ol>
<li>前序轉中序時，反向掃描（因為要先掃到運算元）</li>
<li>後序轉中序時，正向掃描（因為要先掃到運算元）</li>
<li>掃描到運算元時，加入運算元堆疊</li>
<li>掃描到運算子時，執行「清理堆疊」</li>
</ol>
<p>至於「清理堆疊」的方法為：</p>
<ol>
<li>（掃描到的）運算子</li>
<li>從運算元堆疊取出 2 個元素</li>
<li>組合放回運算元堆疊（可以加入括號）</li>
</ol>
<div class="note info">
            <p>不難發現，前序、後序表示運算的方法，就是轉換成中序的方法：將每一步清理堆疊的「組合」變成「計算」即可。</p>
          </div>
]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>影像濾波 Image Filter</title>
    <url>/Image-Filter/</url>
    <content><![CDATA[<p>這次的主題是影像濾波（image filter）。</p>
<p>這也是大學影像處理課的內容，基本的東西已經寫過了，<br>原先考慮到加入一些其他新東西，可是後來想說不要把文章複雜化，<br>所以新東西可能之後才會發。</p>
<a id="more"></a>
<div class="note success">
            <p>請參閱 <a href="/ming-chuan-university-homework/" title="我的大學作業整理">我的大學作業整理</a> 的「影像處理課程」部分。</p>
          </div>
<h1 id="相關名詞"><a href="#相關名詞" class="headerlink" title="相關名詞"></a>相關名詞</h1><p>在開始之前，可能要釐清一些相似的概念，<br>包括我自己也是，下面 4 件事情很容易混淆：</p>
<ul>
<li>影像濾波（image filter）</li>
<li>影像濾鏡（image filter）</li>
<li>影像相關（image correlation）</li>
<li>影像卷積（image convlusion）</li>
</ul>
<p>後來看了一些資料，才把這些事情搞清楚。</p>
<div class="note info">
            <p>影像相關（image correlation）的中譯取自《数字图像处理（第三版）》</p>
          </div>
<p>我們先看濾波與濾鏡好了，因為某些不明原因，似乎兩者的英文原文是相同的；<br>不過很濾波是來自於訊號處理，而濾鏡是來自攝影的鏡頭配件。</p>
<p>電腦科學上的濾鏡，這邊採用 Computer Definition 的定義：</p>
<blockquote><p>A software routine that changes the appearance of an image or part of an image by altering the shades and colors of the pixels in some manner. Filters are used to increase brightness and contrast as well as to add a wide variety of textures, tones and special effects to a picture.</p>
</blockquote>
<p>簡單的說，濾鏡是一種「軟體」，任何能夠修改圖像陰影、顏色、明暗的都可以算是一種影像濾鏡。</p>
<p>至於濾波，通常是指「濾波器」（Filter）是來自訊號處理的領域，<br>意思是「濾除某些東西」，用訊號來比方的話，像是低通濾波器，意思是低頻的會通、高頻則被「濾除」了。</p>
<p>很顯然，所以我們可以針對某個域來處理，影像的話，有「空間」跟「頻率」兩個域，<br>分別對應了「空間濾波器」跟「頻率濾波器」兩大類型。至於考量函數特性的線性、非線性也是一種分類方法。</p>
<p>濾波與卷積在訊號處理上是完全不同的東西。應該說，卷積只是濾波的一種操作方法。</p>
<p>在影像處理中，空間濾波的操作是透過相關（correlation）或卷積（convlusion）操作實現的，<br>透過濾波器（filter）在源圖像上進行掃描，然後逐步運算得出新圖像。</p>
<div class="note info">
            <p>濾波器（filter）也被稱為核（kernel）</p>
          </div>
<p>假設 $f(x, y)$ 是 $3 \times 3$ 濾波器，而 $g(x, y)$ 是圖像。<br>若執行「相關」操作，則新圖像 $h(x, y)$ 是：</p>
<p>$$<br>h(x, y) = \text{cor}(f(x, y), g(x, y)) = \sum\limits_{i=-a}^{a} \sum\limits_{j=-b}^{b} f(i, j) \cdot g(x + i, y + j)<br>$$</p>
<p>改執行「卷積」操作則為：</p>
<p>$$<br>h(x, y) = \text{conv}(f(x, y), g(x, y)) = \sum\limits_{i=-a}^{a} \sum\limits_{j=-b}^{b} f(i, j) \cdot g(x - i, y - j)<br>$$</p>
<p>不同的濾波器會對應不同的效果，可以參考 <a href="https://en.wikipedia.org/wiki/Kernel_(image_processing)" target="_blank" rel="noopener">Wikipedia: Kernel (image processing)</a><br>圖像相關跟圖像卷積兩者操作基本上一樣，唯獨卷積在濾波器上轉了 180 度。</p>
<div class="note info">
            <p>這邊的定義是採奇數大小、中心座標為原點的濾波器。<br>意即 $3 \times 3$ 的濾波器，對應的參數為 $a = 1, b = 1$</p>
          </div>
<h1 id="均值濾波器"><a href="#均值濾波器" class="headerlink" title="均值濾波器"></a>均值濾波器</h1><p>相似地，若輸出為 $h(x, y)$ 數學上的定義為：</p>
<p>$$<br>h(x, y)<br>= \frac{\text{cor}(f(x, y), g(x, y))}{\sum\limits_{i=-a}^{a} \sum\limits_{j=-b}^{b} f(i, j)}<br>= \frac{\sum\limits_{i=-a}^{a} \sum\limits_{j=-b}^{b} f(i, j) \cdot g(x + i, y + j)}{\sum\limits_{i=-a}^{a} \sum\limits_{j=-b}^{b} f(i, j)}<br>$$</p>
<p>看起來很難懂，其實就是拿著濾波器掃描圖片，然後被濾波器蓋住的地方，就平均一下。</p>
<p><img src="https://i.imgur.com/LWebOJs.png" alt="圖 1、均值濾波器"></p>
<p>參考圖 1 的例子，濾波器放在左上角，經過計算：</p>
<p>$$<br>\sum\limits_{i=-1}^{1} \sum\limits_{j=-1}^{1} f(i, j) = 9<br>$$</p>
<p>所以把對應的格子乘以權重（這邊為 $1$）加起來，然後除以 $9$ 就可以了：</p>
<p>$$<br>h(x, y)<br>= \frac{\text{cor}(f(x, y), g(x, y))}{9}<br>= \frac{\sum\limits_{i=-1}^{1} \sum\limits_{j=-1}^{1} f(i, j) \cdot g(x + i, y + j)}{9}<br>$$<br>$$<br>= \frac{216+255+255+102+216+255+102+102+255}{9}<br>= \frac{1758}{9} = 195<br>$$</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 設定變數 */</span></span><br><span class="line"><span class="keyword">let</span> i, j, k, p, q;          <span class="comment">// 用於迴圈的註標</span></span><br><span class="line"><span class="keyword">let</span> sum;                    <span class="comment">// 用於加總圖片濾波器的總和</span></span><br><span class="line"><span class="keyword">let</span> index;                  <span class="comment">// 用於計算實際圖片的像素的位置</span></span><br><span class="line"><span class="keyword">let</span> filter = [              <span class="comment">// 濾波器</span></span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">];</span><br><span class="line"><span class="keyword">let</span> w = imgData.width;      <span class="comment">// 圖片的寬度</span></span><br><span class="line"><span class="keyword">let</span> h = imgData.height;     <span class="comment">// 圖片的長度</span></span><br><span class="line"><span class="keyword">let</span> fw = <span class="number">3</span>;                 <span class="comment">// 濾波器的寬度</span></span><br><span class="line"><span class="keyword">let</span> fh = <span class="number">3</span>;                 <span class="comment">// 濾波器的長度</span></span><br><span class="line"><span class="keyword">let</span> fs = <span class="number">9</span>;                 <span class="comment">// 濾波器的大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 建立圖片副本 */</span></span><br><span class="line"><span class="keyword">let</span> newData = imageContext.createImageData(w, h);</span><br><span class="line">newData.data.set(imgData.data);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 計算濾波器中心，在圖片上的位置 */</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; (w - fw - <span class="number">1</span>); i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; (h - fh - <span class="number">1</span>); j++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 計算圖片的三種顏色 */</span></span><br><span class="line">        <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">3</span>; k++) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">/* 計算濾波器覆蓋圖片區域的平均值 */</span></span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (p = <span class="number">-1</span>; p &lt; fw - <span class="number">1</span>; p++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (q = <span class="number">-1</span>; q &lt; fh - <span class="number">1</span>; q++) &#123;</span><br><span class="line">                    index = ((j + q) * w + (i + p)) * <span class="number">4</span> + k;</span><br><span class="line">                    sum += filter[p + <span class="number">1</span>][q + <span class="number">1</span>] * imgData.data[index];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            sum /= fs;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 將平均值賦值給這塊區域的所有像素 */</span></span><br><span class="line">            <span class="keyword">for</span> (p = <span class="number">-1</span>; p &lt; fw - <span class="number">1</span>; p++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (q = <span class="number">-1</span>; q &lt; fh - <span class="number">1</span>; q++) &#123;</span><br><span class="line">                    index = ((j + q) * w + (i + p)) * <span class="number">4</span> + k;</span><br><span class="line">                    newData.data[index] = sum;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顯示新圖片 */</span></span><br><span class="line">imageContext.putImageData(newData, <span class="number">0</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<div class="note warning">
            <p>實作時，應該另開記憶體空間，以避免取樣到加工過的圖片 $h(x, y)$</p>
          </div>
<h1 id="中值濾波器"><a href="#中值濾波器" class="headerlink" title="中值濾波器"></a>中值濾波器</h1><p>中值濾波器只是在濾波器的範圍內找最大輸出：</p>
<p>$$<br>h(x, y) = \max\limits_{i, j \in \{-1, 0, 1\}} g(x + i, y + j)<br>$$</p>
<p><img src="https://i.imgur.com/6WTrdrh.png" alt="圖 2、中值濾波器"></p>
<p>中值濾波器的一個功能是，在圖片遭受胡椒鹽雜訊（Salt-and-pepper noise）時，<br>則可以透過中值濾波器修復，參考圖 3 的原圖：</p>
<p><img src="https://i.imgur.com/mGqhnpg.png" alt="圖 3、未受胡椒鹽雜訊汙染的圖像圖"></p>
<p>當遭受胡椒鹽雜訊干擾，呈現圖 4 的樣子：</p>
<p><img src="https://i.imgur.com/yu7R0R9.png" alt="圖 4、胡椒鹽雜訊汙染後的圖像"></p>
<p>我們透過中值濾波器，可以修復為圖 5 的樣子：</p>
<p><img src="https://i.imgur.com/Gpzy1P3.png" alt="圖 5、經中值濾波器復原後的圖像"></p>
<p>不過，當胡椒鹽雜訊過強時，像是圖 6 那樣，中值濾波器也難以修復：</p>
<p><img src="https://i.imgur.com/yAxd9OO.png" alt="圖 6、嚴重胡椒鹽雜訊汙染的圖像"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 設定變數 */</span></span><br><span class="line"><span class="keyword">let</span> i, j, k, p, q;          <span class="comment">// 用於迴圈的註標</span></span><br><span class="line"><span class="keyword">let</span> index;                  <span class="comment">// 用於計算實際圖片的像素的位置</span></span><br><span class="line"><span class="keyword">let</span> arr = [];               <span class="comment">// 用於計算中位數的陣列</span></span><br><span class="line"><span class="keyword">let</span> median;                 <span class="comment">// 紀錄的中位數</span></span><br><span class="line"><span class="keyword">let</span> w = imgData.width;      <span class="comment">// 圖片的寬度</span></span><br><span class="line"><span class="keyword">let</span> h = imgData.height;     <span class="comment">// 圖片的長度</span></span><br><span class="line"><span class="keyword">let</span> fw = <span class="number">3</span>;                 <span class="comment">// 濾波器的寬度</span></span><br><span class="line"><span class="keyword">let</span> fh = <span class="number">3</span>;                 <span class="comment">// 濾波器的長度</span></span><br><span class="line"><span class="keyword">let</span> fs = <span class="number">9</span>;                 <span class="comment">// 濾波器的大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 建立圖片副本 */</span></span><br><span class="line"><span class="keyword">let</span> newData = imageContext.createImageData(w, h);</span><br><span class="line">newData.data.set(imgData.data);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 計算濾波器中心，在圖片上的位置 */</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; (w - fw - <span class="number">1</span>); i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; (h - fh - <span class="number">1</span>); j++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 計算圖片的三種顏色 */</span></span><br><span class="line">        <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">3</span>; k++) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">/* 計算濾波器覆蓋圖片區域的中位數 */</span></span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (p = <span class="number">-1</span>; p &lt; fw - <span class="number">1</span>; p++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (q = <span class="number">-1</span>; q &lt; fh - <span class="number">1</span>; q++) &#123;</span><br><span class="line">                    index = ((j + q) * w + (i + p)) * <span class="number">4</span> + k;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">/* 直接找到註標塞值到 arr 中 */</span></span><br><span class="line">                    <span class="comment">/* 效能會比每次都重建陣列 push 來的好 */</span></span><br><span class="line">                    arr[(q + <span class="number">1</span>) * fh + (p + <span class="number">1</span>)] = imgData.data[index];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> (a &lt; b ? <span class="number">-1</span> : <span class="number">1</span>)); <span class="comment">// 排序固定數量的 9 個數</span></span><br><span class="line">            median = arr[<span class="number">4</span>];                      <span class="comment">// 中位數是第 5 個數（註標 4）</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 將中位數賦值給這塊區域的所有像素 */</span></span><br><span class="line">            <span class="keyword">for</span> (p = <span class="number">-1</span>; p &lt; fw - <span class="number">1</span>; p++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (q = <span class="number">-1</span>; q &lt; fh - <span class="number">1</span>; q++) &#123;</span><br><span class="line">                    index = ((j + q) * w + (i + p)) * <span class="number">4</span> + k;</span><br><span class="line">                    newData.data[index] = median;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顯示新圖片 */</span></span><br><span class="line">imageContext.putImageData(newData, <span class="number">0</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<h1 id="銳化濾波器"><a href="#銳化濾波器" class="headerlink" title="銳化濾波器"></a>銳化濾波器</h1><p>最後來看銳化濾波器，首先我們定義一階微分，<br>由於我們處理的數值是離散的、且變化量發生在相鄰像素之間，於是定義：</p>
<p>$$ \frac{\partial f}{\partial x} = f(x+1) - f(x) $$</p>
<p>同樣地，我們定義二階微分：</p>
<p>$$ \frac{\partial^2 f}{\partial x^2} = \frac{\partial f}{\partial x} (f(x+1) - f(x)) $$<br>$$ = \frac{\partial f}{\partial x} f(x+1) - \frac{\partial f}{\partial x} f(x) $$<br>$$ = (f(x+2) - f(x+1)) - (f(x+1) - f(x)) $$<br>$$ = f(x+2) - 2f(x+1) + f(x) $$</p>
<p>我們遞移像素中心到 $x+1$ 所以表示為：</p>
<p>$$ f(x+2) - 2f(x+1) + f(x) $$<br>$$ = f(x+1) - 2f(x) + f(x-1) $$<br>$$ = f(x+1) - 2f(x) + f(x-1) $$</p>
<p>考慮雙變數在偏微分下的情況：</p>
<p>$$ \frac{\partial^2 f(x, y)}{\partial x^2} = f(x+1, y) - 2f(x, y) + f(x-1, y) $$</p>
<p>$$ \frac{\partial^2 f(x, y)}{\partial y^2} = f(x, y+1) - 2f(x, y) + f(x, y-1) $$</p>
<p>接著定義圖像 $f(x,y)$ 的拉普拉斯算子：</p>
<p>$$ \nabla^2 f(x, y) = \frac{\partial^2 f}{\partial x^2} + \frac{\partial^2 f}{\partial y^2} $$</p>
<p>拉普拉斯算子是先做梯度再散度：</p>
<p>$$ \nabla^2 f(x, y) = \nabla \cdot (\nabla f) $$</p>
<p>圖像函數 $f(x, y)$ 梯度：</p>
<p>$$ \nabla f(x, y) = (\frac{\partial f}{\partial x},  \frac{\partial f}{\partial y}) $$</p>
<p>注意到這一步為止的結果是「向量」。</p>
<p>代表 $\nabla f(x, y)$ 本身是一個平面座標的向量場，接著 $\nabla f(x, y)$ 的散度：</p>
<p>$$ \nabla^2 f(x, y) = \nabla \cdot \nabla f(x, y)$$<br>$$ = \nabla (\frac{\partial f}{\partial x},  \frac{\partial f}{\partial y}) = \frac{\partial^2 f}{\partial x^2} + \frac{\partial^2 f}{\partial y^2} $$</p>
<p>注意到這一步為止的結果是「純量」。</p>
<p>觀察性質上：</p>
<ul>
<li>圖片函數，即你所看到的圖片</li>
<li>圖片函數梯度，即圖片發生像素變化的「方向跟量」</li>
<li>圖片函數梯度的散度，即「圖片發生像素變化的『方向跟量』」的變化量總和</li>
</ul>
<div class="note info">
            <p>因為是總和，所以 $\frac{\partial^2 f}{\partial x^2}$ 跟 $\frac{\partial^2 f}{\partial y^2}$ 有可能會抵消。</p>
          </div>
<p>現在只有變化量，然後我們要「在原圖上加強我們的變化」那就是「加上原圖」得到，所以銳化圖片 $g(x, y)$ 為：</p>
<p>$$g(x, y) = f(x, y) + c\left[\nabla^2 f(x, y)\right]$$</p>
<p>其中，常數 $c$ 常見的值為 $c = 1$ 或 $c = -1$</p>
<p>結合上述的結果，可以得到拉普拉斯的銳化濾波器：</p>
<p>$$ f(x, y) + c[\nabla^2 f(x, y)] = f(x, y) + c [\nabla \cdot \nabla f(x, y)]$$<br>$$ = f(x, y) + c[\frac{\partial^2 f(x, y)}{\partial x^2} + \frac{\partial^2 f(x, y)}{\partial y^2}]$$<br>$$ = f(x, y) + c[f(x+1, y) - 2f(x, y) + f(x-1, y) + f(x, y+1) - 2f(x, y) + f(x, y-1)] $$<br>$$ = f(x, y) + c[f(x+1, y) + f(x-1, y) + f(x, y+1) + f(x, y-1) - 4f(x, y)] $$<br>$$ = (1 - 4c)f(x, y) + cf(x+1, y) + cf(x-1, y) + cf(x, y+1) + cf(x, y-1)$$</p>
<p>當 $c = -1$ 時，濾波器可參考圖 7 所示，式子為：</p>
<p>$$5f(x, y) + f(x+1, y) + f(x-1, y) + f(x, y+1) + f(x, y-1)$$</p>
<p><img src="https://i.imgur.com/jFmVRrX.png" alt="圖 7、銳化濾波器"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 設定變數 */</span></span><br><span class="line"><span class="keyword">let</span> i, j, k, p, q;          <span class="comment">// 用於迴圈的註標</span></span><br><span class="line"><span class="keyword">let</span> sum;                    <span class="comment">// 用於加總圖片濾波器的總和</span></span><br><span class="line"><span class="keyword">let</span> index;                  <span class="comment">// 用於計算實際圖片的像素的位置</span></span><br><span class="line"><span class="keyword">let</span> c = <span class="number">-1</span>;                 <span class="comment">// 參考公式，任意常數（常為 -1）</span></span><br><span class="line"><span class="keyword">let</span> filter = [              <span class="comment">// 參考公式，濾波器</span></span><br><span class="line">    [<span class="number">0</span>, c, <span class="number">0</span>],</span><br><span class="line">    [c, <span class="number">1</span> - <span class="number">4</span> * c, c],</span><br><span class="line">    [<span class="number">0</span>, c, <span class="number">0</span>]</span><br><span class="line">];</span><br><span class="line"><span class="keyword">let</span> w = imgData.width;      <span class="comment">// 圖片的寬度</span></span><br><span class="line"><span class="keyword">let</span> h = imgData.height;     <span class="comment">// 圖片的長度</span></span><br><span class="line"><span class="keyword">let</span> fw = <span class="number">3</span>;                 <span class="comment">// 濾波器的寬度</span></span><br><span class="line"><span class="keyword">let</span> fh = <span class="number">3</span>;                 <span class="comment">// 濾波器的長度</span></span><br><span class="line"><span class="keyword">let</span> fs = <span class="number">9</span>;                 <span class="comment">// 濾波器的大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 建立圖片副本 */</span></span><br><span class="line"><span class="keyword">let</span> newData = imageContext.createImageData(w, h);</span><br><span class="line">newData.data.set(imgData.data);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 計算濾波器中心，在圖片上的位置 */</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; (w - fw - <span class="number">1</span>); i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; (h - fh - <span class="number">1</span>); j++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 計算圖片的三種顏色 */</span></span><br><span class="line">        <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">3</span>; k++) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">/* 計算濾波器覆蓋圖片區域的值（參考公式） */</span></span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (p = <span class="number">-1</span>; p &lt; fw - <span class="number">1</span>; p++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (q = <span class="number">-1</span>; q &lt; fh - <span class="number">1</span>; q++) &#123;</span><br><span class="line">                    index = ((j + q) * w + (i + p)) * <span class="number">4</span> + k;</span><br><span class="line">                    sum += filter[p + <span class="number">1</span>][q + <span class="number">1</span>] * imgData.data[index];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 將該值賦值給像素（需要限制值域，計算後可能會超出範圍） */</span></span><br><span class="line">            index = (j * w + i) * <span class="number">4</span> + k;</span><br><span class="line">            newData.data[index] = <span class="built_in">Math</span>.max(<span class="built_in">Math</span>.min(sum, <span class="number">255</span>), <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顯示新圖片 */</span></span><br><span class="line">imageContext.putImageData(newData, <span class="number">0</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<h1 id="邊界處理"><a href="#邊界處理" class="headerlink" title="邊界處理"></a>邊界處理</h1><p>由於濾波器不會完全覆蓋，所以圖像邊界要特殊處理，常見的方式有 3 種：</p>
<ul>
<li>跳過不處理</li>
<li>在原圖的邊界補零</li>
<li>延伸原圖的邊界</li>
</ul>
<p>跳過不處理的話，濾波器可以從圖像的 $(1, 1)$ 開始，移動至 $(\text{width} - 2, \text{height} - 2)$ 停止。<br><br>而邊界補零是非常常見的做法，意思是當濾波器跑出範圍，則預設給 $0$ 值，參考圖 8，<br><br>不過缺點是輸出的邊界很容易黑黑的，但是可以省去很多例外條件的判斷。</p>
<p><img src="https://i.imgur.com/a5fvkC7.png" alt="圖 8、邊界處理：補零"></p>
<p>至於為了獲得更好的效果，我們可以像圖 9 那樣，<br>把圖片的邊界「延伸」到圖片外一圈，如此一來，就會得到更好的效果。</p>
<p><img src="https://i.imgur.com/08jwiew.png" alt="圖 9、邊界處理：延伸"></p>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><iframe scrolling="no" width="100%" height="530px" src="//jsfiddle.net/40unwrc5/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<div class="note info">
            <p>此演示的圖像邊界是採用「跳過不處理」的方式</p>
          </div>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li>《数字图像处理（第三版）》(ISBN：9787121110085)</li>
<li><a href="https://www.yourdictionary.com/image-filter" target="_blank" rel="noopener">image filter - Computer Definition</a></li>
<li><a href="https://rocky69.pixnet.net/blog/post/218272785-%5B%E8%BD%89%5D%E6%BF%BE%E6%B3%A2%E5%92%8C%E5%8D%B7%E7%A9%8D" target="_blank" rel="noopener">滤波和卷积</a></li>
<li><a href="https://en.wikipedia.org/wiki/Kernel_(image_processing)" target="_blank" rel="noopener">Wikipedia: Kernel (image processing)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Salt-and-pepper_noise" target="_blank" rel="noopener">Wikipedia: Salt-and-pepper noise</a>
</li>
</ul>
]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>線性回歸與梯度下降 Linear Regression and Gradient Descent</title>
    <url>/linear-regression-and-gradient-descent/</url>
    <content><![CDATA[<p>這篇是 Coursera 中 Machine Learning 的筆記。<br><a id="more"></a></p>
<div class="note info">
            <p>課程在：<a href="https://www.coursera.org/learn/machine-learning/home/welcome/" target="_blank" rel="noopener">Coursera Machine Learning</a>，這是機器學習入門的推薦課程。</p>
          </div>
<h1 id="梯度下降"><a href="#梯度下降" class="headerlink" title="梯度下降"></a>梯度下降</h1><p>梯度下降是理解演算法的人，應該不會太陌生的東西，<br>因為類似的還有爬山算法、模擬退火等等。</p>
<p>有些人會分不清楚爬山算法跟梯度下降的差別，<br>根據 Wikipedia 的說明，二維函數上的爬山演算法大致上是：  </p>
<ul>
<li>找一點 $p$ 當起點</li>
<li>代入函數 $f(x)$ 並紀錄 $f(p)$ 以及 $p$ 的值</li>
<li>調整 $p$ 成為 $p+k$</li>
<li>檢查 $f(p+k) &gt; f(p)$ （大、小於，根據找最大、小值而定）</li>
<li>如果為真，則 $p := p+k$</li>
<li>重複 2 ～ 5 步驟，直到 $f(p)$ 到達滿意為止</li>
</ul>
<p>而梯度下降法，是這樣操作的：  </p>
<ul>
<li>找一點 $p$ 當起點</li>
<li>微分 $f(x)$ 成為 $\frac{d}{dx}f(x)$</li>
<li>使 $p := p - \frac{d}{dx}f(p)$（正負號，根據尋找最大、小值而定）</li>
<li>重複 2～3 步驟，直到 $f(p)$ 到達滿意為止</li>
</ul>
<p>換而言之，兩者最大的差別是：<br>對於爬山算法是代函數找新值，如果新值更好則替換，<br>而梯度下降則利用了微分的性質，直接往正確的方向前進。</p>
<div class="note info">
            <p>梯度下降比爬山算法更有效嗎？為什麼？<br>函數難以微分（或不可微分、越微分越複雜）時，梯度下降、爬山算法哪個更有效？<br>當函數屬於多變數函數時，梯度下降、爬山算法哪個更有效？</p>
          </div>
<div class="note success">
            <p>這是 ANN 的系列文章<br>下一篇是 <a href="/logistic-regression-and-perceptron/" title="邏輯回歸與感知器 Logistic Regression and Perceptron">邏輯回歸與感知器 Logistic Regression and Perceptron</a></p>
          </div>
<div class="note success">
            <p>筆者於大學專題時，曾向組員介紹過相關內容，如有需要可以參考 <a href="https://docs.google.com/presentation/d/1WMTRxJnfNmJozAB6M-CQkB4zPzCLj4aw0ip1D8sStbs/edit?usp=sharing" target="_blank" rel="noopener">Multiple Linear Regression 簡報</a></p>
          </div>
<h1 id="回歸問題"><a href="#回歸問題" class="headerlink" title="回歸問題"></a>回歸問題</h1><p>在 Machine Learning 中，算是最容易的東西。同時也是跟統計學重複的內容。  </p>
<p>這邊簡單描述問題，大意是這樣：<br>
給一組 $S = \{(x^{(1)}_{1}, x^{(1)}_{2}, ..., x^{(1)}_{n}, y^{(1)}), (x^{(2)}_{1}, x^{(2)}_{2}, ..., x^{(2)}_{n}, y^{(2)}), ..., (x^{(m)}_{1}, x^{(m)}_{2}, ..., x^{(m)}_{n}, y^{(m)})\}$ 
</p>
<p>你要找到一個函數 $h_{\theta}(x_{1}, x_{2}, …, x_{n})$ 使的每一筆資料代入後： $Cost(h_{\theta}(x_{1}, x_{2}, …, x_{n}), y)$ 為最小。<br>在二維平面上的情況（單個 $x$ 對應一個 $y$ 的狀況）</p>
<p>大概就是：找一條線盡可能的擬合資料的趨勢，但是也不可以過度的擬合，<br>這裡的 $Cost(…)$ 是指成本函數，稍後會介紹。</p>
<div class="note info">
            <p>試想想插值（interpolation）與過擬合回歸（overfitting regression）間的差異。</p>
          </div>
<h2 id="特徵與標籤"><a href="#特徵與標籤" class="headerlink" title="特徵與標籤"></a>特徵與標籤</h2><p>我們剛剛提到了集合，我們現在單獨把裡面的元素搬出來看：</p>

$(x^{(1)}_{1}, x^{(1)}_{2}, ..., x^{(1)}_{n}, y^{(1)})$

<p>這樣的資料組成，我們理解成兩個部份：特徵以及標籤。<br>其中 $x$ 的部份稱作特徵，而 $y$ 的部份叫做標籤，比方說我們的問題是：</p>
<p>以資工系學生某些科目的期中考分數（程式設計、線性代數），預測所有科目的平均。<br>那我們的元素會變成類似這樣：  </p>
<ul>
<li>$x_{1} = 程式設計分數$</li>
<li>$x_{2} = 線性代數分數$</li>
<li>$y = 科目平均$</li>
</ul>
<p>元素為 $(x_{1}, x_{2}, y)$ 這樣，當然 Machine Learning 領域跟統計學一樣，<br>資料量得到達一定的大小，預測才會較為準確。<br>為了方便之後的解釋，我們就繼續採用這個預測科目平均的例子，<br>不過我們把兩個科目換成一個科目（方便我們之後的演示，畢竟雙變數要畫三維圖形）<br>元素變成：$(程式設計分數, 學期平均)$ 這樣。</p>
<h1 id="預測函數"><a href="#預測函數" class="headerlink" title="預測函數"></a>預測函數</h1><p>我們在討論接下來的操作以前，得先處理上面提到的 $h_{\theta}(x)$ 函數才行，<br>基本上 $h_{\theta}(x)$ 是由設計模型的人提出的，跟資料的分佈有相應的關係。<br>由於我們是預測科目的平均，且特徵只取一個，</p>
<p>那麼對應的 $h_{\theta}(x)$ 函數應該只是一個簡單的函數：</p>
<p>$h_{\theta}(x) = \theta_{0} + \theta_{1}x$</p>
<p>其中的 $\theta$ 在 Machine Learning 中叫做權重，同時也是我們搜尋的目標。<br>有時為了方便計算會變成向量的形式：</p>
<p>$h_{\theta}(x) = \theta^{T}x$</p>
<p>在這樣的情況下，應該多增加 $x_{0} = 1$ 使的大小相等。<br>為了理解，還是在說明一次，預測函數跟系統的設計有關，</p>
<p>當然也可以設計成更為複雜的函數。</p>
<h1 id="成本函數"><a href="#成本函數" class="headerlink" title="成本函數"></a>成本函數</h1><p>成本函數（Cost Function，又名做代價函數）<br>成本函數的意義，是用於評估回歸線在擬合資料集的時候，</p>
<p>到底擬合的好不好（換言之，也就是 $h_{\theta}(x)$ 函數好不好）<br>以剛才的預測學期平均的例子來說，</p>
<p>一個很簡單的概念是，代入函數值跟理想值的差為成本：</p>
<p>$Cost(\theta) = h_{\theta}(x) - y$</p>
<p>不過應該很容易發現問題點，如果出來的值是負的，<br>難道我的成本變成獲利？函數非常好嗎？<br>並不是，事實上這兩者的在數線上的距離差越大越糟糕，<br>於是我們習慣上加上平方來消除負號：</p>
<p>$Cost(\theta) = (h_{\theta}(x) - y)^{2}$</p>
<div class="note info">
            <p>為什麼這裡不使用絕對值函數？<br>請參閱：<a href="https://www.zhihu.com/question/24095027/" target="_blank" rel="noopener">在进行线性回归时，为什么最小二乘法是最优方法？</a></p>
          </div>
<p>不過，我們的特徵有很多筆，<br>假設有 $m$ 筆資料好了，於是乎成本函數又有了變化：</p>
<p>$Cost(\theta) = \frac{1}{2m}\sum\limits_{i=1}^{m} (h_{\theta}(x) - y)^{2}$</p>
<p>乘 $\frac{1}{m}$ 的原因是我們想算誤差的平均數，</p>
<p>而乘 $\frac{1}{2}$ 是因為等等微分可以消掉常數倍。<br>我們的目標已經很明確了找到一組 $\theta$ 使得 $Cost(\theta)$ 最小化，<br>你可能注意到了，成本函數 $Cost(\theta)$ 的變數是 $\theta$ 而非 $x$<br>第一次看到可能不習慣，不過如果你把 $h_{\theta}(x)$ 整個內容寫出來應該就不難理解。</p>
<h2 id="成本的梯度"><a href="#成本的梯度" class="headerlink" title="成本的梯度"></a>成本的梯度</h2><p>由於我們想要找成本函數的最小值（全域最大值）的關係，<br>理所當然有一些方法能夠處理這個問題，比方說直接解方程式之類的，<br>而這個叫做正規方程，也是類似公式解的東西，不過我們沒有打算在這裡說明。</p>
<p>我們採用的是梯度下降找區域極值的方法。</p>
<p>微分成本函數（把 $\theta$ 當成向量同時微分）：  </p>
<p>$\frac{d}{d\theta}Cost(\theta) = \frac{d}{d\theta} \frac{1}{2m}\sum\limits_{i=1}^{m} (h_{\theta}(x^{(i)}) - y^{(i)})^{2}$</p>
<p>套用鏈鎖法則：  </p>
<p>$\frac{d}{d\theta}Cost(\theta) = \frac{1}{2m}\sum\limits_{i=1}^{m} (\frac{d}{d(h_{\theta}(x^{(i)}) - y^{(i)})} (h_{\theta}(x^{(i)}) - y^{(i)})^{2} \frac{d}{d\theta} h_{\theta}(x^{(i)}) - y^{(i)})$</p>
<p>$\frac{d}{d\theta}Cost(\theta) = \frac{1}{m}\sum\limits_{i=1}^{m} ((h_{\theta}(x^{(i)}) - y^{(i)})x^{(i)})$</p>
<p>因為我們將 $\theta$ 當成向量，梯度下降法則會：  </p>
<p>$\theta_{j} := \theta_{j} - \alpha\frac{1}{m}\sum\limits_{i=1}^{m} ((h_{\theta}(x^{(i)}) - y)x^{(i)}_{j})$</p>

如果你有注意到 $x^{(i)}_{j}$ 的話，我們剛才只有出現 $x_{1} = x$ 對應著 $\theta_{1}$

<p>那這邊的 $\theta_{0}$ 只要令 $x_{0} = 1$ 使得 $h_{\theta}(x) = \theta_{0}x_{0} + \theta_{1}x_{1}$ 成立就好。<br>不必擔心這邊 $x$ 上下標一堆的問題，上標 $(i)$ 代表每個資料要輪流代入，下標 $j$ 可以看成是 $\theta_{j}$ 的係數。其中 $\alpha$ 被稱為學習率，是自行設定的常數。</p>
<div class="note warning">
            <p>學習率 $\alpha$ 太高會造成發散，導致無法收斂到最佳解。</p>
          </div>
<div class="note warning">
            <p>更新 $\theta$ 時，應同時改變 $\theta_{0}$ 及 $\theta_{1}$ 才是正確的。</p>
          </div>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><p>這是一個簡單線性回歸（Simple Linear Regression）的演示。</p>
<div class="note warning">
            <p>本演示為了使回歸更快，把在 $\theta_{0}$ 處的梯度加大了。</p>
          </div>
<iframe scrolling="no" width="100%" height="550px" src="//jsfiddle.net/2nga2mnm/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>人工智慧</category>
      </categories>
  </entry>
  <entry>
    <title>邏輯回歸與感知器 Logistic Regression and Perceptron</title>
    <url>/logistic-regression-and-perceptron/</url>
    <content><![CDATA[<p>上一篇介紹的是線性回歸與梯度下降，這一篇將會討論「邏輯回歸與感知器」。<br><a id="more"></a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在這邊先約定一件事情，就是對數函數的表示法：</p>
<ul>
<li>$log(x)$ 表示以 10 為底</li>
<li>$lg(x)$ 表示以 2 為底</li>
<li>$ln(x)$ 表示以 $e$ 為底</li>
</ul>
<p>因為第一種表示法很容易造成混淆，<br>所以這邊就事前說明，不要造成大家的困擾。</p>
<div class="note info">
            <p>這是 Chrome 瀏覽器搜尋的表示法；你可以在網址列輸入 log(10)、lg(2) 及 ln(e) 來觀察。</p>
          </div>
<div class="note success">
            <p>這是 ANN 的系列文章<br>上一篇是 <a href="/linear-regression-and-gradient-descent/" title="線性回歸與梯度下降 Linear Regression and Gradient Descent">線性回歸與梯度下降 Linear Regression and Gradient Descent</a><br>下一篇是 <a href="/fully-connected-neural-network/" title="全連接神經網路 Fully-Connected Neural Network">全連接神經網路 Fully-Connected Neural Network</a></p>
          </div>
<div class="note success">
            <p>筆者於大學專題時，曾向組員介紹過相關內容，如有需要可以參考 <a href="https://docs.google.com/presentation/d/1IfcViNOgnE3g2yj6tdWGsNnm2D1cb0nkB87crTMTFno/edit?usp=sharing" target="_blank" rel="noopener">Logistic Regression 簡報</a></p>
          </div>
<h1 id="邏輯回歸"><a href="#邏輯回歸" class="headerlink" title="邏輯回歸"></a>邏輯回歸</h1><p>邏輯回歸公式看起來還蠻複雜的，不過依舊有跡可循。<br>首先，我們回憶線性回歸的一些式子：</p>
<p>$h_{\theta}(x) = \theta_{0} + \theta_{1}x$</p>
<p>還記得這個做什麼的話就好辦了，首先我們有一堆 $x$ 跟 $y$ 的資料（訓練資料），<br>然後我們透過找 $\theta$ 來確定之後新資料的 $y$ 值，換言之 $h_{\theta}(x)$ 其實就是新資料要代入的函數。</p>
<p>現在問題在於，如果我希望這個 $h_{\theta}(x)$ 介於 $[0, 1]$ 這個區間的話，<br>為什麼要做落在這個區間呢？因為這樣才能對應這樣的關係：</p>
<ul>
<li>$h_{\theta}(x) = 1 = True$</li>
<li>$h_{\theta}(x) = 0 = False$</li>
</ul>
<p>這也是叫做邏輯回歸的原因了，也就是說我們要修該這個 $h_{\theta}(x)$ 函數。</p>
<h1 id="預測函數"><a href="#預測函數" class="headerlink" title="預測函數"></a>預測函數</h1><p>修改函數其實有很多種方法，比方說：</p>
<ul>
<li>$ f(x) = \frac{1}{1 + e ^{-x}}$</li>
<li>$ f(x) = \frac{1 + tanh(x)}{2}$</li>
</ul>
<p>其中第一個 $ f(x) = \frac{1}{1 + e ^{-x}}$<br>叫做 Sigmoid Function、或叫 Logistic Function（邏輯函數）</p>
<p>這邊就以這個函數為準。<br>然後我們令 $h_{\theta}(x) ＝\frac{1}{1 + e ^{-(\theta_{0} + \theta_{1}x)}}$<br>也就是把函數套在原函數上面。</p>
<p>可能會造成困惑的一點是，我們其實不知道 $\theta_{0} + \theta_{1}x$ 確切的值域，<br>用淺白一點的例子來說：如果我在線性回歸中預測的是房價，那麼這個函數的值應該會很大。</p>
<p>但是這樣的猜測是不正確的，因為我們並沒有確定 $\theta$ 的值，<br>所以在A.I.學習的過程中，這個 $\theta$ 的值就會讓 $h_{\theta}(x)$ 貼近真實的情況。</p>
<h1 id="成本函數"><a href="#成本函數" class="headerlink" title="成本函數"></a>成本函數</h1><p>接下來就是定義成本代價了。</p>
<p>因為 $h_{\theta}(x)$ 這次只會在 $[0, 1]$ 中，<br>所以說，我們的成本函數也是差不多要這樣定義：  </p>

$Cost(\theta) = \left\{\begin{array}{l} -ln(h_{\theta}(x)) && \text{if }y = 1 \\ -ln(1-h_{\theta}(x)) && \text{if }y = 0 \end{array}\right .$

<ul>
<li>如果 $h_{\theta}(x) = 0$ 且 $y = 0$ 則 $Cost(\theta) = 0$（預測正確，成本為零）</li>
<li>如果 $h_{\theta}(x) = 0$ 且 $y = 1$ 則 $Cost(\theta) = \infty$（預測錯誤，成本無限大）</li>
<li>如果 $h_{\theta}(x) = 1$ 且 $y = 0$ 則 $Cost(\theta) = \infty$（預測錯誤，成本無限大）</li>
<li>如果 $h_{\theta}(x) = 1$ 且 $y = 1$ 則 $Cost(\theta) = 0$（預測正確，成本為零）</li>
</ul>
<p>而 $log(x)$ 有這這樣的性質：</p>
<ul>
<li>任何數的零次方等於一，也就是 $ln(1) = 0$</li>
<li>有條貼近 $y$ 軸的漸近線，也就是 $\displaystyle{\lim_{x \to 0} ln(x) = -\infty}$</li>
</ul>
<p>也就是說，只要取 $-ln(x)$ 就能找到 $0$ 跟 $\infty$ 兩個重要的值，剩下的就只是調整。<br>從這裡也可以發現一件事，就是其他的對數函數也差不多（其實是可以用的意思）</p>
<p>接下來整理成一條公式：</p>
<p>$Cost(\theta) = \left[-yln(h_{\theta}(x))\right] + \left[-(1-y)ln(1-h_{\theta}(x))\right]$</p>
<p>因為假設有 $m$ 筆資料的話：</p>
<p>$Cost(\theta) = \frac{1}{m} \sum\limits_{i=1}^m \left[ -y_{i}ln(h_{\theta}(x_{i})) \right] + \left[ -(1-y_{i})ln(1-h_{\theta}(x_{i})) \right]$ </p>
<h2 id="成本的梯度"><a href="#成本的梯度" class="headerlink" title="成本的梯度"></a>成本的梯度</h2><p>因為梯度下降要用到，接下來是微分成本函數：</p>
<p>$Cost(\theta) = -\frac{1}{m} \sum\limits_{i=1}^m \left[ y_{i}ln(h_{\theta}(x_{i})) \right] + \left[ (1-y_{i})ln(1-h_{\theta}(x_{i})) \right]$ </p>
<p>在微分之前，對兩個 $ln(x)$ 函數做變化：</p>
<p>$ln(h_{\theta}(x_{i})) = ln(\frac{1}{1 + e^{-\theta^{T}X}}) = ln(1) - ln(1 + e^{-\theta^{T}X}) = - ln(1 + e^{-\theta^{T}X})$</p>
<p>$ln(1-h_{\theta}(x_{i})) = ln(1-\frac{1}{1 + e^{-\theta^{T}X}}) = ln(\frac{1 + e^{-\theta^{T}X}}{1 + e^{-\theta^{T}X}}-\frac{1}{1 + e^{-\theta^{T}X}})$</p>
<p>$= ln(\frac{e^{-\theta^{T}X}}{1 + e^{-\theta^{T}X}}) = ln(e^{-\theta^{T}X}) - ln(1 + e^{-\theta^{T}X}) = -\theta^{T}X - ln(1 + e^{-\theta^{T}X})$</p>
<p>然後代換，化簡。</p>
<p>$Cost(\theta) = -\frac{1}{m} \sum\limits_{i=1}^m \left[ y_{i}(- ln(1 + e^{-\theta^{T}X})) \right] + \left[ (1-y_{i})(-\theta^{T}X - ln(1 + e^{-\theta^{T}X})) \right] $</p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ -y_{i}ln(1 + e^{-\theta^{T}X}) + (1-y_{i})(-\theta^{T}X - ln(1 + e^{-\theta^{T}X})) \right]$</p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ -y_{i}ln(1 + e^{-\theta^{T}X}) + (-\theta^{T}X - ln(1 + e^{-\theta^{T}X})+y_{i}\theta^{T}X + y_{i}ln(1 + e^{-\theta^{T}X}) \right]$ </p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ -\theta^{T}X - ln(1 + e^{-\theta^{T}X})+y_{i}\theta^{T}X \right]$ </p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ -(ln(e^{\theta^{T}X}) + ln(1 + e^{-\theta^{T}X}))+y_{i}\theta^{T}X \right]$ </p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ -ln(e^{\theta^{T}X}(1 + e^{-\theta^{T}X}))+y_{i}\theta^{T}X \right]$ </p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ -ln(e^{\theta^{T}X} + 1)+y_{i}\theta^{T}X \right]$ </p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ y_{i}\theta^{T}X - ln(e^{\theta^{T}X} + 1) \right]$ </p>
<p>接著在處理微分。</p>
<p>$\frac{\partial}{\partial\theta_{j}}Cost(\theta) = -\frac{1}{m} \sum\limits_{i=1}^m \left[ \frac{\partial}{\partial\theta_{j}}y_{i}\theta^{T}X - \frac{\partial}{\partial\theta_{j}}ln(e^{\theta^{T}X} + 1) \right]$ </p>
<p>第一項的部份：</p>
<p>$\frac{\partial}{\partial\theta_{j}}y_{i}\theta^{T}X = y_{i}x_{j}$</p>
<p>第二項的部份：</p>
<p>$\frac{\partial}{\partial\theta_{j}}ln(e^{\theta^{T}X} + 1) = \frac{\partial}{\partial(e^{\theta^{T}X} + 1)}ln(e^{\theta^{T}X} + 1)\frac{\partial}{\partial\theta_{j}}(e^{\theta^{T}X} + 1)$</p>
<p>$= \frac{1}{e^{\theta^{T}X} + 1}(x_{j}e^{\theta^{T}X}) = \frac{x_{j}e^{\theta^{T}X}}{e^{\theta^{T}X} + 1} = \frac{x_{j}}{(e^{-\theta^{T}X})(e^{\theta^{T}X} + 1)}$</p>
<p>$= \frac{x_{j}}{1 + e^{-\theta^{T}X}} = x_{j}h_{\theta}(x_{i})$</p>
<p>所以：</p>
<p>$\frac{\partial}{\partial\theta_{j}}Cost(\theta) = -\frac{1}{m} \sum\limits_{i=1}^m \left[ \frac{\partial}{\partial\theta_{j}}y_{i}\theta^{T}X - \frac{\partial}{\partial\theta_{j}}ln(e^{\theta^{T}X} + 1) \right]$</p>
<p>$= -\frac{1}{m} \sum\limits_{i=1}^m \left[ y_{i}x_{j} - x_{j}h_{\theta}(x_{i}) \right] = -\frac{1}{m} \sum\limits_{i=1}^m \left[ y_{i} - h_{\theta}(x_{i}) \right] x_{j}$ </p>
<p>$= \frac{1}{m} \sum\limits_{i=1}^m \left[ h_{\theta}(x_{i}) - y_{i} \right] x_{j}$ </p>
<p>實際的使用上我們會：</p>
<p>$\theta_{j} := \theta_{j} - \alpha\frac{1}{m}\sum\limits_{i=1}^m \left[ h_{\theta}(x_{i}) - y_{i} \right] x_{j}$ </p>
<p>其中 $\alpha$ 學習率，太高的學習率跟線性回歸一樣會震盪，<br>換言之，容易導致結果發散，無法收斂至最佳解。</p>
<div class="note warning">
            <p>學習率 $\alpha$ 太高會造成發散，導致無法收斂到最佳解。</p>
          </div>
<h1 id="感知器"><a href="#感知器" class="headerlink" title="感知器"></a>感知器</h1><p><img src="http://i.imgur.com/Mi5EawQ.png" alt="圖 1、感知器"></p>
<div class="note info">
            <p>用於人工神經網路時，單個感知器（perceptron）又稱為神經元（neuron）。</p>
          </div>
<p>圖 1 應該算是蠻常見的吧？如果常在接觸這個領域的話。<br>這篇文章把這個放在這裡，是為了跟邏輯回歸做比較。</p>
<p>圖中顯示的 $\sum$ 是指 $X$ 乘上 $\theta$ 權重取和；而 $f(x)$ 是指某種函數，可能是 sigmoid 或是其他函數。</p>
<p>有沒有跟邏輯回歸很類似或者說接近呢？</p>
<h2 id="線性不可分問題"><a href="#線性不可分問題" class="headerlink" title="線性不可分問題"></a>線性不可分問題</h2><p>下面這個段落引用自 Wikipedia 的文章，讓我們回顧一下歷史。</p>
<blockquote><p>雖然最初被認為有著良好的發展潛能，但感知機最終被證明不能處理諸多的模式識別問題。1969年，Marvin Minsky和Seymour Papert在《Perceptrons》書中，仔細分析了以感知機為代表的單層神經網絡系統的功能及局限，證明感知機不能解決簡單的異或（XOR）等線性不可分問題，但Rosenblatt和Minsky及Papert等人在當時已經了解到多層神經網絡能夠解決線性不可分的問題。</p>
<p>由於Rosenblatt等人沒能夠及時推廣感知機學習算法到多層神經網絡上，又由於《Perceptrons》在研究領域中的巨大影響，及人們對書中論點的誤解，造成了人工神經領域發展的長年停滯及低潮…  </p>
<footer><strong>Wikipedia</strong><cite><a href="https://zh.wikipedia.org/wiki/%E6%84%9F%E7%9F%A5%E5%99%A8" target="_blank" rel="noopener">zh.wikipedia.org/wiki/%E6%84%9F%E7%9F%A5%E5%99%A8</a></cite></footer></blockquote>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><p>這個演示是邏輯回歸（單個神經元）學習邏輯運算的規則，<br>可以發現除了 XOR 外，其他邏輯都可以使紅、藍兩色分明。</p>
<iframe scrolling="no" width="100%" height="550px" src="//jsfiddle.net/ht98xhej/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>人工智慧</category>
      </categories>
  </entry>
  <entry>
    <title>高斯喬登消去法 Gauss-Jordan Elimination</title>
    <url>/Gauss-Jordan-elimination/</url>
    <content><![CDATA[<p>這篇文章是某同學跟我說消去法不好寫，所以才出現的，<br>原本當初在上線性代數時，其實也有這樣的感覺，覺得消去法的細節有點多。</p>
<p>想清楚之後就覺得消去法本身不會很困難，精度的維持才是最艱難之處。<br><a id="more"></a></p>
<h1 id="矩陣運算"><a href="#矩陣運算" class="headerlink" title="矩陣運算"></a>矩陣運算</h1><p>消去法有一些基本運算，包含：</p>
<ol>
<li>交換 A、B 兩個列</li>
<li>將一列 A 加到另一列 B</li>
<li>將一列 A 乘上一個倍數 c</li>
</ol>
<p>此外，建立「增廣矩陣」也要處理。</p>
<div class="note warning">
            <p>注意這裡使用「直行橫列」意即列（Row）與行（Column）</p>
          </div>
<h2 id="增廣矩陣"><a href="#增廣矩陣" class="headerlink" title="增廣矩陣"></a>增廣矩陣</h2><p>輸入係數矩陣 M 與列向量 b 建立增廣矩陣 A。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 取得增廣矩陣</span></span><br><span class="line"><span class="comment"> * 輸入係數矩陣 M 及列向量 b 組合</span></span><br><span class="line"><span class="comment"> * 回傳增廣矩陣 A</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> augmented = <span class="function"><span class="keyword">function</span>(<span class="params">M, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> A = <span class="built_in">Array</span>.from(M, <span class="function"><span class="keyword">function</span>(<span class="params">v, k</span>) </span>&#123;  <span class="comment">// 建立增廣矩陣 A</span></span><br><span class="line">    <span class="keyword">return</span> v.concat(b[k]);                <span class="comment">// 將 M 的每一列都加上 b 的列</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> A;                               <span class="comment">// 回傳增廣矩陣 A</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>為了某些時候需要，<br>也可以撰寫將增廣矩陣 A 分解成係數矩陣 M 與列向量 b 的函數。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 分解增廣矩陣</span></span><br><span class="line"><span class="comment"> * 輸入增廣矩陣 A 分解</span></span><br><span class="line"><span class="comment"> * 回傳為包含係數矩陣 M 及列向量 b 的物件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> unaugmented = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;                                <span class="comment">// 回傳包含 M 及 b 的物件</span></span><br><span class="line">    M: <span class="built_in">Array</span>.from(A, <span class="function"><span class="keyword">function</span>(<span class="params">r</span>) </span>&#123;        <span class="comment">// 從增廣矩陣 A 建立</span></span><br><span class="line">      <span class="keyword">return</span> r.filter(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;    <span class="comment">// 過濾掉 A 每一列的最後一個元素則為係數矩陣 M</span></span><br><span class="line">        <span class="keyword">return</span> i != (r.length - <span class="number">1</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;),</span><br><span class="line">    b: <span class="built_in">Array</span>.from(A, <span class="function"><span class="keyword">function</span>(<span class="params">r</span>) </span>&#123;        <span class="comment">// 從增廣矩陣 A 建立</span></span><br><span class="line">      <span class="keyword">return</span> r.filter(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;    <span class="comment">// 過濾掉非 A 每一列的最後一個元素則為列向量 b</span></span><br><span class="line">        <span class="keyword">return</span> i == (r.length - <span class="number">1</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="兩列交換"><a href="#兩列交換" class="headerlink" title="兩列交換"></a>兩列交換</h2><p>交換兩個列，多用於軸（pivot）為零的情況。</p>
<div class="note info">
            <p>「樞」為 pivot 而「軸」為 axis；<br>不過這裡的軸是指 pivot 才對，鑒於溝通上不太使用「樞」故此用「軸」稱呼。</p>
          </div>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 兩列交換</span></span><br><span class="line"><span class="comment"> * 輸入矩陣 A 交換 a 及 b 兩列</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> exchange = <span class="function"><span class="keyword">function</span>(<span class="params">A, a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> T = <span class="built_in">Array</span>.from(A[a]);               <span class="comment">// 複製第 a 列</span></span><br><span class="line">  A[a] = A[b];                            <span class="comment">// 令第 a 列為第 b 列</span></span><br><span class="line">  A[b] = T;                               <span class="comment">// 令第 b 列為複製的 a 列</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="兩列加法"><a href="#兩列加法" class="headerlink" title="兩列加法"></a>兩列加法</h2><p>將一列乘上一個倍數加到另一列上。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 兩列加法</span></span><br><span class="line"><span class="comment"> * 輸入矩陣 A 將第 a 列乘 scalar 加到第 b 列</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> addition = <span class="function"><span class="keyword">function</span>(<span class="params">A, a, b, scalar</span>) </span>&#123;</span><br><span class="line">  A[b] = A[b].map(<span class="function"><span class="keyword">function</span>(<span class="params">v, k</span>) </span>&#123;        <span class="comment">// 使第 b 列變化</span></span><br><span class="line">    <span class="keyword">return</span> v + A[a][k] * scalar;          <span class="comment">// 將第 a 列乘 scalar 加上</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="單列縮放"><a href="#單列縮放" class="headerlink" title="單列縮放"></a>單列縮放</h2><p>將一列乘上一個常數。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 單列縮放</span></span><br><span class="line"><span class="comment"> * 輸入矩陣 A 將第 a 列乘上 scalar</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> scalar = <span class="function"><span class="keyword">function</span>(<span class="params">A, a, scalar</span>) </span>&#123;</span><br><span class="line">  A[a] = A[a].map(<span class="function"><span class="keyword">function</span>(<span class="params">v, k</span>) </span>&#123;        <span class="comment">// 將第 a 列變化</span></span><br><span class="line">    <span class="keyword">return</span> v * scalar;                    <span class="comment">// 將元素乘上 scalar</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="消去法"><a href="#消去法" class="headerlink" title="消去法"></a>消去法</h1><p>通過剛剛寫的副程式，可以使消去法變得更容易完成，<br>但考慮到一些情形，必須要在撰寫一些函數。</p>
<h2 id="取得軸"><a href="#取得軸" class="headerlink" title="取得軸"></a>取得軸</h2><p>取得矩陣 A 的從第 k 列開始的軸。<br>考慮到如果當前軸那個位置的元素為零，這個函數可以幫我們找到可以交換的列。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 取得軸</span></span><br><span class="line"><span class="comment"> * 輸入矩陣 A 及第 k 列</span></span><br><span class="line"><span class="comment"> * 建立一個 row(A) - k 長度的陣列</span></span><br><span class="line"><span class="comment"> * 陣列元素值 e 為第 k 列開始第 e 行元素不為零</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> findPivots = <span class="function"><span class="keyword">function</span>(<span class="params">A, k</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;</span><br><span class="line">    length: (A.length - k)                        <span class="comment">// 建立長度為 row(A) - k 的陣列</span></span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">e, i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; A[k + i].length; j++) &#123;   <span class="comment">// 遍歷 A 第 k + i 列的每個元素</span></span><br><span class="line">      <span class="keyword">if</span> (A[k + i][j] != <span class="number">0</span>) &#123;                     <span class="comment">// 如果 A 第 k + i 列的第 j 個元素不為零</span></span><br><span class="line">        <span class="keyword">return</span> j;                                 <span class="comment">// 返回 j</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> A[<span class="number">0</span>].length;                           <span class="comment">// 第 k + i 列的所有元素都為零返回行的數量</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>這個函數是之後消去法的關鍵，也是最難理解的部分。<br>為幫助理解可以看一個例子：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> A = [[ <span class="number">0</span>, <span class="number">-2</span>,  <span class="number">4</span>,  <span class="number">7</span>],</span><br><span class="line">         [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">5</span>,  <span class="number">8</span>],</span><br><span class="line">         [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line">         [ <span class="number">3</span>, <span class="number">-3</span>,  <span class="number">6</span>,  <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">findPivots(A, <span class="number">0</span>);   <span class="comment">// [1, 2, 4, 0]</span></span><br><span class="line">findPivots(A, <span class="number">1</span>);   <span class="comment">// [4, 2, 0]</span></span><br><span class="line">findPivots(A, <span class="number">2</span>);   <span class="comment">// [4, 0]</span></span><br><span class="line">findPivots(A, <span class="number">3</span>);   <span class="comment">// [0]</span></span><br></pre></td></tr></table></figure>
<p>之所以有這個函數，考慮如果第 k 列的軸為零，<br>只要透過這個函數取得從第 k 列開始的軸，找到陣列中最小值交換就好。</p>
<p>考慮剛才的例子：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[[ <span class="number">0</span>, <span class="number">-2</span>,  <span class="number">4</span>,  <span class="number">7</span>],</span><br><span class="line"> [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">5</span>,  <span class="number">8</span>],</span><br><span class="line"> [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line"> [ <span class="number">3</span>, <span class="number">-3</span>,  <span class="number">6</span>,  <span class="number">9</span>]]</span><br></pre></td></tr></table></figure>
<p>其中第 0 列的軸位置為零，故計算第 0 列開始的軸位置為 [1, 2, 4, 0]<br>最小值為 0 註標為 3 則交換第 0 列與第 3 列。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[[ <span class="number">3</span>, <span class="number">-3</span>,  <span class="number">6</span>,  <span class="number">9</span>],</span><br><span class="line"> [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">5</span>,  <span class="number">8</span>],</span><br><span class="line"> [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line"> [ <span class="number">0</span>, <span class="number">-2</span>,  <span class="number">4</span>,  <span class="number">7</span>]]</span><br></pre></td></tr></table></figure>
<p>同樣的，再換一次為：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[[ <span class="number">3</span>, <span class="number">-3</span>,  <span class="number">6</span>,  <span class="number">9</span>],</span><br><span class="line"> [ <span class="number">0</span>, <span class="number">-2</span>,  <span class="number">4</span>,  <span class="number">7</span>],</span><br><span class="line"> [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">0</span>],</span><br><span class="line"> [ <span class="number">0</span>,  <span class="number">0</span>,  <span class="number">5</span>,  <span class="number">8</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="最小值註標"><a href="#最小值註標" class="headerlink" title="最小值註標"></a>最小值註標</h2><p>取得最小值註標是個簡單的功能。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 取得陣列最小值的註標</span></span><br><span class="line"><span class="comment"> * 輸入陣列 arr 最小值為 arr[i] 回傳 i</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> minIndex = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;                          <span class="comment">// 假設最小值註標為 0</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;   <span class="comment">// 遍歷陣列</span></span><br><span class="line">    <span class="keyword">if</span>(arr[i] &lt; arr[index]) &#123;             <span class="comment">// 如果值更小</span></span><br><span class="line">      index = i;                          <span class="comment">// 改變最小值註標</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> index;                           <span class="comment">// 回傳最小值註標</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="高斯部分"><a href="#高斯部分" class="headerlink" title="高斯部分"></a>高斯部分</h2><p>消去法的這個部分主要是將下三角的元素變為零，<br>即使矩陣 A 變成上三角矩陣。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 高斯消去法</span></span><br><span class="line"><span class="comment"> * 輸入增廣矩陣 A 使之變成上三角矩陣</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> Gauss = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> m = A.length;                               <span class="comment">// A 有 m 個列</span></span><br><span class="line">  <span class="keyword">let</span> n = A[<span class="number">0</span>].length;                            <span class="comment">// A 有 n 個行</span></span><br><span class="line">  <span class="keyword">let</span> r = <span class="built_in">Math</span>.min(m, n);                         <span class="comment">// A 最大會有 r 個軸</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;                   <span class="comment">// 對第 i 個列操作</span></span><br><span class="line">    <span class="keyword">let</span> pivots = findPivots(A, i);                <span class="comment">// 計算從第 i 列開始的軸位置</span></span><br><span class="line">    <span class="keyword">let</span> p = &#123;                                     <span class="comment">// 建立目前軸 p 的位置</span></span><br><span class="line">      i: <span class="number">0</span>,</span><br><span class="line">      j: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">    p.i = minIndex(pivots);                       <span class="comment">// 取得最小軸位置的列</span></span><br><span class="line">    p.j = pivots[p.i];                            <span class="comment">// 取得最小軸位置</span></span><br><span class="line">    <span class="keyword">if</span> (p.j == n) &#123;                               <span class="comment">// p.j 為 n 即整列是零</span></span><br><span class="line">      <span class="keyword">return</span>;                                     <span class="comment">// 已經不能再做下去了</span></span><br><span class="line">    &#125;</span><br><span class="line">    exchange(A, i, i + p.i);                      <span class="comment">// 交換最小軸位置的列到本列</span></span><br><span class="line">    scalar(A, i, <span class="number">1</span> / A[i][p.j]);                  <span class="comment">// 縮放本列的大小使軸為 1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; m; j++) &#123;             <span class="comment">// 遍歷軸下面的列</span></span><br><span class="line">      addition(A, i, j, -A[j][p.j] / A[i][p.j]);  <span class="comment">// 將其變為 0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="喬登部分"><a href="#喬登部分" class="headerlink" title="喬登部分"></a>喬登部分</h2><p>消去法的這個部分是透過代入法，<br>使矩陣 A 只有對角線上的元素有值（且為 1）。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 代入法</span></span><br><span class="line"><span class="comment"> * 重複代入使軸上方元素為零</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> Jordan = <span class="function"><span class="keyword">function</span>(<span class="params">A</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> m = A.length;                               <span class="comment">// A 有 m 個列</span></span><br><span class="line">  <span class="keyword">let</span> n = A[<span class="number">0</span>].length;                            <span class="comment">// A 有 n 個行</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;              <span class="comment">// 對第 i 個列操作</span></span><br><span class="line">    <span class="keyword">let</span> pivots = findPivots(A, i);                <span class="comment">// 計算從第 i 列開始的軸位置</span></span><br><span class="line">    <span class="keyword">let</span> p = &#123;                                     <span class="comment">// 建立目前軸 p 的位置</span></span><br><span class="line">      i: <span class="literal">null</span>,</span><br><span class="line">      j: pivots[<span class="number">0</span>]</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span>(p.j == n) &#123;                                <span class="comment">// p.j 為 n 即整列是零</span></span><br><span class="line">      <span class="keyword">continue</span>;                                   <span class="comment">// 跳過這個列</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;            <span class="comment">// 遍歷軸上面的列</span></span><br><span class="line">      addition(A, i, j, -A[j][p.j] / A[i][p.j]);  <span class="comment">// 將其變為 0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="除錯技巧"><a href="#除錯技巧" class="headerlink" title="除錯技巧"></a>除錯技巧</h1><p>這裡整理一些除錯的技巧。</p>
<h2 id="自動測資"><a href="#自動測資" class="headerlink" title="自動測資"></a>自動測資</h2><p>人工設定測資可能也可以完成，<br>但如果能自動生成測資的話，就可以做比較大量的測試。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 產生測資矩陣</span></span><br><span class="line"><span class="comment"> * 建立大小為 (m, n) 的矩陣 M 及大小為 (m, 1) 的列向量 b</span></span><br><span class="line"><span class="comment"> * 組合出元素值 [a, b] 整數的增廣矩陣 A</span></span><br><span class="line"><span class="comment"> * 其中 m 與 n 為 [4, 7]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> generateMatrix = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> v = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;                                <span class="comment">// 取得述職的函數</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (b - a)) + a;   <span class="comment">// 數值為 [a, b]</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">let</span> m = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">3</span>) + <span class="number">4</span>;          <span class="comment">// 取得 m = [4, 7]</span></span><br><span class="line">  <span class="keyword">let</span> n = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">3</span>) + <span class="number">4</span>;          <span class="comment">// 取得 n = [4, 7]</span></span><br><span class="line">  <span class="keyword">let</span> M = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: m&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;        <span class="comment">// 建立矩陣 M</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: n&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> v();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">let</span> b = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: m&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;        <span class="comment">// 建立列向量 b</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">1</span>&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> v();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  A = augmented(M, b);                                <span class="comment">// 組合出增廣矩陣 A</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">Math</span>.random() &gt; <span class="number">0.5</span>) &#123;                           <span class="comment">// 是否建立空列</span></span><br><span class="line">    scalar(A, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m), <span class="number">0</span>);      <span class="comment">// 使隨機一列元素為 0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">Math</span>.random() &gt; <span class="number">0.5</span>) &#123;                           <span class="comment">// 是否建立相同列</span></span><br><span class="line">    <span class="keyword">let</span> z = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m);            <span class="comment">// 使隨機一列 z 等於另一列</span></span><br><span class="line">    scalar(A, z, <span class="number">0</span>);                                  <span class="comment">// 先使 z 列變成 0</span></span><br><span class="line">    addition(A, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m), z, <span class="number">1</span>); <span class="comment">// 隨機找一列加到 z 列</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> A;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="印出矩陣"><a href="#印出矩陣" class="headerlink" title="印出矩陣"></a>印出矩陣</h2><p>陣列在 JavaScript 中屬於參考的變數，<br>意思是，如果寫的方法為：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="built_in">console</span>.log(A);</span><br><span class="line"><span class="comment">/* 更改 A 矩陣（陣列） */</span></span><br><span class="line"><span class="built_in">console</span>.log(A);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>則兩個輸出會完全一樣。<br>為了正常印出矩陣，可以建立矩陣的副本：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="built_in">console</span>.log(A.slice());</span><br><span class="line"><span class="comment">/* 更改 A 矩陣（陣列） */</span></span><br><span class="line"><span class="built_in">console</span>.log(A.slice());</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><iframe scrolling="no" width="100%" height="460px" src="//jsfiddle.net/6j4ru96n/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
]]></content>
      <categories>
        <category>線性代數</category>
      </categories>
  </entry>
  <entry>
    <title>馬可爾夫決策過程 Markov Decision Process</title>
    <url>/markov-decision-process/</url>
    <content><![CDATA[<p>這篇文章是《人工智能：一種現代的方法》及 Udacity 上的強化學習課程筆記及其他內容的整理，<br>從馬可爾夫決策過程、價值迭代、策略迭代、Q 學習，最後到深度 Q 網路的思路。<br><a id="more"></a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前半年太忙一直沒時間更新 Blog，現在終於有時間寫新文章了 XD</p>
<p>強化學習（reinforcement learning）一直是非常有趣的主題，跟遊戲設計搭配更是如此。<br>我曾經在 RPG Maker MV 中使用手刻的 3 層全連接神經網路來做 ARPG（動作 RPG）怪物的 AI 設計，<br>雖然效果不是很理想，不過確實可以觀察到怪物可以學習到一些玩家的攻擊模式並且迴避。</p>
<p>全連接神經網路在分類上是屬於監督學習，而本篇著重於強化學習，<br>強化學習是不透過標籤（label），系統直接由環境中取得資訊來學習的 AI 系統。</p>
<p>當時初學時，關於 Q 學習的部分其實看不太懂，我後來發現有一系列的途徑去理解，<br>一開始是自己閱讀《人工智能：一種現代的方法》，好不容易看懂（筆者數學不好……），<br>後來在 Udacity 的強化學習課程，又做了一次整理才明白。</p>
<div class="note info">
            <p>關於課程請至 <a href="https://www.udacity.com/course/reinforcement-learning--ud600" target="_blank" rel="noopener">Udacity 的課程資訊</a></p>
          </div>
<p>我認為的最佳學習途徑：</p>
<ul>
<li>馬可爾夫決策過程（Markov Decision Process, MDP）</li>
<li>價值迭代（value iteration）與策略迭代（policy iteration）</li>
<li>Q 學習（Q-learning）</li>
<li>深度 Q 網路（Deep Q-Network, DQN）</li>
</ul>
<p>其中，前兩部分是序列式決策問題（sequential decision problem）的入門，<br>第三部分 Q 學習是關於序列決策的變體，最後深度 Q 網路則是將 Q 學習結合神經網路所誕生的算法。</p>
<p>本篇是第一部分，重點擺在討論馬可爾夫決策過程與問題建模，<br>至於策略、效用與貝爾曼方程將在下一篇文章解決。</p>
<div class="note success">
            <p>這是 DQN 的系列文章，下一篇是 <a href="/value-iteration/" title="價值迭代 Value Iteration">價值迭代 Value Iteration</a></p>
          </div>
<div class="note info">
            <p>於 2019.05.13 更新了部分數學符號的表示</p>
          </div>
<h1 id="馬可爾夫決策"><a href="#馬可爾夫決策" class="headerlink" title="馬可爾夫決策"></a>馬可爾夫決策</h1><p>馬可爾夫決策由下列部分組成：</p>
<ul>
<li>狀態集合 $S$</li>
<li>動作函數 $ACTION: S \mapsto A$ 其中 $A$ 為可執行的動作</li>
<li>轉移模型 $P(s_{t+1}|s_{t}, a)$ 其中 $s_{t} \in S$ 為當前狀態、$s_{t+1} \in S$ 為下一個狀態，$a \in A$ 為時間 $t$ 時執行的動作</li>
<li>回報函數 $R(s)$</li>
</ul>
<p>其中轉移模型必須滿足馬可爾夫假設（Markov assumption）即「$s_{t+1}$ 的狀態僅受 $s_{t}$ 狀態影響」。</p>
<div class="note info">
            <p>動作函數，通常被說是「動作集合」，但在書中公式表達像是「回傳集合的函數」，故在此以函數說明。</p>
          </div>
<h1 id="玩具問題"><a href="#玩具問題" class="headerlink" title="玩具問題"></a>玩具問題</h1><p>筆者的經驗是，初學見到這些符號會水土不服，<br>所以可以先過渡到幾個其他的玩具問題（toy problem）來理解馬可爾夫決策的過程。<br>順便練習把問題定義清楚。</p>
<h2 id="地圖尋路"><a href="#地圖尋路" class="headerlink" title="地圖尋路"></a>地圖尋路</h2><p>這是《人工智能：一種現代的方法》第 17.1 節序列式決策出現的玩具問題。</p>
<p>地圖大小寬度為 3、長度為 4，位置 $(2, 2)$ 是一堵牆，<br>寶藏在 $(4, 3)$，陷阱在 $(4, 2)$。電腦從 $(1, 1)$ 開始，每次移動 1 格，移動會消耗 0.04 分，<br>目標是透過探索地圖，找到一個最佳策略來獲得高分。</p>
<p>很難想像的話，看下面的圖 1。</p>
<p><img src="https://i.imgur.com/8g4n6Sv.png" alt="圖 1、基本玩具問題"></p>
<p>對於這個問題來說，建模的四個部分分別為：</p>
<ul>
<li>狀態集合，即座標集合 $S = \{(x, y)| x \in \{1, 2, 3\}, y \in \{1, 2, 3, 4\} \}$</li>
<li>動作函數，即在某一座標可以執行的動作 $MOVE: S \mapsto A$ 其中 $A = \{\text{up}, \text{left}, \text{right}, \text{down}\}$</li>
<li>轉移模型，即在某座標、執行某動作後，轉移到下個狀態的機率 $P(s_{t+1}|s_{t}, a_{t})$ 其中 $s_{t}, s_{t+1} \in S$ 且 $a_{t} \in A$</li>
<li>回報函數，每個位置的得分 $SCORE(s) = SCORE(x, y)$</li>
</ul>
<p>下面給出一段淺白的描述作為例子。</p>
<p>目前在某一個座標 $x = 1$ 且 $y = 3$，所以我的「狀態」是 $s = (1, 3) \in S$<br>在這個狀態下，我可以執行的動作為 $MOVE(1, 3) = \text{up}, \text{left}, \text{right}, \text{down}$<br>也就是上下左右；如果此時我選擇 $a = \text{right} \in A$ 即向右移動。</p>
<div class="note info">
            <p>注意這裡的動作函數 $MOVE$ 是「一對多映射」，正因如此，玩家才在某些狀態，可以選擇多種動作。</p>
          </div>
<p>若動作「一定會成功」則轉移模型為：$P((2, 3)|(1, 3), \text{right}) = 100\%$<br>至於環境的回報（得分）是：</p>

$SCORE(s) = \left\{\begin{array}{l}
+1 && \text{if } s = (4, 3) \\
-1 && \text{if } s = (4, 2) \\
-0.04 && \text{otherwise}
\end{array}\right .$
<br><br><div class="note info">
            <p>書中的轉移模型是不確定的。舉例來說，你決定往上移動，只有 80% 的機會成功之類的。</p>
          </div>
<h2 id="簡化的二十一點"><a href="#簡化的二十一點" class="headerlink" title="簡化的二十一點"></a>簡化的二十一點</h2><p>為了更理解「轉移模型」的部分，筆者再針對簡化過後的二十一點（Black Jack）建模，<br>這個簡化過後的規則如下：</p>
<ul>
<li>牌面 1、2、3、4、5 每種牌都有無限多張且抽到每一種的機率相等</li>
<li>牌面 1、2、3、4、5 對應點數為牌面的數字</li>
<li>每一回合莊家、玩家決定要不要繼續抽牌</li>
<li>若某回合不抽牌，接下來的回合不能繼續抽牌</li>
<li>若超過 10 點，則判輸</li>
<li>若雙方皆超過 10 點，則平手</li>
<li>若雙方皆小於等於 10 點，則點數大者勝</li>
<li>所有牌都是明牌（玩家可觀察）</li>
<li>莊家先抽牌</li>
</ul>
<p>如果你覺得規則理解有點困難，請嘗試玩玩看：<br><iframe scrolling="no" width="100%" height="200px" src="//jsfiddle.net/d6bues10/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe></p>
<div class="note info">
            <p>因為還沒介紹完策略，暫時不將完整的 AI 放出來，這裡的電腦僅是單純的邏輯模擬。</p>
          </div>
<p>對於這個問題來說，建模的四個部分分別為：</p>
<ul>
<li>狀態集合，即各種手牌 $s$ 及允許抽牌標誌 $t$ 的集合 $S = \{s = (c, t) | c \subseteq \{1, 2, 3, 4, 5\},  t \in \{1, 0\}\}$</li>
<li>動作函數，即每回合可以執行的動作 $ACTION: S \mapsto A$ 其中 $A = \{\text{draw}, \text{pass}\}$</li>
<li>轉移模型，即抽牌後，轉移到下個狀態的機率 $P(s_{t+1}|s_{t}, a_{t})$ 其中 $s_{t}, s_{t+1} \in S, a_{t} \in A$</li>
<li>回報函數，即一局遊戲的牌面數字 $POINT(s), s \in S$</li>
</ul>
<p>我們先看動作函數，對於每一種手牌的狀態，<br>除非已經超過 10 點或曾經放棄抽牌，否則可以繼續抽牌，所以有：</p>

$ACTION(s) = ACTION(c, t) = \left\{\begin{array}{l}
\text{draw}, \text{pass} && \text{if } t = 1 \text{ and } \sum\limits_{x \in c}x \leq 10 \\
\text{pass} && \text{if }  t = 0 \text{ or } \sum\limits_{x \in c}x > 10 \\
\end{array}\right .$
<br><br>然後轉移模型此時便不是「確定」的，轉移到不同的狀態是透過機率，<br>比方說目前我有手牌且可抽牌 $s = (\{1, 2, 3\}, 1)$ 考慮動作函數有 $ACTION(c, t) = \text{draw}, \text{pass}$<br>所以轉移模型，有兩種動作可以選擇：<br><br>若選擇不抽牌，那下回合一定保持原來的手牌，但抽牌標誌變成 0。<br>$P((\{1, 2, 3\}, 0)|(\{1, 2, 3\}, 1), \text{pass}) = 100\%$<br><br>若選擇抽牌，那下回合增加手牌（每種機率相等），抽牌標誌不變。<br>$P((\{1, 2, 3, 1\}, 1)|(\{1, 2, 3\}, 1), \text{draw}) = 20\%$（抽到點數 1）<br>$P((\{1, 2, 3, 2\}, 1)|(\{1, 2, 3\}, 1), \text{draw}) = 20\%$（抽到點數 2）<br>$P((\{1, 2, 3, 3\}, 1)|(\{1, 2, 3\}, 1), \text{draw}) = 20\%$（抽到點數 3）<br>$P((\{1, 2, 3, 4\}, 1)|(\{1, 2, 3\}, 1), \text{draw}) = 20\%$（抽到點數 4）<br>$P((\{1, 2, 3, 5\}, 1)|(\{1, 2, 3\}, 1), \text{draw}) = 20\%$（抽到點數 5）<br><br>不難發現，對於某一種動作，機率和必為 $1$。<br><br>回報函數為牌面點數和，點數和越高越好，而超過 10 點則給予 0 值：<br><br>
$POINT(s) = POINT(c, t) = \left\{\begin{array}{l}
\sum\limits_{x \in c}x && \text{if } \sum\limits_{x \in c}x \leq 10 \\
0 && \text{if } \sum\limits_{x \in c}x > 10 \\
\end{array}\right .$

]]></content>
      <categories>
        <category>人工智慧</category>
      </categories>
  </entry>
  <entry>
    <title>RMMV 音樂遊戲</title>
    <url>/rpg-maker-mv-music-game/</url>
    <content><![CDATA[<p>這篇文章將公開前作《Thinking at night》的音樂遊戲插件，<br>以及介紹其使用方法、譜面撰寫方法之類的內容。</p>
<p>一方面期待 RM 圈未來能有其他更好的作品，<br>另外也希望能讓一些樂師更容易製作屬於自己的音樂遊戲。</p>
<a id="more"></a>
<div class="note info">
            <p>關於遊戲請參考 <a href="/thinking-at-night/" title="Thinking at night">Thinking at night</a></p>
          </div>
<div class="note info">
            <p>更多插件請參考我的 <a href="https://github.com/tinytsunami/RMMV-Plugins" target="_blank" rel="noopener">GitHub(RMMV-Plugins)</a></p>
          </div>
<h1 id="插件發布"><a href="#插件發布" class="headerlink" title="插件發布"></a>插件發布</h1><p>這個插件我發布於 <a href="https://github.com/tinytsunami/RMMV-Plugins/tree/master/MusicGame" target="_blank" rel="noopener">GitHub</a> 上，<br>使用說明我會重貼在這裡，主要是增加一點補充（我比較喜歡個人部落格的排版）這樣。</p>
<p>下面統一稱本插件為「MusicGame」這樣。</p>
<div class="note info">
            <p>題外話，譜面撰寫的格式，很大一部分參考了太鼓次郎的譜面檔案（.tja）格式。</p>
          </div>
<h2 id="更新歷程"><a href="#更新歷程" class="headerlink" title="更新歷程"></a>更新歷程</h2><ul>
<li>2019.11.10 《Thinking at night》遊戲公開</li>
<li>2019.12.10 MusicGame v1.0：插件整理完成並內部公開</li>
<li>2020.01.03 MusicGame v1.1：新增切換數字、背景、分數統計功能</li>
<li>2020.01.09 MusicGame v1.2：新增長音音符功能</li>
<li>2020.01.16 MusicGame v1.2：插件正式發表</li>
</ul>
<h2 id="利用條款"><a href="#利用條款" class="headerlink" title="利用條款"></a>利用條款</h2><p>本插件採用 <a href="https://en.wikipedia.org/wiki/MIT_License" target="_blank" rel="noopener">MIT 授權 (MIT License)</a>。  </p>
<p>也就是說，基本上你用這個插件可以做任何事，<br>原本 MIT 授權，需包含著作權聲明（作者）和許可聲明（MIT 授權）標示；<br>但考慮到遊戲發布的特殊性，我基本只要求著作權聲明。</p>
<p>簡單的說，你只需要保留插件註解的作者一行即可：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">@author 羊羽</span><br></pre></td></tr></table></figure>
<p>另外，關於 <a href="https://en.wikipedia.org/wiki/Closing_credits" target="_blank" rel="noopener">Closing credits</a> 是沒有要求的；不過如果有，我會很高興就是了。</p>
<div class="note info">
            <p>其他問題請 <a href="mailto:z27619273@gmail.com" target="_blank" rel="noopener">來信聯絡</a></p>
          </div>
<h1 id="使用說明"><a href="#使用說明" class="headerlink" title="使用說明"></a>使用說明</h1><p>這個插件的說明有一點點複雜，尤其是譜面的部分。  </p>
<h2 id="插件參數"><a href="#插件參數" class="headerlink" title="插件參數"></a>插件參數</h2><table>
<thead>
<tr>
<th style="text-align:left">名稱</th>
<th style="text-align:left">型別</th>
<th style="text-align:left">預設值</th>
<th style="text-align:left">說明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">music data</td>
<td style="text-align:left">Json:File</td>
<td style="text-align:left">data/game/Music.json</td>
<td style="text-align:left">音樂譜面的檔案</td>
</tr>
<tr>
<td style="text-align:left">control keys</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">up, right, down, left</td>
<td style="text-align:left">玩家操控的按鈕</td>
</tr>
<tr>
<td style="text-align:left">auto play</td>
<td style="text-align:left">[0, 1]Z:Boolean</td>
<td style="text-align:left">0</td>
<td style="text-align:left">自動演奏</td>
</tr>
<tr>
<td style="text-align:left">auto pause</td>
<td style="text-align:left">[0, 1]Z:Boolean</td>
<td style="text-align:left">1</td>
<td style="text-align:left">遊戲跟隨窗口狀態自動暫停與開始</td>
</tr>
<tr>
<td style="text-align:left">pitch rate</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">100</td>
<td style="text-align:left">演奏速率</td>
</tr>
<tr>
<td style="text-align:left">start delay</td>
<td style="text-align:left">[0, inf)Z:Number</td>
<td style="text-align:left">300</td>
<td style="text-align:left">音樂載入後<br>第一個音符到達前的空白預留時間</td>
</tr>
<tr>
<td style="text-align:left">end delay</td>
<td style="text-align:left">[0, inf)Z:Number</td>
<td style="text-align:left">300</td>
<td style="text-align:left">演奏結束後<br>等待回到上一個場景的空白預留時間</td>
</tr>
<tr>
<td style="text-align:left">BGM volume</td>
<td style="text-align:left">[0, 100]Z:Number</td>
<td style="text-align:left">80</td>
<td style="text-align:left">BGM 播放的音量</td>
</tr>
<tr>
<td style="text-align:left">trackes number</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">4</td>
<td style="text-align:left">設定的軌道數</td>
</tr>
<tr>
<td style="text-align:left">trackes direction</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">left to right</td>
<td style="text-align:left">軌道方向</td>
</tr>
<tr>
<td style="text-align:left">trackes x position</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">766, 766, 766, 766</td>
<td style="text-align:left">軌道 X 位置</td>
</tr>
<tr>
<td style="text-align:left">trackes y position</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">162, 262, 362, 462</td>
<td style="text-align:left">軌道 Y 位置</td>
</tr>
<tr>
<td style="text-align:left">image background</td>
<td style="text-align:left">Image:File</td>
<td style="text-align:left">img/pictures/background</td>
<td style="text-align:left">預設演奏時的背景圖片</td>
</tr>
<tr>
<td style="text-align:left">image note</td>
<td style="text-align:left">Image:File</td>
<td style="text-align:left">img/pictures/note</td>
<td style="text-align:left">演奏時的相關音符圖片</td>
</tr>
<tr>
<td style="text-align:left">image max combo</td>
<td style="text-align:left">Image:File</td>
<td style="text-align:left">img/pictures/number</td>
<td style="text-align:left">演奏時的連擊數字圖片</td>
</tr>
<tr>
<td style="text-align:left">image max combo digits</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">3</td>
<td style="text-align:left">最大連擊位數</td>
</tr>
<tr>
<td style="text-align:left">image max combo x offset</td>
<td style="text-align:left">(-inf, inf)Z:Number</td>
<td style="text-align:left">372</td>
<td style="text-align:left">最大連擊 X 位置</td>
</tr>
<tr>
<td style="text-align:left">image max combo y offset</td>
<td style="text-align:left">(-inf, inf)Z:Number</td>
<td style="text-align:left">296</td>
<td style="text-align:left">最大連擊 Y 位置</td>
</tr>
<tr>
<td style="text-align:left">image score</td>
<td style="text-align:left">Image:File</td>
<td style="text-align:left">img/pictures/number</td>
<td style="text-align:left">演奏時的分數數字圖片</td>
</tr>
<tr>
<td style="text-align:left">image score digits</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">7</td>
<td style="text-align:left">分數位數</td>
</tr>
<tr>
<td style="text-align:left">image score x offset</td>
<td style="text-align:left">(-inf, inf)Z:Number</td>
<td style="text-align:left">10</td>
<td style="text-align:left">分數 X 位置</td>
</tr>
<tr>
<td style="text-align:left">image score y offset</td>
<td style="text-align:left">(-inf, inf)Z:Number</td>
<td style="text-align:left">10</td>
<td style="text-align:left">分數 Y 位置</td>
</tr>
<tr>
<td style="text-align:left">animation hit</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">1, 2, 3, 4</td>
<td style="text-align:left">按下按鍵時的動畫編號</td>
</tr>
<tr>
<td style="text-align:left">animation great hit</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">5, 5, 5, 5</td>
<td style="text-align:left">按下按鍵且擊出 great 的動畫</td>
</tr>
<tr>
<td style="text-align:left">animation good hit</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">6, 6, 6, 6</td>
<td style="text-align:left">按下按鍵且擊出 good 的動畫</td>
</tr>
<tr>
<td style="text-align:left">animation miss hit</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">7, 7, 7, 7</td>
<td style="text-align:left">按下按鍵且擊出 miss 的動畫</td>
</tr>
<tr>
<td style="text-align:left">animation connect hit</td>
<td style="text-align:left">Refer to help:String</td>
<td style="text-align:left">8, 8, 8, 8</td>
<td style="text-align:left">按下按鍵的長音播放動畫</td>
</tr>
<tr>
<td style="text-align:left">variable total</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">1</td>
<td style="text-align:left">紀錄結果音符數量的變數</td>
</tr>
<tr>
<td style="text-align:left">variable great</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">2</td>
<td style="text-align:left">紀錄結果 great 數量的變數</td>
</tr>
<tr>
<td style="text-align:left">variable good</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">3</td>
<td style="text-align:left">紀錄結果 good 數量的變數</td>
</tr>
<tr>
<td style="text-align:left">variable miss</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">4</td>
<td style="text-align:left">紀錄結果 miss 數量的變數</td>
</tr>
<tr>
<td style="text-align:left">variable combo</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">5</td>
<td style="text-align:left">紀錄結果當前 combo 的變數</td>
</tr>
<tr>
<td style="text-align:left">variable max combo</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">6</td>
<td style="text-align:left">紀錄結果 max combo 的變數</td>
</tr>
<tr>
<td style="text-align:left">variable score</td>
<td style="text-align:left">[1, inf)Z:Number</td>
<td style="text-align:left">7</td>
<td style="text-align:left">紀錄結果 score 的變數</td>
</tr>
<tr>
<td style="text-align:left">precision great</td>
<td style="text-align:left">[1, inf)R:Number</td>
<td style="text-align:left">4.0</td>
<td style="text-align:left">判斷為 Great 的精度範圍<br>單位是為流速倍率</td>
</tr>
<tr>
<td style="text-align:left">precision good</td>
<td style="text-align:left">[1, inf)R:Number</td>
<td style="text-align:left">8.0</td>
<td style="text-align:left">判斷為 Good 的精度範圍<br>單位是為流速倍率</td>
</tr>
<tr>
<td style="text-align:left">precision miss</td>
<td style="text-align:left">[1, inf)R:Number</td>
<td style="text-align:left">12.0</td>
<td style="text-align:left">判斷為 Miss 的精度範圍<br>單位是為流速倍率</td>
</tr>
<tr>
<td style="text-align:left">score great</td>
<td style="text-align:left">(-inf, inf)R:Number</td>
<td style="text-align:left">1000</td>
<td style="text-align:left">判定為 Great 的分數</td>
</tr>
<tr>
<td style="text-align:left">score good</td>
<td style="text-align:left">(-inf, inf)R:Number</td>
<td style="text-align:left">500</td>
<td style="text-align:left">判定為 Good 的分數</td>
</tr>
<tr>
<td style="text-align:left">score miss</td>
<td style="text-align:left">(-inf, inf)R:Number</td>
<td style="text-align:left">0</td>
<td style="text-align:left">判定為 Miss 的分數</td>
</tr>
<tr>
<td style="text-align:left">score connect</td>
<td style="text-align:left">(-inf, inf)R:Number</td>
<td style="text-align:left">1000</td>
<td style="text-align:left">完成長音的分數</td>
</tr>
</tbody>
</table>
<h3 id="Trackes-direction"><a href="#Trackes-direction" class="headerlink" title="Trackes direction"></a>Trackes direction</h3><table>
<thead>
<tr>
<th style="text-align:left">數值</th>
<th style="text-align:left">說明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">left to right</td>
<td style="text-align:left">為音符由左至右</td>
</tr>
<tr>
<td style="text-align:left">right to left</td>
<td style="text-align:left">為音符由右至左</td>
</tr>
<tr>
<td style="text-align:left">bottom to top</td>
<td style="text-align:left">為音符由下至上</td>
</tr>
<tr>
<td style="text-align:left">top to bottom</td>
<td style="text-align:left">為音符由下至上</td>
</tr>
</tbody>
</table>
<div class="note warning">
            <p>輸入其他內容，自動變成「left to right」</p>
          </div>
<h3 id="Control-keys"><a href="#Control-keys" class="headerlink" title="Control keys"></a>Control keys</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;key_1&gt;, &lt;key_2&gt;, ... <span class="comment">// 字元</span></span><br></pre></td></tr></table></figure>
<p>其中每個參數皆為字串，為「<code>Input.keyMapper</code>」與「英文鍵中任意字符」都可以。<br>關於 <code>Input.keyMapper</code> 的部分請參考：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Input.keyMapper = &#123;</span><br><span class="line">    <span class="number">9</span>: <span class="string">'tab'</span>,       <span class="comment">// tab</span></span><br><span class="line">    <span class="number">13</span>: <span class="string">'ok'</span>,       <span class="comment">// enter</span></span><br><span class="line">    <span class="number">16</span>: <span class="string">'shift'</span>,    <span class="comment">// shift</span></span><br><span class="line">    <span class="number">17</span>: <span class="string">'control'</span>,  <span class="comment">// control</span></span><br><span class="line">    <span class="number">18</span>: <span class="string">'control'</span>,  <span class="comment">// alt</span></span><br><span class="line">    <span class="number">27</span>: <span class="string">'escape'</span>,   <span class="comment">// escape</span></span><br><span class="line">    <span class="number">32</span>: <span class="string">'ok'</span>,       <span class="comment">// space</span></span><br><span class="line">    <span class="number">33</span>: <span class="string">'pageup'</span>,   <span class="comment">// pageup</span></span><br><span class="line">    <span class="number">34</span>: <span class="string">'pagedown'</span>, <span class="comment">// pagedown</span></span><br><span class="line">    <span class="number">37</span>: <span class="string">'left'</span>,     <span class="comment">// left arrow</span></span><br><span class="line">    <span class="number">38</span>: <span class="string">'up'</span>,       <span class="comment">// up arrow</span></span><br><span class="line">    <span class="number">39</span>: <span class="string">'right'</span>,    <span class="comment">// right arrow</span></span><br><span class="line">    <span class="number">40</span>: <span class="string">'down'</span>,     <span class="comment">// down arrow</span></span><br><span class="line">    <span class="number">45</span>: <span class="string">'escape'</span>,   <span class="comment">// insert</span></span><br><span class="line">    <span class="number">81</span>: <span class="string">'pageup'</span>,   <span class="comment">// Q</span></span><br><span class="line">    <span class="number">87</span>: <span class="string">'pagedown'</span>, <span class="comment">// W</span></span><br><span class="line">    <span class="number">88</span>: <span class="string">'escape'</span>,   <span class="comment">// X</span></span><br><span class="line">    <span class="number">90</span>: <span class="string">'ok'</span>,       <span class="comment">// Z</span></span><br><span class="line">    <span class="number">96</span>: <span class="string">'escape'</span>,   <span class="comment">// numpad 0</span></span><br><span class="line">    <span class="number">98</span>: <span class="string">'down'</span>,     <span class="comment">// numpad 2</span></span><br><span class="line">    <span class="number">100</span>: <span class="string">'left'</span>,    <span class="comment">// numpad 4</span></span><br><span class="line">    <span class="number">102</span>: <span class="string">'right'</span>,   <span class="comment">// numpad 6</span></span><br><span class="line">    <span class="number">104</span>: <span class="string">'up'</span>,      <span class="comment">// numpad 8</span></span><br><span class="line">    <span class="number">120</span>: <span class="string">'debug'</span>    <span class="comment">// F9</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="其他參考值"><a href="#其他參考值" class="headerlink" title="其他參考值"></a>其他參考值</h3><p>下面 8 個參數的數量皆應與 trackes number 對應，<br>每個值都以「,」隔開，空白將會忽略，型別請參考註解內容：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">trackes x position      <span class="comment">// (-inf, inf)Z:Number</span></span><br><span class="line">trackes y position      <span class="comment">// (-inf, inf)Z:Number</span></span><br><span class="line">control keys            <span class="comment">// Refer to help:String</span></span><br><span class="line">animation hit           <span class="comment">// [1, inf)Z:Number</span></span><br><span class="line">animation great hit     <span class="comment">// [1, inf)Z:Number</span></span><br><span class="line">animation good hit      <span class="comment">// [1, inf)Z:Number</span></span><br><span class="line">animation miss hit      <span class="comment">// [1, inf)Z:Number</span></span><br><span class="line">animation connect hit   <span class="comment">// [1, inf)Z:Number</span></span><br></pre></td></tr></table></figure>
<h2 id="插件指令"><a href="#插件指令" class="headerlink" title="插件指令"></a>插件指令</h2><p>隨時可以使用的指令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MusicGame auto true                  // 開啟自動演奏</span><br><span class="line">MusicGame auto false                 // 關閉自動演奏</span><br></pre></td></tr></table></figure>
<p>遊戲外可以使用的指令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MusicGame start &lt;id&gt;                 // 以第 &lt;id&gt; 首音樂開始遊戲</span><br><span class="line">MusicGame read &lt;id&gt; &lt;args&gt; &lt;var_id&gt;  // 讀取第 &lt;id&gt; 首音樂的參數 &lt;args&gt; 到第 &lt;var_id&gt; 號變數</span><br></pre></td></tr></table></figure>
<p>遊戲場景中可以使用的指令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MusicGame pause true                 // 暫停遊戲</span><br><span class="line">MusicGame pause false                // 暫停結束</span><br><span class="line">MusicGame end                        // 遊戲結束</span><br><span class="line">MusicGame number &lt;filename&gt;          // 數字圖片更改為 &lt;filename&gt;</span><br><span class="line">MusicGame number reset               // 數字圖片重設為預設圖片</span><br><span class="line">MusicGame score great &lt;number&gt;       // 將 Great 得分數設為 &lt;number&gt; 分</span><br><span class="line">MusicGame score good &lt;number&gt;        // 將 Good 得分數設為 &lt;number&gt; 分</span><br><span class="line">MusicGame score miss &lt;number&gt;        // 將 Miss 得分數設為 &lt;number&gt; 分</span><br><span class="line">MusicGame score connect &lt;number&gt;     // 將長音得分數設為 &lt;number&gt; 分</span><br></pre></td></tr></table></figure>
<p>所有插件指令的參數，皆不允許空白；若為檔案位置名稱，則不需副檔名。</p>
<h2 id="設定說明"><a href="#設定說明" class="headerlink" title="設定說明"></a>設定說明</h2><p>在指定目錄 <code>MUSICGAME_FOLDER</code> 的底下，<br>放置 <code>music.json</code> 與  檔案，檔案結構如下所示：</p>
<pre><code>[
    {
        &quot;name&quot;: &lt;樂曲名&gt;,
        &quot;file&quot;: &lt;樂曲檔名&gt;,
        &quot;background&quot;: &lt;背景圖片&gt;,
        &quot;level&quot;: &lt;難度分級&gt;,
        &quot;sign&quot;: &lt;拍號&gt;,
        &quot;bpm&quot;: &lt;曲速&gt;,
        &quot;speed&quot;: &lt;音符流速&gt;,
        &quot;sheet&quot;: &lt;譜面&gt;
    },
    ...
]
</code></pre><p>每個大括號的內容都為一首樂曲，而「樂曲編號」是這首樂曲在陣列中的序位，<br>除了樂曲編號不用填寫外，其他欄位的說明如下：</p>
<ul>
<li>「樂曲名、樂曲檔名」為字串，且樂曲檔名應置於 <code>./audio/bgm</code> 底下（不需副檔名）</li>
<li>「背景圖片」為字串，且圖片檔名應置於 <code>./picture/</code> 底下（不需副檔名，省略時為參數預設）</li>
<li>「難度分級」為一數字（整數、小數皆可）</li>
<li>「拍號」為長度二的陣列，像是四四拍應寫成 <code>[4, 4]</code></li>
<li>「曲速」為一整數</li>
<li>「音符流速」為一整數，單位是像素/每幀（pixel/frame）</li>
<li>「譜面」為二維陣列，如下說明設定</li>
</ul>
<h2 id="譜面撰寫"><a href="#譜面撰寫" class="headerlink" title="譜面撰寫"></a>譜面撰寫</h2><p>對於譜面，第一個維度會放置小節數，第二個維度放置指定軌道的音符（二進制）：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 譜面 */</span></span><br><span class="line">[</span><br><span class="line">    [...], <span class="comment">// 第 1 小節</span></span><br><span class="line">    [...], <span class="comment">// 第 2 小節</span></span><br><span class="line">    ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>我們這邊以《Thinking at night》三個軌道為例。<br>《Thinking at night》的主題曲，開頭的 3 小節主旋律（小節線用灰線補強）如下：</p>
<p><img src="https://i.imgur.com/oVOt63C.png" alt="圖 1、Thinking at night 曲目的主旋律"></p>
<p>第一步，我們只拿第一小節，由於這裡所有音符都是 8 分音符，所以我們切割成 8 份，<br>如果我們想將其簡化成如圖 2 右邊的樣子：</p>
<p><img src="https://i.imgur.com/1P1f6mt.png" alt="圖 2、第一小節簡化版"></p>
<p>接下來考慮二進位，<br>注意最高位與最低位相反跟軌道放置順序有關，<br>我這邊是由左至右排列（最低位在最左邊）：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">001</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">010</span> -&gt; <span class="number">2</span></span><br><span class="line"><span class="number">001</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">010</span> -&gt; <span class="number">2</span> </span><br><span class="line"><span class="number">001</span> -&gt; <span class="number">4</span></span><br><span class="line"><span class="number">100</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">011</span> -&gt; <span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>按照前後方向整理，這裡譜面是向下流動，所以整理成：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[ </span><br><span class="line">    [<span class="number">6</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>],   <span class="comment">// 第 1 小節</span></span><br><span class="line">    [...],                      <span class="comment">// 第 2 小節</span></span><br><span class="line">    ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>這個就是基本譜面的撰寫。</p>
<h3 id="複雜的旋律"><a href="#複雜的旋律" class="headerlink" title="複雜的旋律"></a>複雜的旋律</h3><p>很多時候會看到多個音符分布的情況，考慮下列小節：</p>
<p><img src="https://i.imgur.com/tWkIpMK.png" alt="圖 3、小節內有多種音符"></p>
<p>這個時候應該以「最小單位的音符」為準，圖 3 中最小單位是「16 分音符」。<br>譜面中的小節將會是 16 個數字，然後可以先大致想一下要怎麼安排位置，如圖四：</p>
<p><img src="https://i.imgur.com/5RrspdH.png" alt="圖 4、抽象化的音符位置"></p>
<p>然後，因為發出聲音的瞬間，是在音符開頭的地方（而非拉長的地方）<br>所以我們放置抽象的音符應該長的像圖 5 所示：</p>
<p><img src="https://i.imgur.com/JemY2ue.png" alt="圖 5、白點處為譜面音符位置"></p>
<p>撰寫譜面為：<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">4</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"><span class="comment">// 注意音符為向下流動，圖 5 最下方的白格是第一個元素</span></span><br></pre></td></tr></table></figure></p>
<div class="note info">
            <p>雖然說有音軌的話，旋律幾乎不會出錯，但實際效果還是需要重複多聽幾次以及實際去玩才能感受</p>
          </div>
<h3 id="音符縮寫"><a href="#音符縮寫" class="headerlink" title="音符縮寫"></a>音符縮寫</h3><p>考慮圖 6 的音軌，這是短音與長音同處一小節的情況：</p>
<p><img src="https://i.imgur.com/3YnmcaF.png" alt="圖 6、短音與長音"></p>
<p>如果按照前面的想法，那這裡最小單位是 16 分音符，<br>則我們可能會寫出這樣的譜面：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 二進制</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">100</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">010</span> -&gt; <span class="number">2</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">100</span> -&gt; <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 譜面</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>不難發現，我們的譜面大部分都為 <code>0</code> 且難以觀察，曲子一長就很難修改。<br>這時我們可以將這一小節縮寫，方式非常簡單：兩兩一組，拿掉後面的數字即可。<br>相當於：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 二進制</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">100</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">010</span> -&gt; <span class="number">2</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">000</span> -&gt; <span class="number">0</span> <span class="comment">// 刪除</span></span><br><span class="line"><span class="number">100</span> -&gt; <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 譜面</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>再進一步縮寫，可以得到：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 譜面</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>其實眼尖的人應該可以發現，音符縮寫其實相當於去修改譜面的最小單位：<br><img src="https://i.imgur.com/DD1Enph.png" alt="圖 7、縮寫的意義"></p>
<div class="note info">
            <p>能這樣縮寫，是因為小節的時間，是程式依照陣列元素自動切割的。</p>
          </div>
<h3 id="長音符"><a href="#長音符" class="headerlink" title="長音符"></a>長音符</h3><p>如果上面都懂了，那麼這裡就很容易，我們再次以圖 6 舉例。<br>長音需要「開頭」以及「結尾」，如果將圖 6 的第三個音符當作長音符，<br>於下一小節結束，如下所示：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>],   <span class="comment">// 圖 6 縮寫後</span></span><br><span class="line">    [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]    <span class="comment">// 開頭的 1 為結尾</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>則把數字寫成陣列，並於第二維度標示長音即可：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">1</span>, <span class="number">1</span>], <span class="number">0</span>],   <span class="comment">// 圖 6 最後一個音為長音</span></span><br><span class="line">    [[<span class="number">1</span>, <span class="number">1</span>], <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]    <span class="comment">// 開頭的 1 為長音結尾</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>長音的格式為：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="comment">/*原本的音符*/</span>, <span class="comment">/*長音標示*/</span>]</span><br></pre></td></tr></table></figure>
<p>例如，全部三軌都要按下，但只有第二軌是長音，也是辦的到的：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="comment">// 原本的音符 (111 = 7)</span></span><br><span class="line">  ^   <span class="comment">// 長音標示 (010 = 4)</span></span><br></pre></td></tr></table></figure>
<div class="note warning">
            <p>小心！長音沒有正確關閉的話，會出錯！</p>
          </div>
<h1 id="演示專案"><a href="#演示專案" class="headerlink" title="演示專案"></a>演示專案</h1><p>我有準備一個演示的專案可以提供給需要的人下載，<br>當然也可以直接修改本專案來製作遊戲。</p>
<div class="note primary">
            <p><a href="https://drive.google.com/file/d/1Op2lpthvHUenQ5BmZpobAbPv-qo6GYYZ/view?usp=sharing" target="_blank" rel="noopener">下載演示專案 (Google Drive)</a></p>
          </div>]]></content>
      <categories>
        <category>羊羽手札</category>
      </categories>
  </entry>
  <entry>
    <title>五子棋 Gomoku</title>
    <url>/gomoku/</url>
    <content><![CDATA[<p>五子棋，作為一款家喻戶曉的桌上遊戲，<br>可能是程式新手練習程式、設計遊戲 AI 的好起點。<br><a id="more"></a></p>
<p>其實這篇文章是以筆者做的 Python 遊戲為範本；<br>那時做出了連珠棋（六子棋）的 AI（雖然沒用到 AI 技術）</p>
<p>後來一直想找機會把這個做法記錄下來。</p>
<div class="note success">
            <p>筆者原始的 <a href="https://github.com/tinytsunami/PythonGame" target="_blank" rel="noopener">Python 程式</a></p>
          </div>
<div class="note info">
            <p>本篇將用 JavaScript 進行說明；其他程式可參考算法。</p>
          </div>
<h1 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h1><p>初始化階段，我們需要清空棋盤的二維陣列，<br>除此之外，還需要定義一些基本變數。</p>
<div class="note info">
            <p>這邊棋盤大小以 19 x 19 為例。</p>
          </div>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 常數 */</span></span><br><span class="line"><span class="keyword">const</span> CONNECT = <span class="number">5</span>;                          <span class="comment">// 取勝的連珠數量</span></span><br><span class="line"><span class="keyword">const</span> N = <span class="number">19</span>;                               <span class="comment">// 棋盤大小</span></span><br><span class="line"><span class="keyword">const</span> EMPTY = <span class="number">0</span>;                            <span class="comment">// 定義棋盤的空值</span></span><br><span class="line"><span class="keyword">const</span> WHITE = <span class="number">1</span>;                            <span class="comment">// 定義棋盤白子的值</span></span><br><span class="line"><span class="keyword">const</span> BLACK = <span class="number">2</span>;                            <span class="comment">// 定義棋盤黑子的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 變數 */</span></span><br><span class="line"><span class="keyword">let</span> board = <span class="literal">null</span>;                           <span class="comment">// 二維棋盤</span></span><br><span class="line"><span class="keyword">let</span> player = <span class="literal">null</span>;                          <span class="comment">// 玩家棋的顏色</span></span><br><span class="line"><span class="keyword">let</span> computer = <span class="literal">null</span>;                        <span class="comment">// 電腦棋的顏色</span></span><br><span class="line"><span class="keyword">let</span> now = <span class="literal">null</span>;                             <span class="comment">// 目前是哪方落子</span></span><br><span class="line"><span class="keyword">let</span> end = <span class="literal">null</span>;                             <span class="comment">// 遊戲結束的旗標</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 輸入我方回傳對手的函數 */</span></span><br><span class="line"><span class="keyword">let</span> other = <span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(c == WHITE) &#123;                          <span class="comment">// 如果輸入白子</span></span><br><span class="line">    <span class="keyword">return</span> BLACK;                           <span class="comment">// 回傳黑方</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(c == BLACK) &#123;                     <span class="comment">// 如果輸入黑子</span></span><br><span class="line">    <span class="keyword">return</span> WHITE;                           <span class="comment">// 回傳白方</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> EMPTY;                             <span class="comment">// 傳入值有問題，回傳空</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 初始化函數 */</span></span><br><span class="line"><span class="keyword">let</span> initialize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  player = BLACK;                           <span class="comment">// 定義由玩家下黑子</span></span><br><span class="line">  computer = other(player);                 <span class="comment">// 電腦為玩家的另一方</span></span><br><span class="line">  now = BLACK;                              <span class="comment">// 由黑子先下</span></span><br><span class="line">  end = <span class="literal">false</span>;                              <span class="comment">// 遊戲尚未結束</span></span><br><span class="line">  board = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: N&#125;, ()=&gt;&#123;     <span class="comment">// 初始化棋盤</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: N&#125;, ()=&gt;&#123;</span><br><span class="line">      <span class="keyword">return</span> EMPTY;                         <span class="comment">// 棋盤預設內容為空</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  refresh();                                <span class="comment">// 更新畫面</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line">initialize();                               <span class="comment">// 調用初始化函數</span></span><br></pre></td></tr></table></figure>
<p>玩家不一定要下黑方，<br>可以設定由玩家選擇顏色，但這裡為了方便就固定下黑子。</p>
<p>接下來就可以撰寫繪製棋盤的 refresh() 函數了。</p>
<h1 id="繪製棋盤"><a href="#繪製棋盤" class="headerlink" title="繪製棋盤"></a>繪製棋盤</h1><p>在遊戲可以開始提供給玩家操作前，<br>我們要先把棋盤繪製出來。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* HTML DOM */</span></span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"canvas"</span>)[<span class="number">0</span>];        <span class="comment">// 取得畫布元素</span></span><br><span class="line"><span class="keyword">const</span> context = canvas.getContext(<span class="string">"2d"</span>);                          <span class="comment">// 取得繪畫物件</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/* 常數 */</span> </span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> BLOCK = <span class="number">24</span>;                                                 <span class="comment">// 每格的大小</span></span><br><span class="line"><span class="keyword">const</span> MARGIN = <span class="number">15</span>;                                                <span class="comment">// 棋盤外邊框的大小</span></span><br><span class="line"><span class="keyword">const</span> TEXT = <span class="number">12</span>;                                                  <span class="comment">// 棋盤下方顯示文字區域的大小</span></span><br><span class="line"><span class="keyword">const</span> WIDTH = (N - <span class="number">1</span>) * BLOCK + MARGIN * <span class="number">2</span>;                       <span class="comment">// 畫布寬度</span></span><br><span class="line"><span class="keyword">const</span> HEIGHT = (N - <span class="number">1</span>) * BLOCK + MARGIN * <span class="number">2</span> + TEXT;               <span class="comment">// 畫布高度</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 畫布初始化 */</span> </span><br><span class="line">canvas.width = WIDTH;</span><br><span class="line">canvas.height = HEIGHT;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* 根據棋子回傳顏色 */</span> </span><br><span class="line"><span class="keyword">let</span> color = <span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(c == WHITE)                                                  <span class="comment">// 如果是白方</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"#FFFFFF"</span>;                                             <span class="comment">// 回傳白色色碼</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(c == BLACK)                                             <span class="comment">// 如果是黑方</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"#000000"</span>;                                             <span class="comment">// 回傳黑色色碼</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;                                                    <span class="comment">// 傳入值有問題，回傳無</span></span><br><span class="line">&#125;; </span><br><span class="line"> </span><br><span class="line"><span class="comment">/* 刷新畫面 */</span> </span><br><span class="line"><span class="keyword">let</span> refresh = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="keyword">let</span> ox, oy, tx, ty, r;                                          <span class="comment">// 宣告一些暫存變數</span></span><br><span class="line">  context.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);           <span class="comment">// 清空畫面</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; N; x++) &#123;                                    <span class="comment">// 遍歷棋盤畫線</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> y = <span class="number">0</span>; y &lt; N; y++) &#123; </span><br><span class="line">      context.beginPath();                                        <span class="comment">// 初始化路徑</span></span><br><span class="line">      ox = x * BLOCK + MARGIN;                                    <span class="comment">// 設定座標</span></span><br><span class="line">      tx = ox; </span><br><span class="line">      oy = MARGIN; </span><br><span class="line">      ty = (N - <span class="number">1</span>) * BLOCK + MARGIN; </span><br><span class="line">      context.moveTo(ox, oy);                                     <span class="comment">// 移到起始座標</span></span><br><span class="line">      context.lineTo(tx, ty);                                     <span class="comment">// 繪製直線</span></span><br><span class="line">      ox = MARGIN;                                                <span class="comment">// 直向路徑</span></span><br><span class="line">      tx = (N - <span class="number">1</span>) * BLOCK + MARGIN; </span><br><span class="line">      oy = y * BLOCK + MARGIN; </span><br><span class="line">      ty = oy; </span><br><span class="line">      context.moveTo(ox, oy);                                     <span class="comment">// 移到起始座標</span></span><br><span class="line">      context.lineTo(tx, ty);                                     <span class="comment">// 橫向路徑</span></span><br><span class="line">      context.stroke();                                           <span class="comment">// 繪製線條</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; N; x++) &#123;                                    <span class="comment">// 遍歷棋盤畫棋子</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> y = <span class="number">0</span>; y &lt; N; y++) &#123; </span><br><span class="line">      context.beginPath();                                        <span class="comment">// 初始化新路徑</span></span><br><span class="line">      <span class="keyword">if</span>(board[x][y] != EMPTY) &#123;                                  <span class="comment">// 棋盤不為空</span></span><br><span class="line">        ox = x * BLOCK + MARGIN;                                  <span class="comment">// 設定座標</span></span><br><span class="line">        oy = y * BLOCK + MARGIN; </span><br><span class="line">        r = BLOCK / <span class="number">2</span>;                                            <span class="comment">// 設定半徑</span></span><br><span class="line">        context.arc(ox, oy, r, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI);                   <span class="comment">// 圓弧路徑（注意後兩個參數是弧度）</span></span><br><span class="line">        context.fillStyle = color(board[x][y]);                   <span class="comment">// 選取顏色</span></span><br><span class="line">        context.fill();                                           <span class="comment">// 填充圓型</span></span><br><span class="line">        context.strokeStyle = <span class="string">"#000000"</span>;                          <span class="comment">// 棋子邊線顏色</span></span><br><span class="line">        context.stroke();                                         <span class="comment">// 繪製邊線</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(end == <span class="literal">true</span>) &#123;                                               <span class="comment">// 遊戲結束繪製提示字</span></span><br><span class="line">    ...                                                           <span class="comment">// 繪製結束字的部分</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>繪製棋盤雖然比較麻煩，但內容不困難，<br>座標的暫存變數可以直接寫在繪圖函數的傳入值內也可以。</p>
<div class="note info">
            <p>關於 beginPath() 的用法請參閱 <a href="https://www.w3schools.com/tags/canvas_beginpath.asp" target="_blank" rel="noopener">w3school: beginPath()</a>。</p>
          </div>
<h1 id="遊戲進行"><a href="#遊戲進行" class="headerlink" title="遊戲進行"></a>遊戲進行</h1><p>遊戲進行是透過玩家按下滑鼠來推動，<br>這樣處理比起透過 setInterval() 函數重複執行要有效率。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 落子在棋盤上的函數 */</span></span><br><span class="line"><span class="keyword">let</span> chess = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(board[x][y] == EMPTY) &#123;                                  <span class="comment">// 選的位置是空的</span></span><br><span class="line">    board[x][y] = now;                                        <span class="comment">// 代表棋子可以下這裡</span></span><br><span class="line">    <span class="keyword">if</span>(...) &#123;                                                 <span class="comment">// 勝利的條件</span></span><br><span class="line">      end = <span class="literal">true</span>;                                             <span class="comment">// 讓遊戲結束</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;                                                    <span class="comment">// 還沒勝利</span></span><br><span class="line">      now = other(now);                                       <span class="comment">// 換對手下棋</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  refresh();                                                  <span class="comment">// 更新畫面</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 畫布被玩家按下 */</span></span><br><span class="line">canvas.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(end == <span class="literal">true</span>) &#123;                                           <span class="comment">// 遊戲結束</span></span><br><span class="line">    ...                                                       <span class="comment">// 遊戲結束的處理</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;                                                      <span class="comment">// 遊戲還沒結束</span></span><br><span class="line">    <span class="keyword">let</span> x = <span class="built_in">Math</span>.round((event.offsetX - MARGIN) / BLOCK);     <span class="comment">// 抓取玩家滑鼠按下的 x 座標</span></span><br><span class="line">    <span class="keyword">let</span> y = <span class="built_in">Math</span>.round((event.offsetY - MARGIN) / BLOCK);     <span class="comment">// 抓取玩家滑鼠按下的 y 座標</span></span><br><span class="line">    chess(x, y);                                              <span class="comment">// 玩家落子在 (x, y)</span></span><br><span class="line">    <span class="keyword">if</span>(now == computer) &#123;                                     <span class="comment">// 現在換電腦下？（有可能玩家落子失敗）</span></span><br><span class="line">      ...                                                     <span class="comment">// 電腦的 AI 策略</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>設定 chess() 函數檢查落子規則，使得主函數變得很簡潔。</p>
<h1 id="勝負判斷"><a href="#勝負判斷" class="headerlink" title="勝負判斷"></a>勝負判斷</h1><p>這裡開始的設計是五子棋程式冗長與否的關鍵！</p>
<p>由於可能會重複使用「是否超出棋盤」的邏輯，<br>這裡先寫一個 belong() 函數為之後做準備。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 是否在範圍中 */</span></span><br><span class="line"><span class="keyword">let</span> belong = <span class="function"><span class="keyword">function</span>(<span class="params">v, min, max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> v &gt;= min &amp;&amp; v &lt; max;</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>接著這邊取得連珠數量的方式是這樣的，<br>我們先考慮一個方向的情況，在這個方向上，<br>連珠的數量為：「A 部分的數量 + 1 + B 部分的數量」</p>
<p>數量說明請參考圖 1。</p>
<p><img src="https://i.imgur.com/mLNHoUH.jpg" alt="圖 1、連珠數量說明"></p>
<p>另外觀察所有的方向：<br>考慮給定一個 (x, y) 加上一個 (dx, dy) 的偏移量，<br>由於 A 部分跟 B 部分是完全相反的。</p>
<p>也就是說 A = (x + dx, y + dy) 的話，<br>有 B = (x + (-dx), y + (-dy)) 的關係。</p>
<p>圖 2 使用顏色把原方向及反方向標出來。</p>
<p><img src="https://i.imgur.com/SmaJU1x.jpg" alt="圖 2、連珠方向說明"></p>
<p>這裡列出所有座標變化：</p>
<table>
<thead>
<tr>
<th>方向</th>
<th>dx 偏移量範圍</th>
<th>dy 偏移量範圍</th>
</tr>
</thead>
<tbody>
<tr>
<td>左上 → 右下（上圖藍色部分）</td>
<td>dx = [-1, -2, -3, -4]</td>
<td>dy = [-1, -2, -3, -4]</td>
</tr>
<tr>
<td>左上 → 右下（上圖紅色部分）</td>
<td>dx = [+1, +2, +3, +4]</td>
<td>dy = [+1, +2, +3, +4]</td>
</tr>
<tr>
<td>直向（上圖藍色部分）</td>
<td>dx = [-0, -0, -0, -0]</td>
<td>dy = [-1, -2, -3, -4]</td>
</tr>
<tr>
<td>直向（上圖紅色部分）</td>
<td>dx = [+0, +0, +0, +0]</td>
<td>dy = [+1, +2, +3, +4]</td>
</tr>
<tr>
<td>右上 → 左下（上圖藍色部分）</td>
<td>dx = [+1, +2, +3, +4]</td>
<td>dy = [-1, -2, -3, -4]</td>
</tr>
<tr>
<td>右上 → 左下（上圖紅色部分）</td>
<td>dx = [-1, -2, -3, -4]</td>
<td>dy = [+1, +2, +3, +4]</td>
</tr>
<tr>
<td>橫向（上圖藍色部分）</td>
<td>dx = [-1, -2, -3, -4]</td>
<td>dy = [-0, -0, -0, -0]</td>
</tr>
<tr>
<td>橫向（上圖紅色部分）</td>
<td>dx = [+1, +2, +3, +4]</td>
<td>dy = [+0, +0, +0, +0]</td>
</tr>
</tbody>
</table>
<p>如果令：</p>
<table>
<thead>
<tr>
<th>偏移量代號</th>
<th>偏移量範圍</th>
</tr>
</thead>
<tbody>
<tr>
<td>fixed</td>
<td>[0, 0, 0, 0]</td>
</tr>
<tr>
<td>forward</td>
<td>[+1, +2, +3, +4]</td>
</tr>
<tr>
<td>reverse</td>
<td>[-1, -2, -3, -4]</td>
</tr>
</tbody>
</table>
<p>可以把上表化簡成：</p>
<table>
<thead>
<tr>
<th>方向</th>
<th>dx 偏移量範圍</th>
<th>dy 偏移量範圍</th>
</tr>
</thead>
<tbody>
<tr>
<td>左上 → 右下（上圖藍色部分）</td>
<td>reverse</td>
<td>reverse</td>
</tr>
<tr>
<td>左上 → 右下（上圖紅色部分）</td>
<td>forward</td>
<td>forward</td>
</tr>
<tr>
<td>直向（上圖藍色部分）</td>
<td>fixed</td>
<td>reverse</td>
</tr>
<tr>
<td>直向（上圖紅色部分）</td>
<td>fixed</td>
<td>forward</td>
</tr>
<tr>
<td>右上 → 左下（上圖藍色部分）</td>
<td>forward</td>
<td>reverse</td>
</tr>
<tr>
<td>右上 → 左下（上圖紅色部分）</td>
<td>reverse</td>
<td>forward</td>
</tr>
<tr>
<td>橫向（上圖藍色部分）</td>
<td>reverse</td>
<td>fixed</td>
</tr>
<tr>
<td>橫向（上圖紅色部分）</td>
<td>forward</td>
<td>fixed</td>
</tr>
</tbody>
</table>
<p>這樣就可以設計一個函數，<br>傳入目前座標、棋子顏色及變化量範圍，<br>回傳有多少連珠：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 確認某個方向內的棋子數量</span></span><br><span class="line"><span class="comment"> * (x, y)   : 目前座標</span></span><br><span class="line"><span class="comment"> * c        : 棋子顏色</span></span><br><span class="line"><span class="comment"> * (dx, dy) : 偏移量範圍</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> check = <span class="function"><span class="keyword">function</span>(<span class="params">x, y, c, dx, dy</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;                                      <span class="comment">// 連珠數量</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; CONNECT - <span class="number">1</span>; i++) &#123;              <span class="comment">// 最大連珠範圍</span></span><br><span class="line">    <span class="keyword">let</span> tx = x + dx[i];                               <span class="comment">// 偏移後的 x 座標</span></span><br><span class="line">    <span class="keyword">let</span> ty = y + dy[i];                               <span class="comment">// 偏移後的 y 座標</span></span><br><span class="line">    <span class="keyword">if</span>(!belong(tx, <span class="number">0</span>, N) || !belong(ty, <span class="number">0</span>, N)) &#123;      <span class="comment">// 超出範圍</span></span><br><span class="line">      <span class="keyword">continue</span>;                                       <span class="comment">// 直接看下個偏移座標</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(board[tx][ty] == c) &#123;                          <span class="comment">// 如果目前偏移座標是指定顏色</span></span><br><span class="line">      count++;                                        <span class="comment">// 連珠數量增加</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;                                            <span class="comment">// 如果不是指定顏色（被截斷）</span></span><br><span class="line">      <span class="keyword">break</span>;                                          <span class="comment">// 終止計數</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> count;                                       <span class="comment">// 回傳連珠數量</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>有了這樣的函數後，可以直接調用：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 從指定座標出發的連珠數量</span></span><br><span class="line"><span class="comment"> * (x, y)   : 目前座標</span></span><br><span class="line"><span class="comment"> * c        : 棋子顏色</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> connect = <span class="function"><span class="keyword">function</span>(<span class="params">x, y, c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> assess = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">4</span>&#125;, (v, i)=&gt;&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;);                            <span class="comment">// 記錄四個方向的連珠數量</span></span><br><span class="line">  <span class="keyword">let</span> fixed = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: CONNECT&#125;, (v, i)=&gt;&#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;);                       <span class="comment">// 建立 fixed 偏移表</span></span><br><span class="line">  <span class="keyword">let</span> forward = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: CONNECT&#125;, (v, i)=&gt;&#123;<span class="keyword">return</span> i;&#125;);                     <span class="comment">// 建立 forward 偏移表</span></span><br><span class="line">  <span class="keyword">let</span> reverse = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: CONNECT&#125;, (v, i)=&gt;&#123;<span class="keyword">return</span> -i;&#125;);                    <span class="comment">// 建立 reverse 偏移表</span></span><br><span class="line">  fixed.shift();                                                                        <span class="comment">// 偏移表的第 0 項不要（參考上表）</span></span><br><span class="line">  forward.shift();</span><br><span class="line">  reverse.shift();</span><br><span class="line">  assess[<span class="number">0</span>] = check(x, y, c, forward, fixed) + check(x, y, c, reverse, fixed) + <span class="number">1</span>;      <span class="comment">// 橫向的連珠數量</span></span><br><span class="line">  assess[<span class="number">1</span>] = check(x, y, c, fixed, forward) + check(x, y, c, fixed, reverse) + <span class="number">1</span>;      <span class="comment">// 直向的連珠數量</span></span><br><span class="line">  assess[<span class="number">2</span>] = check(x, y, c, reverse, reverse) + check(x, y, c, forward, forward) + <span class="number">1</span>;  <span class="comment">// 左上到右下的連珠數量</span></span><br><span class="line">  assess[<span class="number">3</span>] = check(x, y, c, reverse, forward) + check(x, y, c, forward, reverse) + <span class="number">1</span>;  <span class="comment">// 右上到左下的連珠數量</span></span><br><span class="line">  max = assess.reduce(<span class="function">(<span class="params">previous, current</span>)=&gt;</span><span class="built_in">Math</span>.max(previous, current));                <span class="comment">// 四個方向取最大值</span></span><br><span class="line">  <span class="keyword">return</span> max;                                                                           <span class="comment">// 回傳最大連珠數量</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>因為勝出一定是「當前回合落子」造成遊戲結束，<br>所以勝負條件會寫在 chess() 函數內，<br>給定座標就是當前落子的位置：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 落子在棋盤上的函數 */</span></span><br><span class="line"><span class="keyword">let</span> chess = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(...) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">if</span>(connect(x, y, now) &gt;= CONNECT) &#123;                       <span class="comment">// 勝利的條件</span></span><br><span class="line">      end = <span class="literal">true</span>;                                             <span class="comment">// 讓遊戲結束</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>這裡的這個做法還有其他功能。將於 <a href="#電腦對弈">電腦對弈</a> 段落介紹。</p>
          </div>
<h1 id="結束處理"><a href="#結束處理" class="headerlink" title="結束處理"></a>結束處理</h1><p>既然勝負判斷已經完成，就可以順便實作結束處理。<br>這邊就顯示一行字在底部，然後再次點擊畫面可以重複遊戲這樣。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 畫布被玩家按下 */</span></span><br><span class="line">canvas.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(end == <span class="literal">true</span>) &#123;                                           <span class="comment">// 遊戲結束</span></span><br><span class="line">    initialize();                                             <span class="comment">// 重新初始化</span></span><br><span class="line">    end = <span class="literal">false</span>;                                              <span class="comment">// 讓遊戲重新開始</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;                                                      <span class="comment">// 遊戲還沒結束</span></span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>則畫布的更新：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 刷新畫面 */</span> </span><br><span class="line"><span class="keyword">let</span> refresh = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span>(end == <span class="literal">true</span>) &#123;                                               <span class="comment">// 遊戲結束繪製提示字</span></span><br><span class="line">    context.font = <span class="string">"12px Verdana"</span>                                 <span class="comment">// 設定字型與大小</span></span><br><span class="line">    context.fillStyle = <span class="string">"#000000"</span>;                                <span class="comment">// 繪製顏色</span></span><br><span class="line">    <span class="keyword">let</span> winner = (now == BLACK ? <span class="string">"black"</span> : <span class="string">"white"</span>);              <span class="comment">// 取得勝利方名稱</span></span><br><span class="line">    <span class="keyword">let</span> text = <span class="string">`<span class="subst">$&#123;winner&#125;</span> is won!(click screen to play again)`</span>;   <span class="comment">// 勝利提字文字</span></span><br><span class="line">    context.fillText(text, MARGIN, canvas.height - TEXT);         <span class="comment">// 繪製文字</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="電腦對弈"><a href="#電腦對弈" class="headerlink" title="電腦對弈"></a>電腦對弈</h1><p>電腦 AI 其實是最難寫的。</p>
<p>不過我們別有用心的設計了 connect() 函數後，<br>這裡可以在這裡使用這兩個函數。</p>
<p>由於連珠棋有輪流落子的規則，<br>所以只要輪到我方時，我盤面上最長的連珠大於對手最大連珠，<br>我方繼續加子，如果對方不阻擋，則我方就會勝出。</p>
<p>反之，如果對手的最大連珠大於我方，我方應該先阻擋對方。</p>
<p>具體的說，透過我們的 connect() 函數傳入可以落子的座標，<br>找到「如果這個座標落子的話」這裡會形成的最大連珠。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 搜索盤面上的特定顏色 </span></span><br><span class="line"><span class="comment"> * c: 棋子顏色</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> search = <span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> target = &#123;                                          <span class="comment">// 回傳物件</span></span><br><span class="line">    x: <span class="number">0</span>,                                                 <span class="comment">// 特定的 x 位置</span></span><br><span class="line">    y: <span class="number">0</span>,                                                 <span class="comment">// 特定的 y 位置</span></span><br><span class="line">    count: <span class="number">0</span>                                              <span class="comment">// 最大連珠</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; N; x++) &#123;                            <span class="comment">// 遍歷棋盤</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> y = <span class="number">0</span>; y &lt; N; y++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(board[x][y] == EMPTY) &#123;                          <span class="comment">// 如果這個棋盤位置可以落子</span></span><br><span class="line">        <span class="keyword">let</span> max = connect(x, y, c);                       <span class="comment">// 取得落子後的最大連珠</span></span><br><span class="line">        <span class="keyword">if</span>(target.count &lt; max) &#123;                          <span class="comment">// 如果連珠更大則</span></span><br><span class="line">          target.x = x;                                   <span class="comment">// 保存最大連珠處的 x 位置</span></span><br><span class="line">          target.y = y;                                   <span class="comment">// 保存最大連珠處的 y 位置</span></span><br><span class="line">          target.count = max;                             <span class="comment">// 保存最大連珠數量</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;                                          <span class="comment">// 回傳最大連珠的資料</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>電腦 AI 的部分就很簡單了：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 畫布被玩家按下 */</span></span><br><span class="line">canvas.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(end == <span class="literal">true</span>) &#123;                                           <span class="comment">// 遊戲結束</span></span><br><span class="line">    ...                                                       <span class="comment">// 遊戲結束的處理</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;                                                      <span class="comment">// 遊戲還沒結束</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">if</span>(now == computer) &#123;                                     <span class="comment">// 現在換電腦下？（有可能玩家落子失敗）</span></span><br><span class="line">      playerTarget = search(player);                          <span class="comment">// 搜尋玩家的最大連珠</span></span><br><span class="line">      computerTarget = search(computer);                      <span class="comment">// 搜尋電腦的最大連珠</span></span><br><span class="line">      <span class="keyword">if</span>(playerTarget.count &gt; computerTarget.count) &#123;         <span class="comment">// 玩家最大連珠大於電腦</span></span><br><span class="line">        chess(playerTarget.x, playerTarget.y);                <span class="comment">// 擋在玩家會形成最大連珠的地方</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;                                                  <span class="comment">// 電腦連珠比玩家的大</span></span><br><span class="line">        chess(computerTarget.x, computerTarget.y);            <span class="comment">// 我方繼續落子在最大的地方</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>雖然這裡稱作電腦「AI」對弈，但實際上是傳統的暴力搜索。</p>
          </div>
<h1 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h1><p>來下棋吧！</p>
<iframe scrolling="no" width="100%" height="550px" src="//jsfiddle.net/xw8LuLvz/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>人工智慧</category>
      </categories>
  </entry>
  <entry>
    <title>價值迭代 Value Iteration</title>
    <url>/value-iteration/</url>
    <content><![CDATA[<p>這篇文章是《人工智能：一種現代的方法》及 Udacity 上的強化學習課程筆記及其他內容的整理，<br>從馬可爾夫決策過程、價值迭代、策略迭代、Q 學習，最後到深度 Q 網路的思路。<br><a id="more"></a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>這篇文章是上一篇文章《馬可爾夫決策過程 Markov Decision Process》的續篇，<br>如果沒有基礎或想看過那篇文章，可以先去看看。</p>
<div class="note success">
            <p>這是 DQN 的系列文章，上一篇是 <a href="/markov-decision-process/" title="馬可爾夫決策過程 Markov Decision Process">馬可爾夫決策過程 Markov Decision Process</a></p>
          </div>
<p>上一篇文章中，我們設計好了馬可爾夫決策過程的模型，但尚未提及如何解決問題。<br>為了解決序列式決策問題，本篇將會提到一個關鍵演算法「價值迭代」。</p>
<p>原本是要連策略迭代一起寫，結果價值迭代寫太長，後來決定分成兩篇了……</p>
<h1 id="問題建模"><a href="#問題建模" class="headerlink" title="問題建模"></a>問題建模</h1><p>為了避免讀者需要在兩個文章間不同切換，我在這邊簡單寫一些建模的內容，<br>當然符號方面也會跟上一篇文章差不多，但為了方便我們繼續討論下去，我們將做一些改變：</p>
<ul>
<li>地圖尋路及簡化二十一點的 $MOVE$ 跟 $ACTION$ 映射改成 $A$ 命名（A 表示動作，即 Action）</li>
<li>地圖尋路及簡化二十一點的 $POINT$ 跟 $SCORE$ 函數改成 $R$ 命名（R 表示回報，即 Reward）</li>
</ul>
<p>這樣一來文章讀起來比較順暢，再繼續之前，我們先重看一次建模的定義。</p>
<h2 id="地圖尋路"><a href="#地圖尋路" class="headerlink" title="地圖尋路"></a>地圖尋路</h2><p>請參考圖 1，問題定義寫在下方。</p>
<p><img src="https://i.imgur.com/8g4n6Sv.png" alt="圖 1、基本玩具問題"></p>
<p>問題建模為：</p>
<ul>
<li>狀態集合，即座標集合 $S = \{(x, y)| x \in \{1, 2, 3\}, y \in \{1, 2, 3, 4\} \}$</li>
<li>動作函數，即在某一座標可以執行的動作 $A: S \mapsto \{\text{up}, \text{left}, \text{right}, \text{down}\}$</li>
<li>轉移模型，即在某座標、執行某動作後，轉移到下個狀態的機率 $P(s_{t+1}|s_{t}, a_{t})$ 其中 $s_{t}, s_{t+1} \in S$ 且 $a_{t} \in A(s_{t})$</li>
<li>回報函數，每個位置的得分 $R(s) = R(x, y)$</li>
</ul>
<p>詳細定義的部分：</p>

$R(s) = R(x, y) = \left\{\begin{array}{l}
+1 && \text{if } s = (4, 3) \\
-1 && \text{if } s = (4, 2) \\
-0.04 && \text{otherwise}
\end{array}\right .$

<h2 id="簡化的二十一點"><a href="#簡化的二十一點" class="headerlink" title="簡化的二十一點"></a>簡化的二十一點</h2><p>前篇中，簡化二十一點的規則如下：</p>
<ul>
<li>牌面 1、2、3、4、5 每種牌都有無限多張且抽到每一種的機率相等</li>
<li>牌面 1、2、3、4、5 對應點數為牌面的數字</li>
<li>每一回合莊家、玩家決定要不要繼續抽牌</li>
<li>若某回合不抽牌，接下來的回合不能繼續抽牌</li>
<li>若超過 10 點，則判輸</li>
<li>若雙方皆超過 10 點，則平手</li>
<li>若雙方皆小於等於 10 點，則點數大者勝</li>
<li>所有牌都是明牌（玩家可觀察）</li>
<li>莊家先抽牌</li>
</ul>
<p>我們將其建模為：</p>
<ul>
<li>狀態集合，即各種手牌 $s$ 及允許抽牌標誌 $f$ 的集合 $S = \{s = (c, f) | c \subseteq \{1, 2, 3, 4, 5\},  f \in \{1, 0\}\}$</li>
<li>動作函數，即每回合可以執行的動作 $A: S \mapsto \{\text{draw}, \text{pass}\}$</li>
<li>轉移模型，即抽牌後，轉移到下個狀態的機率 $P(s_{t+1}|s_{t}, a_{t})$ 其中 $s_{t}, s_{t+1} \in S$ 且 $a_{t} \in A$</li>
<li>回報函數，即一局遊戲的牌面數字 $R(s)$ 其中 $s \in S$</li>
</ul>
<p>詳細定義的部分：</p>

$A(c, f) = \left\{\begin{array}{l}
\text{draw}, \text{pass} && \text{if } f = 1 \text{ and } \sum\limits_{x \in c}x \leq 10 \\
\text{pass} && \text{if }  f = 0 \text{ or } \sum\limits_{x \in c}x > 10 \\
\end{array}\right .$
<br><br>
$R(s) = R(c, f) = \left\{\begin{array}{l}
\sum\limits_{x \in c}x && \text{if } \sum\limits_{x \in c}x \leq 10 \\
0 && \text{if } \sum\limits_{x \in c}x > 10 \\
\end{array}\right .$
<br><br><div class="note warning">
            <p>再次提醒，這裡的動作函數 $A$ 很可能是「一對多」映射；嚴格說「一對多」映射不構成函數，但習慣上會這樣稱呼。</p>
          </div>
<h1 id="策略與效用"><a href="#策略與效用" class="headerlink" title="策略與效用"></a>策略與效用</h1><p>接下來，我們要討論策略與效用。</p>
<p>策略（policy）被定義為 $\pi(s_{t})$，其中 $s_{t} \in S$，指的是在狀態 $s_{t}$ 的情況下，推薦的行動，<br>行動通常是由 $A(s_{t})$ 一對多映射得到的「多種結果」，而 $\pi(s_{t})$ 會必然會給出其中一種。</p>
<p>為了對比，最優策略（best policy）通常表示為 $\pi^{*}(s_{t})$，<br>是理想狀態下可以得到的最佳決策，也是之後 AI 算法收斂的目標。</p>
<p>「效用」其實就是得分，為 $R(s_{t})$ 的加總。<br>若隨著時間我們有不同的狀態 $s_{0}, s_{1}, s_{2}, …$，則效用可以表示成：</p>
<p>$U_{h}([s_{0}, s_{1}, s_{2}, …]) = R(s_0) + \gamma R(s_1) + \gamma^{2} R(s_2) + …$</p>
<p>其中 $\gamma \in [0, 1]$ 為折扣因子，折扣因子越接近 $0$，則對未來的效用越不敏感，<br>通常這種效用的定義方式，被稱作折扣回報（discounted reward），<br>當 $\gamma = 1$ 效用退化成單純的加總，被稱為累加回報（addictive reward）。</p>
<h1 id="貝爾曼方程"><a href="#貝爾曼方程" class="headerlink" title="貝爾曼方程"></a>貝爾曼方程</h1><p>在進行算法前，我們這邊要介紹一個效用方程式，<br>被稱為「貝爾曼方程」又名動態規劃方程，定義如下：</p>
<p>$U(s_{t}) = R(s_{t}) + \gamma\max\limits_{a \in A(s_{t})}\sum\limits_{s_{t+1}}P(s_{t+1}|s_{t}, a)U(s_{t+1})$</p>
<p>回憶上面建模的定義，其中 $s_{t}, s_{t+1} \in S$ 且 $a_{t} \in A(s_{t})$</p>
<p>雖然看起來很複雜，但其實不太困難，具體來說：</p>
<ol>
<li>在某個時間 $t$ 有某一個狀態 $s_{t}$</li>
<li>這個 $s_{t}$ 的效用 $U(s_{t})$ 為「目前的效用 $R(s_{t})$」</li>
<li>執行某一個動作 $a$ 後，下一個狀態的期望值 $\sum\limits_{s_{t+1}}P(s_{t+1}|s_{t}, a)U(s_{t+1})$</li>
<li>這個狀態的效用，其中包含到折扣因子 $\gamma$ 及下一狀態期望的最佳效用</li>
</ol>
<p>其中第 3 點，單純這樣看可能難以理解；<br>因為抽牌具有隨機性，所以用我們的簡化二十一點說明：</p>
<ol>
<li>假設折扣因子為 $\gamma = 0.9$</li>
<li>舉例來說，在某個時間 $t$ 有某一個狀態 $s_{t} = (\{1, 3, 5\}, 1)$ 即「手牌有 1、3、5 點，還沒 PASS 過」</li>
<li>目前的效用 $R(s_{t}) = R(\{1, 3, 5\}, 1) = 1 + 3 + 5 = 9$</li>
<li>可以執行的動作為 $A(s_{t}) = A(c_{t}, f_{t}) = \text{draw, pass}$</li>
<li><p>執行抽牌動作 $a = \text{draw}$ 的話，期望值有：<br>$P((\{1, 3, 5, 1\}, 1)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 20\% \cdot U(s_{t+1}) = 20\% \cdot U(\{1, 3, 5, 1\}, 1) = 2$<br>（由於接下來 $s_{t+2}$ 都超過 10 點，選擇 PASS 為最大，所以不必計算 $U(s_{t+2})$ 的值。）<br>$P((\{1, 3, 5, 2\}, 1)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 20\% \cdot U(s_{t+1}) = 0$（超過 10 點）<br>$P((\{1, 3, 5, 3\}, 1)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 20\% \cdot U(s_{t+1}) = 0$（超過 10 點）<br>$P((\{1, 3, 5, 4\}, 1)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 20\% \cdot U(s_{t+1}) = 0$（超過 10 點）<br>$P((\{1, 3, 5, 5\}, 1)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 20\% \cdot U(s_{t+1}) = 0$（超過 10 點）<br>$P((\{1, 3, 5, 1\}, 0)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 20\% \cdot U(s_{t+1}) = 0$（再抽牌，超過 10 點）<br>$P((\{1, 3, 5, 2\}, 0)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 0\% \cdot U(s_{t+1}) = 0$（不能抽牌）<br>$P((\{1, 3, 5, 3\}, 0)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 0\% \cdot U(s_{t+1}) = 0$（不能抽牌）<br>$P((\{1, 3, 5, 4\}, 0)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 0\% \cdot U(s_{t+1}) = 0$（不能抽牌）<br>$P((\{1, 3, 5, 5\}, 0)|(\{1, 3, 5\}, 1), \text{draw})U(s_{t+1}) = 0\% \cdot U(s_{t+1}) = 0$（不能抽牌）</p>
</li>
<li><p>執行停止動作 $a = \text{pass}$ 的話，期望值有：<br>$P((\{1, 3, 5\}, 0)|(\{1, 3, 5\}, 1), \text{pass})U(s_{t+1}) = 100\% \cdot U(s_{t+1}) = 9$（接下來不能抽牌）<br>$P((\{1, 3, 5\}, 1)|(\{1, 3, 5\}, 1), \text{pass})U(s_{t+1}) = 0\% \cdot U(s_{t+1}) = 0$（PASS 後，能繼續抽牌的機率為 0）</p>
</li>
<li><p>則「最大的下一個狀態期望值」是 $\max\limits_{a \in A(s_{t})}\sum\limits_{s_{t+1}}P(s_{t+1}|s_{t}, a)U(s_{t+1}) = 9$</p>
</li>
<li><p>這個狀態的效用為 $U(s_{t}) = R(s_{t}) + \gamma\max\limits_{a \in A(s_{t})}\sum\limits_{s_{t+1}}P(s_{t+1}|s_{t}, a)U(s_{t+1}) = 9 + 0.9 \cdot 9 = 17.1$</p>
</li>
</ol>
<h1 id="價值迭代"><a href="#價值迭代" class="headerlink" title="價值迭代"></a>價值迭代</h1><p>有了效用的評估，我們可以計算每個狀態的效用，<br>然後利用效用來決策，這個過程稱為價值迭代（value iteration）。</p>
<p>下面為價值迭代的步驟：</p>
<ol>
<li>輸入變數：狀態集合 $S$、動作函數 $A(s)$、轉換模型 $P(s’|s, a)$、回報函數 $R$、折扣因子 $\gamma$與停止誤差 $\epsilon$</li>
<li>建立區域變數：初期效用 $U(s)$、暫存效用 $U’(s)$ 及效用差 $\delta$</li>
<li>$U \leftarrow U’$、$\delta \leftarrow 0$</li>
<li>$U’(s) \leftarrow R(s) + \gamma\max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U(s’), \forall s \in S$</li>
<li>若 $|U’(s) - U(s)| &gt; \delta$ 則 $\delta \leftarrow |U’(s) - U(s)|$</li>
<li>重複 3~5 步，直到 $\delta &lt; \epsilon (1 - \gamma) / \gamma$</li>
<li>回傳 $U$</li>
</ol>
<div class="note info">
            <p>其中 $s’$ 跟 $s_{t+1}$ 是相同的，指某狀態 $s$（或 $s_{t}$）的下一個可能狀態<br>但在迴圈中，避免讀者誤會 $t$ 會遞增，故改以 $s’$ 表示</p>
          </div>
<div class="note info">
            <p>$U$ 跟 $U’$ 是兩個大小為 $|S|$ 的向量</p>
          </div>
<p>不難發現，價值迭代不斷更新 $U(s)$ 向量去計算每個狀態的效用，<br>而中止條件是 $\delta &lt; \epsilon (1 - \gamma) / \gamma$ 其中 $\delta = \max\limits_{s}|U’(s) - U(s)|$</p>
<p>要理解終止條件，我們要來討論貝爾曼方程的收斂，先定義兩個內容：</p>
<ul>
<li>貝爾曼算子 $B$ 相當於執行 $R(s) + \gamma\max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U(s’)$</li>
<li>最大范數 $\|U\|=\max\limits_{s}|U(s)|$ 即向量中最大的值</li>
</ul>
<p>那麼，兩個效用的最大距離為 $\|U - U’\| = \max\limits_{s}|U’(s) - U(s)|$ 即演算法中的 $\delta$</p>
<p>接下來，考慮第 $t+1$ 次迭代的距離為 $\|U_{t+1} - U_{t+1}’\|$<br>考慮演算法中第 4 步，即 $U_{t+1} \leftarrow BU_{t}$，可以發現 $U_{t+1}$ 為 $BU_{t}$<br>故 $\|U_{t+1} - U_{t+1}’\| = \|BU_{t} - BU_{t}’\|$</p>
<p>因為 $\|BU_{t} - BU_{t}’\| = \|R(s) + \gamma\max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U_{t}(s’) - [R(s) + \gamma\max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U_{t}’(s’)]\|$<br>$= \|\gamma\max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U_{t}(s’) - \gamma\max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U_{t}’(s’)\|$<br>$= \gamma \|\max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U_{t}(s’) - \max\limits_{a \in A(s)}\sum\limits_{s’}P(s’|s_{t}, a)U_{t}’(s’)\|$<br>$\leq \gamma \|\max\limits_{s}U_{t}(s’) - \max\limits_{s}U_{t}’(s’)\|$<br>（「選擇某個動作達到的最大效用」不會高於「遍歷所有狀態得到的最大效用」）</p>
<p>簡單觀察 $|\max\limits_{a}f(a) - \max\limits_{a}g(a)| \leq \max\limits_{a}|f(a) - g(a)|$<br>在 $\max\limits_{a}|f(a) - g(a)|$ 中，若 $f(a)$ 為最大值，即 $f(a) = \max\limits_{a}f(a)$<br>同樣的 $a$ 對於 $g(a)$ 來說，可能不滿足 $g(a) = \max\limits_{a}g(a)$，所以有上面那個結果（書中習題 17.6(a) 的內容）</p>
<p>又 $\|U - U’\| = \max\limits_{s}|U’(s) - U(s)|$<br>所以 $\|BU_{t} - BU_{t}’\| \leq \gamma \|\max\limits_{s}U_{t}(s’) - \max\limits_{s}U_{t}’(s’)\| \leq \max\limits_{s}|U’(s) - U(s)| = \|U - U’\|$<br>可得 $\|BU_{t} - BU_{t}’\| \leq |U_{t} - U_{t}’|$</p>
<p>考慮效用的極值：<br>$U_{h}([s_{0}, s_{1}, s_{2}, …]) = R(s_0) + \gamma R(s_1) + \gamma^{2} R(s_2) + …$<br>$\leq \max\limits_{s}R(s) + \gamma \max\limits_{s}R(s) + \gamma^{2} \max\limits_{s}R(s) + … = \frac{\max\limits_{s}R(s)}{1-\gamma}$（由於 $\gamma &lt; 1$ 使用等比級數公式）</p>
<p>若有負回報 $R(s) \leq 0$ 同理，則有 $U_{max} = \pm\frac{\max\limits_{s}R(s)}{1-\gamma}$</p>
<div class="note info">
            <p>這個步驟透漏了一個訊息，當 $\gamma = 1$ 時，很可能貝爾曼方程不會收斂。</p>
          </div>
<p>透過最大、小值範圍，不難推導出 $\|U_{0} - U_{t}’\| \leq \frac{2\max\limits_{s}R(s)}{1-\gamma}$<br>若 $N$ 次迭代的誤差不超過 $\epsilon$，又每一次誤差降低 $\gamma$ 倍，則 $\gamma^{N}\frac{2\max\limits_{s}R(s)}{1-\gamma}\leq \epsilon$</p>
<p>解出 $N$：<br>$\gamma^{N}\frac{2\max\limits_{s}R(s)}{1-\gamma}\leq \epsilon$<br>$\gamma^{N}2\max\limits_{s}R(s) \leq \epsilon(1-\gamma)$<br>$\gamma^{N} \leq \frac{\epsilon(1-\gamma)}{2\max\limits_{s}R(s)}$<br>$N \leq log_{\gamma}(\frac{\epsilon(1-\gamma)}{2\max\limits_{s}R(s)})$<br>$N \leq log(\frac{\epsilon(1-\gamma)}{2\max\limits_{s}R(s)})/log(\gamma)$（換底公式）</p>
<p>則 $N$ 至多迭代 $\lceil log(\frac{\epsilon(1-\gamma)}{2\max\limits_{s}R(s)})/log(\gamma) \rceil$ 次，<br>這是一整個系統的迭代上界，若我們只考慮一步：</p>
<p>$\gamma\frac{2\max\limits_{s}R(s)}{1-\gamma}\leq \epsilon$<br>$2\gamma\max\limits_{s}R(s) \leq \epsilon(1-\gamma)$<br>$2\max\limits_{s}R(s) \leq \frac{\epsilon(1-\gamma)}{\gamma}$</p>
<p>另外由於 $\|U_{t+1} - U_{t}\| = \|U_{t} - U_{t+1}\| \leq \|U_{0} - U_{t}’\| $<br>所以 $\|U_{t+1} - U_{t}\| \leq \|U_{0} - U_{t}’\| \leq 2\max\limits_{s}R(s) \leq \frac{\epsilon(1-\gamma)}{\gamma}$<br>可得 $\|U_{t+1} - U_{t}\| = \max\limits_{s}|U’(s) - U(s)| = \delta \leq \frac{\epsilon(1-\gamma)}{\gamma}$ 為中止條件</p>
<h1 id="問題解決"><a href="#問題解決" class="headerlink" title="問題解決"></a>問題解決</h1><p>接下來，我們來看實際解決問題時，價值迭代是如何運作的，<br>雖然表面上價值迭代計算每個狀態的效用，然後選擇動作朝著效用較大的方向前進，<br>但有時狀態顯示的效用並不能協助我們做出較佳的決策。</p>
<h2 id="地圖巡路"><a href="#地圖巡路" class="headerlink" title="地圖巡路"></a>地圖巡路</h2><p>這是書中玩具問題，再加上一點修改而成；<br>具體來說，我們的移動是確定的，導致期望值的部分是確定的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 宣告變數 */</span></span><br><span class="line"><span class="keyword">const</span> up = <span class="number">0</span>, down = <span class="number">1</span>, left = <span class="number">2</span>, right = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span> A = [up, down, left, right];                        <span class="comment">// 動作 A</span></span><br><span class="line"><span class="keyword">let</span> U = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">3</span>&#125;, () =&gt;                   <span class="comment">// 效用</span></span><br><span class="line">        <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">4</span>&#125;, () =&gt; <span class="number">0</span>));              <span class="comment">// 大小 width = 4, height = 3</span></span><br><span class="line"><span class="keyword">let</span> Ut = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">3</span>&#125;, () =&gt;                  <span class="comment">// 效用暫存</span></span><br><span class="line">         <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">4</span>&#125;, () =&gt; <span class="number">0</span>));             <span class="comment">// 大小同效用 U</span></span><br><span class="line"><span class="keyword">let</span> D = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">3</span>&#125;, () =&gt;                   <span class="comment">// 決策表</span></span><br><span class="line">         <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">4</span>&#125;, () =&gt; <span class="number">0</span>));             <span class="comment">// 大小同效用 U</span></span><br><span class="line"><span class="keyword">let</span> epsilon = <span class="number">0.01</span>;                                     <span class="comment">// 迭代停止參數</span></span><br><span class="line"><span class="keyword">let</span> gamma = <span class="number">0.9</span>;                                        <span class="comment">// 折扣因子</span></span><br><span class="line"><span class="keyword">let</span> delta;                                              <span class="comment">// 迭代差</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 回報函數 */</span></span><br><span class="line"><span class="keyword">let</span> R = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(x == <span class="number">3</span> &amp;&amp; y == <span class="number">0</span>) &#123;                                <span class="comment">// 終點</span></span><br><span class="line">    <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(x == <span class="number">3</span> &amp;&amp; y == <span class="number">1</span>) &#123;                          <span class="comment">// 陷阱</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(x == <span class="number">1</span> &amp;&amp; y == <span class="number">1</span>) &#123;                          <span class="comment">// 牆（不評分）</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-0.04</span>;                                         <span class="comment">// 其他狀態</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 動作的期望值 */</span></span><br><span class="line"><span class="keyword">let</span> Exp = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> exp = [];</span><br><span class="line">  <span class="keyword">if</span>(x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    exp.push(<span class="number">1.0</span> * U[y][x - <span class="number">1</span>]);                        <span class="comment">// 向左移動</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(x &lt; <span class="number">3</span>) &#123;</span><br><span class="line">    exp.push(<span class="number">1.0</span> * U[y][x + <span class="number">1</span>]);                        <span class="comment">// 向右移動</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(y &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    exp.push(<span class="number">1.0</span> * U[y - <span class="number">1</span>][x]);                        <span class="comment">// 向上移動</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(y &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    exp.push(<span class="number">1.0</span> * U[y + <span class="number">1</span>][x]);                        <span class="comment">// 向下移動</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> exp;                                           <span class="comment">// 回傳期望值</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 演算法主體 */</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> y = <span class="number">0</span>; y &lt; <span class="number">3</span>; y++) &#123;                         <span class="comment">// 複製效用暫存</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; <span class="number">4</span>; x++) &#123;</span><br><span class="line">      U[y][x] = Ut[y][x];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  delta = <span class="number">0</span>;                                            <span class="comment">// 初始化迭代差</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> y = <span class="number">0</span>; y &lt; <span class="number">3</span>; y++) &#123;                         <span class="comment">// 對所有狀態</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; <span class="number">4</span>; x++) &#123;  </span><br><span class="line">      <span class="keyword">if</span>((x == <span class="number">3</span> &amp;&amp; y == <span class="number">0</span>) ||                          <span class="comment">// 終點的效用固定</span></span><br><span class="line">         (x == <span class="number">3</span> &amp;&amp; y == <span class="number">1</span>) ||                          <span class="comment">// 陷阱的效用固定</span></span><br><span class="line">         (x == <span class="number">1</span> &amp;&amp; y == <span class="number">1</span>)) &#123;                          <span class="comment">// 牆的效用固定</span></span><br><span class="line">        Ut[y][x] = R(x, y);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;                                            <span class="comment">// 其他狀態的效用</span></span><br><span class="line">        <span class="keyword">let</span> exp = Exp(x, y);</span><br><span class="line">        Ut[y][x] = R(x, y) + gamma * <span class="built_in">Math</span>.max(...exp);  <span class="comment">// 貝爾曼方程</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(Ut[y][x] - U[y][x]) &gt; delta) &#123;       <span class="comment">// 計算最大迭代差</span></span><br><span class="line">        delta = <span class="built_in">Math</span>.abs(Ut[y][x] - U[y][x]);           <span class="comment">// 儲存迭代差</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">while</span> (delta &gt;= epsilon * (<span class="number">1</span> - gamma) / gamma);       <span class="comment">// 中止條件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 在 Console 輸出表格 */</span></span><br><span class="line"><span class="built_in">console</span>.table(U);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>程式輸出請參考圖 2 所示，<br>雖然表面上，只要沿著效用較大的格子走，就可以到達終點，<br>但實際的決策可能要參考 $\max\limits_{a \in A(s)}$ 的動作選擇，<br>具體請參考簡化二十一點的程式輸出。</p>
<p><img src="https://i.imgur.com/1Z7xib3.png" alt="圖 2、地圖巡路：程式輸出"></p>
<h2 id="簡化二十一點"><a href="#簡化二十一點" class="headerlink" title="簡化二十一點"></a>簡化二十一點</h2><p>接著看我們自己設計的玩具問題，幫助我們理解更全面一點。</p>
<p>考慮任何狀態 $s_{t} = (c, f) \in S$ 與 $s_{t}’ = (c’, f’) \in S$<br>若滿足 $\sum\limits_{x \in c}x = \sum\limits_{x \in c’}x$ 則效用評估有：$U(s_{t}) = U(s_{t}’)$<br>因為效用等於牌面點數和 $R(s) = R(s’)$，而動作只有抽不抽牌，故雖然看起來 $|S|$ 很大，<br>但其實 $|S|$ 有意義的範圍，只有 $\sum\limits_{x \in c}x \leq 10$ 的部分而已。</p>
<p>故 $S$ 大小為總和的可能值域：即 0（手上沒牌）到 15（剛好手上總和為 10 點時，又抽了一張 5 點）<br>加上抽不抽牌的旗標有 0 與 1 兩種，共 2*15 = 30 種狀態，<br>然而實際程式碼中，狀態其實只是效用 $U$ 與 $U’$ 的引索而已。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 宣告變數 */</span></span><br><span class="line"><span class="keyword">const</span> pass = <span class="number">0</span>, draw = <span class="number">1</span>;                               <span class="comment">// 動作 A</span></span><br><span class="line"><span class="keyword">let</span> U = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">2</span>&#125;, () =&gt;                   <span class="comment">// 效用, s = (c, f)</span></span><br><span class="line">        <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">16</span>&#125;, () =&gt; <span class="number">0</span>));             <span class="comment">// 大小 |c| = 16, |f| = 2 </span></span><br><span class="line"><span class="keyword">let</span> Ut = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">2</span>&#125;, () =&gt;                  <span class="comment">// 效用暫存</span></span><br><span class="line">         <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">16</span>&#125;, () =&gt; <span class="number">0</span>));            <span class="comment">// 大小同效用 U</span></span><br><span class="line"><span class="keyword">let</span> epsilon = <span class="number">0.01</span>;                                     <span class="comment">// 迭代停止參數</span></span><br><span class="line"><span class="keyword">let</span> gamma = <span class="number">0.9</span>;                                        <span class="comment">// 折扣因子</span></span><br><span class="line"><span class="keyword">let</span> delta;                                              <span class="comment">// 迭代差</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 回報函數 */</span></span><br><span class="line"><span class="keyword">let</span> R = <span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> c &gt; <span class="number">10</span> ? <span class="number">0</span> : c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 動作的期望值</span></span><br><span class="line"><span class="comment">   若 f = 0: 只能選擇 "pass" (其中 exp = [pass_value])</span></span><br><span class="line"><span class="comment">   若 f = 1: 可能選擇 "draw" 或 "pass" (其中 exp = [pass_value, draw_value]) */</span></span><br><span class="line"><span class="keyword">let</span> Exp = <span class="function"><span class="keyword">function</span>(<span class="params">c, f</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> exp = [];</span><br><span class="line">  <span class="keyword">if</span> (f == <span class="number">0</span>) &#123;                                         <span class="comment">// 若 f = 0: 只能選 "pass"</span></span><br><span class="line">    exp.push(<span class="number">1.0</span> * R(c));                               <span class="comment">// pass 成功機率為 100%</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (f == <span class="number">1</span>) &#123;                                  <span class="comment">// 若 f = 1: 能選 pass 或 draw</span></span><br><span class="line">    exp.push(<span class="number">1.0</span> * R(c));                               <span class="comment">// pass 成功機率為 100%</span></span><br><span class="line">    <span class="keyword">let</span> t = <span class="number">0</span>;                                          <span class="comment">// draw 下個狀態的機率為牌面 + 1~5 (各20%)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> d = <span class="number">1</span>; d &lt;= <span class="number">5</span>; d++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (c + d &lt; <span class="number">16</span>) &#123;</span><br><span class="line">        t += <span class="number">0.2</span> * U[f][c + d];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    exp.push(t);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> exp;                                           <span class="comment">// 回傳期望值</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 演算法主體 */</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> f = <span class="number">0</span>; f &lt;= <span class="number">1</span>; f++) &#123;                        <span class="comment">// 複製效用暫存</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt;= <span class="number">15</span>; c++) &#123;</span><br><span class="line">      U[f][c] = Ut[f][c];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  delta = <span class="number">0</span>;                                            <span class="comment">// 初始化迭代差</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> f = <span class="number">0</span>; f &lt;= <span class="number">1</span>; f++) &#123;                        <span class="comment">// 對所有狀態 s = (c, f)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> c = <span class="number">0</span>; c &lt;= <span class="number">15</span>; c++) &#123;</span><br><span class="line">      <span class="keyword">let</span> exp = Exp(c, f);</span><br><span class="line">      Ut[f][c] = R(c) + gamma * <span class="built_in">Math</span>.max(...exp);       <span class="comment">// 貝爾曼方程</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(Ut[f][c] - U[f][c]) &gt; delta) &#123;       <span class="comment">// 計算最大迭代差</span></span><br><span class="line">        delta = <span class="built_in">Math</span>.abs(Ut[f][c] - U[f][c]);           <span class="comment">// 儲存迭代差</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">while</span> (delta &gt;= epsilon * (<span class="number">1</span> - gamma) / gamma);       <span class="comment">// 中止條件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 在 Console 輸出表格 */</span></span><br><span class="line"><span class="keyword">let</span> arr = [[], []];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> c = <span class="number">0</span>; c &lt;= <span class="number">15</span>; c++) &#123;</span><br><span class="line">    arr[<span class="number">0</span>].push(<span class="built_in">parseFloat</span>(U[<span class="number">0</span>][c].toFixed(<span class="number">2</span>)));</span><br><span class="line">    arr[<span class="number">1</span>].push(<span class="built_in">parseFloat</span>(U[<span class="number">1</span>][c].toFixed(<span class="number">2</span>)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.table(arr);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>參考圖 3 可以看到執行結果，<br>查看完整演示之前，我們可能需要分析一下結果的合理性。</p>
<p><img src="https://i.imgur.com/cpzMqL4.png" alt="圖 3、簡化二十一點：程式輸出"></p>
<p>若狀態 $s = (c, f)$，那麼列（row）方向是 $f$ 的標誌，而行（cloumn）方向是 $\sum\limits_{x \in c}x$ 的值。</p>
<p>可以發現 $s = (9, 1)$ 的值，跟 <a href="#貝爾曼方程">貝爾曼方程段落</a> 的手算結果一致，<br>不過看起來表格怪怪的，這主要是因為我們沒有顯式地把 $\max\limits_{a \in A(s)}$ 的選擇保留，<br>導致這張表格本身雖然能看到效用值 $U$，但是不能為我們做決策。</p>
<p>舉兩個例來說：</p>
<ol>
<li><p>如果我狀態在 $s = (1, 10)$ 則我會選擇 $s = (0, 10)$ 為下個狀態（也就是 pass 動作），<br>因為與 $(1, i), i = 11, 12, …, 15$ 相比，該位置效用值較大。</p>
</li>
<li><p>如果我狀態在 $s = (1, 9)$ 則我會選擇 $s = (1, 10)$ 為下個狀態（也就是 draw 動作），<br>因為與 $(1, i), i = 10, 12, …, 14$ 相比，該位置效用值較大。</p>
</li>
</ol>
<p>第二個例子，就是這張表不合邏輯的地方了，<br>從另一個角度來說，如果我狀態是 $s = (1, 9)$，抽牌的風險非常大。</p>
<div class="note info">
            <p>敏銳的讀者可能發現，可以將這個玩具問題轉換成地圖尋路。</p>
          </div>
<h3 id="結果修正"><a href="#結果修正" class="headerlink" title="結果修正"></a>結果修正</h3><p>事實上，如果我們將 $\max\limits_{a \in A(s)}$ 記錄下來，可以發現 AI 其實是選擇 pass 動作，才使效用最大化的，<br>具體參考圖 4 的 $s = (1, 9)$ 處。</p>
<p><img src="https://i.imgur.com/3LjuaW5.png" alt="圖 4、簡化二十一點：MAX 函數的動作選擇"></p>
<p>題外話，若改變 $R(s)$ 在 $\sum\limits_{x \in c}x &gt; 10$ 條件下的值，決策可能發生變化；<br>具體來說，當 $0$ 變成 $-\infty$ 時，決策會趨近絕對保守（盡量 PASS），反之亦然。</p>
<p>另一個修正方法是，將 $R(s)$ 重新定義，順便將 $(1, i), i = 11, 12, …, 15$ 固定下來。<br>我們規定，狀態為 $pass$ 時，會有回報的加成，則重新定義的 $R$ 為：</p>

$R(s) = R(c, f) = \left\{\begin{array}{l}
(1 - f) + \sum\limits_{x \in c}x && \text{if } \sum\limits_{x \in c}x \leq 10\\
0 && \text{if } \sum\limits_{x \in c}x > 10\\
\end{array}\right .$

<p>結果請參考圖 5，此時我們便可以透過效用直接選擇動作了。</p>
<p><img src="https://i.imgur.com/Jof8bqT.png" alt="圖 5、簡化二十一點：重新定義回報的結果"></p>
<h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><iframe scrolling="no" width="100%" height="200px" src="//jsfiddle.net/bzL638xf/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<div class="note info">
            <p>雖然邏輯上是 AI 高於 7 點則不再抽牌，但這個結論是透過計算而來的；<br>可以想見在更複雜的狀態環境中，仍可建立決策模式。</p>
          </div>
]]></content>
      <categories>
        <category>人工智慧</category>
      </categories>
  </entry>
  <entry>
    <title>全連接神經網路 Fully-Connected Neural Network</title>
    <url>/fully-connected-neural-network/</url>
    <content><![CDATA[<p>上一篇介紹的是邏輯回歸與感知器，這一篇將會討論「全連接神經網路」。</p>
<p>睽違 2 年的主要原因是覺得網路上關於反向傳播很多人寫了，<br>另外微積分其實我沒有掌握得很完全，所以很猶豫哪時要完成這篇文章。<br><a id="more"></a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>回顧邏輯回歸與感知器的文章，圖 1 是單科感知器的模型，現在我們將拓展它，<br>不難理解，單個感知器（perceptron）可以視作是簡化的邏輯回歸，也可以視作基本的神經元（neuron）。</p>
<p><img src="http://i.imgur.com/Mi5EawQ.png" alt="圖 1、感知器"></p>
<p>在基於這個想法，我們堆砌感知器成神經網路，便可以解決上一篇提及的「線性不可分問題」。</p>
<div class="note success">
            <p>這是 ANN 的系列文章<br>上一篇是 <a href="/logistic-regression-and-perceptron/" title="邏輯回歸與感知器 Logistic Regression and Perceptron">邏輯回歸與感知器 Logistic Regression and Perceptron</a></p>
          </div>
<div class="note success">
            <p>筆者於大學專題時，曾向組員介紹過相關內容，<br>如有需要可以參考 <a href="https://docs.google.com/presentation/d/1ji7tSou_7TV-IMlE-9ZJavc1lmHDdJiHtQO6MYAVFEQ/edit?usp=sharing" target="_blank" rel="noopener">Artificial Neural Network - I 簡報</a>、<a href="https://docs.google.com/presentation/d/1Cw0rmJ51FyleMM-rMzit5oFoNCwtXLrjqkDtjz0Khc8/edit?usp=sharing" target="_blank" rel="noopener">Artificial Neural Network - II 簡報</a></p>
          </div>
<div class="note success">
            <p>其他資源請參考：<a href="https://www.youtube.com/watch?v=PgcKcu-RMcc" target="_blank" rel="noopener">解說影片</a></p>
          </div>
<h1 id="神經網路簡介"><a href="#神經網路簡介" class="headerlink" title="神經網路簡介"></a>神經網路簡介</h1><p>全連接神經網路（Fully-connect Neural Network, FNN）是一種多個神經元的「連接模式」，<br>事實上，許多的神經網路模型都只是各種神經元的連接模式，而全連接神經網路是其中最簡單的一種，<br>參考圖 2 所示，全連接神經網路的特色是，上一層的神經元與下一層所有的神經元相接。</p>
<p><img src="https://i.imgur.com/QpM15R6.png" alt="圖 2、全連接神經網路示意圖"></p>
<p>我們將帶有數值的輸入，當成一個獨立的神經元，構成圖 2 藍色處，神經網路的輸入層（input layer）<br>然後圖 2 右邊深綠框為會輸出結果的輸出層（output layer），中間紫色框是神經網路的主體，稱為隱藏層（hidden layer）</p>
<div class="note info">
            <p>計算神經網路層數時，通常不計算輸入層（input layer），請參考 <a href="https://datascience.stackexchange.com/questions/14027/counting-the-number-of-layers-in-a-neural-network" target="_blank" rel="noopener">Counting the number of layers in a neural network</a> </p>
          </div>
<p>在邏輯回歸時，我們訓練一組 $\theta$ 來完成任務，在神經網路的情況也是一樣，<br>我們將訓練 $\Theta$ 權重，由於維度增加，我們用大寫取代小寫，而權重出現在每一條神經元的連接中。<br>（圖 2 中帶箭頭的線是沒有權重的，那僅是表示輸入、出的箭頭。）</p>
<div class="note warning">
            <p>注意第一段「各種神經元」，說明了神經網路的神經元並非只有一種。</p>
          </div>
<h1 id="前向傳播演算法"><a href="#前向傳播演算法" class="headerlink" title="前向傳播演算法"></a>前向傳播演算法</h1><p>還記得當初學習「函數」的時候，是怎麼想像函數的嗎？<br>函數是一個機器，你可以給它一個值，它就會給你另一個值。</p>
<p>現在，全連接神經網路就是那部機器！我們的函數名為 $h_{\Theta}(X)$<br>計算這個函數值的過程，就稱為「前向傳播演算法（forward propagation algorithm）」。</p>
<p>試想我們輸入為列向量 $\boldsymbol{x}^{T} = [x_{1}, x_{2}, …, x_{n}]$ 是一筆具有 $n$ 個特徵的資料，<br>若為第 $j$ 筆，我們表示為 $(\boldsymbol{x}^{(j)})^{T} = [x_{1}^{(j)}, x_{2}^{(j)}, …, x_{n}^{(j)}]$<br>當我們有 $m$ 筆資料構成一個批次（batch）時，輸入矩陣為：</p>
<p>$$<br>X =<br>\left[ \begin{matrix}<br>(\boldsymbol{x}^{(1)})^{T} \\<br>(\boldsymbol{x}^{(2)})^{T} \\<br>\vdots               \\<br>(\boldsymbol{x}^{(m)})^{T}<br>\end{matrix} \right]<br>=<br>\left[ \begin{matrix}<br>x_{1}^{(1)} &amp; x_{2}^{(1)} &amp; \dots &amp; x_{n}^{(1)} \\<br>x_{1}^{(2)} &amp; x_{2}^{(2)} &amp; \dots &amp; x_{n}^{(2)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>x_{1}^{(m)} &amp; x_{2}^{(m)} &amp; \dots  &amp; x_{n}^{(m)}<br>\end{matrix} \right]<br>$$</p>
<div class="note info">
            <p>輸入資料的行、列可能相反，只要公式做對應的改變即可。</p>
          </div>
<div class="note info">
            <p>訓練神經網路時，通常會多筆資料一起訓練，而這個多筆資料則稱為一個批次（batch）</p>
          </div>
<p>而假設第 $k$ 層為 $a \times b$ 的神經網路層，權重矩陣為：</p>
<p>$$<br>\Theta^{(k)} =<br>\left[ \begin{matrix}<br>\Theta_{1, 1}^{(k)} &amp; \Theta_{1, 2}^{(k)} &amp; \dots  &amp; \Theta_{1, b}^{(k)} \\<br>\Theta_{2, 1}^{(k)} &amp; \Theta_{2, 2}^{(k)} &amp; \dots  &amp; \Theta_{2, b}^{(k)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>\Theta_{a, 1}^{(k)} &amp; \Theta_{a, 2}^{(k)} &amp; \dots  &amp; \Theta_{a, b}^{(k)}<br>\end{matrix} \right]<br>$$</p>
<p>上一篇文章邏輯回歸中的 $f(x)$ 函數，在神經網路被稱為激勵函數（activation function）<br>所以當 $X$ 往前計算一層時，只要將兩個矩陣相乘，然後套用激勵函數即可。</p>
<div class="note info">
            <p>激勵函數通常只在輸出層使用，有許多不同的函數可供選擇，請參考 <a href="https://en.wikipedia.org/wiki/Activation_function" target="_blank" rel="noopener">Wikipedia: activation function</a>；<br>從這裡也可以知道，激勵函數的一個作用是限制輸出值域。</p>
          </div>
<p>彙整一下，舉例來說，第 1 層有：</p>
<p>$$<br>X\Theta^{(1)} =<br>\left[ \begin{matrix}<br>(\boldsymbol{x}^{(1)})^{T} \\<br>(\boldsymbol{x}^{(2)})^{T} \\<br>\vdots \\<br>(\boldsymbol{x}^{(m)})^{T}<br>\end{matrix} \right]<br>\left[ \begin{matrix}<br>\Theta_{1, 1}^{(1)} &amp; \Theta_{1, 2}^{(1)} &amp; \dots  &amp; \Theta_{1, b}^{(1)} \\<br>\Theta_{2, 1}^{(1)} &amp; \Theta_{2, 2}^{(1)} &amp; \dots  &amp; \Theta_{2, b}^{(1)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>\Theta_{a, 1}^{(1)} &amp; \Theta_{a, 2}^{(1)} &amp; \dots  &amp; \Theta_{a, b}^{(1)}<br>\end{matrix} \right]<br>=<br>\left[ \begin{matrix}<br>x_{1}^{(1)} &amp; x_{2}^{(1)} &amp; \dots &amp; x_{n}^{(1)} \\<br>x_{1}^{(2)} &amp; x_{2}^{(2)} &amp; \dots &amp; x_{n}^{(2)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>x_{1}^{(m)} &amp; x_{2}^{(m)} &amp; \dots  &amp; x_{n}^{(m)}<br>\end{matrix} \right]<br>\left[ \begin{matrix}<br>\Theta_{1, 1}^{(1)} &amp; \Theta_{1, 2}^{(1)} &amp; \dots &amp; \Theta_{1, b}^{(1)} \\<br>\Theta_{2, 1}^{(1)} &amp; \Theta_{2, 2}^{(1)} &amp; \dots &amp; \Theta_{2, b}^{(1)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>\Theta_{a, 1}^{(1)} &amp; \Theta_{a, 2}^{(1)} &amp; \dots &amp; \Theta_{a, b}^{(1)}<br>\end{matrix} \right]<br>$$<br>$$<br>=<br>\left[ \begin{matrix}<br>\sum\limits_{i = 1}^{a} x_{i}^{(1)}\Theta_{i, 1}^{(k)} &amp; \sum\limits_{i = 1}^{a} x_{i}^{(1)}\Theta_{i, 2}^{(k)} &amp; \dots &amp; \sum\limits_{i = 1}^{a} x_{i}^{(1)}\Theta_{i, b}^{(k)} \\<br>\sum\limits_{i = 1}^{a} x_{i}^{(2)}\Theta_{i, 1}^{(k)} &amp; \sum\limits_{i = 1}^{a} x_{i}^{(2)}\Theta_{i, 2}^{(k)} &amp; \dots &amp; \sum\limits_{i = 1}^{a} x_{i}^{(2)}\Theta_{i, b}^{(k)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>\sum\limits_{i = 1}^{a} x_{i}^{(m)}\Theta_{i, 1}^{(k)} &amp; \sum\limits_{i = 1}^{a} x_{i}^{(m)}\Theta_{i, 2}^{(k)} &amp; \dots &amp; \sum\limits_{i = 1}^{a} x_{i}^{(m)}\Theta_{i, b}^{(k)} \\<br>\end{matrix} \right]<br>$$</p>
<p>這是全部寫出來的情況，雖然看起來有點複雜，<br>但我們仔細觀察注標，可以發現這個矩陣大小關係為：</p>
<ul>
<li>$X$ 大小為 $m \times n$</li>
<li>$\Theta^{(1)}$ 大小為 $a \times b$</li>
<li>$X\Theta^{(1)}$ 大小為 $m \times b$</li>
</ul>
<div class="note info">
            <p>輸入層的神經元數量，等於輸入資料的特徵數量，即有 $n = a$ 的關係。</p>
          </div>
<p>而第 2 層為 $b \times c$ 的神經網路，以 $X\Theta^{(1)}$ 作為輸入，<br>以此類推，假設我們有 $L$ 層，而激活函數為 $\phi(z)$，則前向傳播為：</p>
<p>$$<br>h_{\Theta}(X) = \phi(X\Theta^{(1)}\Theta^{(2)} \dots \Theta^{(L)})<br>$$</p>
<p>參考圖 2 的情況，輸入我們可以寫成：</p>
<p>$$<br>h_{\Theta}(X) = \phi(X\Theta^{(1)}\Theta^{(2)}) =<br>\phi \left(<br>\begin{bmatrix}<br>x_{1, 1} &amp; x_{1, 2} \\<br>x_{2, 1} &amp; x_{2, 2}<br>\end{bmatrix}<br>\left[ \begin{matrix}<br>\Theta_{1, 1}^{(1)} &amp; \Theta_{1, 2}^{(1)} &amp; \Theta_{1, 3}^{(1)} &amp; \Theta_{1, 4}^{(1)} \\<br>\Theta_{2, 1}^{(1)} &amp; \Theta_{2, 2}^{(1)} &amp; \Theta_{2, 3}^{(1)} &amp; \Theta_{2, 4}^{(1)}<br>\end{matrix} \right]<br>\left[ \begin{matrix}<br>\Theta_{1, 1}^{(2)} &amp; \Theta_{1, 2}^{(2)} &amp; \Theta_{1, 3}^{(2)} \\<br>\Theta_{2, 1}^{(2)} &amp; \Theta_{2, 2}^{(2)} &amp; \Theta_{2, 3}^{(2)} \\<br>\Theta_{3, 1}^{(2)} &amp; \Theta_{3, 2}^{(2)} &amp; \Theta_{3, 3}^{(2)} \\<br>\Theta_{4, 1}^{(2)} &amp; \Theta_{4, 2}^{(2)} &amp; \Theta_{4, 3}^{(2)}<br>\end{matrix} \right]<br>\right)<br>$$</p>
<h1 id="反向傳播演算法"><a href="#反向傳播演算法" class="headerlink" title="反向傳播演算法"></a>反向傳播演算法</h1><p>對於神經網路來說，反向傳播算法（back propagation algorithm）才是訓練的重點，<br>具體來說，我們的訓練的過程為：</p>
<ol>
<li>準備輸入的值 $X$ 與訓練的標籤 $Y$</li>
<li>隨機初始化各權重 $\Theta$，通常在 $(0, 1)$ 區間中</li>
<li>使用前向傳播演算法求得 $h_{\Theta}(X)$</li>
<li>使用反向傳播演算法更新 $\Theta$</li>
<li>重複 4~5 步，直到神經網路訓練結束</li>
<li>使用 $h_{\Theta}(X)$ 預測值（這相當於做一次第 4 步的前向傳播算法）</li>
</ol>
<p>如果我們使用 <a href="https://en.wikipedia.org/wiki/Mean_squared_error" target="_blank" rel="noopener">均方誤差（Mean Squared Error, MSE）</a> 成本函數：</p>
<p>$$<br>Cost(\theta) = \frac{1}{2m} \sum\limits_{i=1}^m (y^{(i)} - \hat{y}^{(i)})^{2}<br>$$</p>
<div class="note info">
            <p>習慣上，我們會多乘一個 $\frac{1}{2}$ 來消去微分後的項</p>
          </div>
<p>我們重寫一次，當輸入批次共 $m$ 筆資料、每筆資料都有 $n$ 個特徵：</p>
<p>$$<br>X =<br>\left[ \begin{matrix}<br>(\boldsymbol{x}^{(1)})^{T} \\<br>(\boldsymbol{x}^{(2)})^{T} \\<br>\vdots               \\<br>(\boldsymbol{x}^{(m)})^{T}<br>\end{matrix} \right]<br>=<br>\left[ \begin{matrix}<br>x_{1}^{(1)} &amp; x_{2}^{(1)} &amp; \dots &amp; x_{n}^{(1)} \\<br>x_{1}^{(2)} &amp; x_{2}^{(2)} &amp; \dots &amp; x_{n}^{(2)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>x_{1}^{(m)} &amp; x_{2}^{(m)} &amp; \dots  &amp; x_{n}^{(m)}<br>\end{matrix} \right]<br>$$</p>
<p>對應的標籤為 $m$ 筆資料、每筆資料都有 $p$ 個特徵（最後一層神經元數量也會為 $p$）：</p>
<p>$$<br>Y =<br>\left[ \begin{matrix}<br>(\boldsymbol{y}^{(1)})^{T} \\<br>(\boldsymbol{y}^{(2)})^{T} \\<br>\vdots               \\<br>(\boldsymbol{y}^{(m)})^{T}<br>\end{matrix} \right]<br>=<br>\left[ \begin{matrix}<br>y_{1}^{(1)} &amp; y_{2}^{(1)} &amp; \dots &amp; y_{p}^{(1)} \\<br>y_{1}^{(2)} &amp; y_{2}^{(2)} &amp; \dots &amp; y_{p}^{(2)} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>y_{1}^{(m)} &amp; y_{2}^{(m)} &amp; \dots  &amp; y_{p}^{(m)}<br>\end{matrix} \right]<br>$$</p>
<p>則我們可以將成本函數寫完整：</p>
<p>$$<br>Cost(\Theta)<br>= \frac{1}{2m} \sum\limits_{i=1}^m (Y - \hat{Y})^{2}<br>= \frac{1}{2m} \sum\limits_{i=1}^m (Y - h_{\Theta}(X))^{2}<br>$$</p>
<p>$$<br>= \frac{1}{2m} \sum\limits_{i=1}^m<br>(\left[y_{j}^{(i)}\right] - \left[ h_{\Theta}(X)^{(i)}_{j} \right]  )^{2}<br>$$</p>
<p>我們關注的是，當權重 $\Theta$ 改變時，成本 $Cost(\Theta)$ 的變化，<br>假設我們激活函數為 Sigmoid 函數 $\phi(z) = \frac{1}{1 + e ^{-z}}$</p>
<p>接下來，我們要處理每一層的誤差。</p>
<h2 id="Sigmoid-函數微分"><a href="#Sigmoid-函數微分" class="headerlink" title="Sigmoid 函數微分"></a>Sigmoid 函數微分</h2><p>在開始之前，我們先處理激活函數的微分，這個部分在後面會使用到。</p>
<p>$$<br>\phi(z) = \frac{1}{1 + e ^{-z}}<br>$$</p>
<p>對 $z$ 偏微分有：</p>
<p>$$<br>\frac{\partial \phi(z)}{\partial z}<br> = \frac{\partial}{\partial z} \left( \frac{1}{1 + e ^{-z}} \right)<br> = \frac{\partial (1 + e ^{-z})^{-1}}{\partial (1 + e ^{-z})} \frac{\partial (1 + e ^{-z})}{\partial z}<br> = \left[ -(1 + e ^{-z})^{-2} \right] \left[ -e^{-z} \right]<br>$$<br>$$<br> = \left[ (1 + e ^{-z})^{-1} \right] \left[ (1 + e ^{-z})^{-1}e^{-z} \right]<br> = \phi(z) \left( \frac{e^{-z}}{1 + e ^{-z}} + \frac{1}{1 + e ^{-z}} - \frac{1}{1 + e ^{-z}} \right)<br>$$<br>$$<br> = \phi(z) \left( \frac{1 + e^{-z}}{1 + e ^{-z}} - \phi(z) \right)<br> = \phi(z) \left( 1 - \phi(z) \right)<br>$$</p>
<h2 id="輸出層的誤差"><a href="#輸出層的誤差" class="headerlink" title="輸出層的誤差"></a>輸出層的誤差</h2><p>在接下去之前，我們把符號定義清楚，先前的討論中，我們得到結論是：<br>$$<br>h_{\Theta}(X) = \phi(X\Theta^{(1)}\Theta^{(2)} \dots \Theta^{(L)})<br>$$</p>
<p><img src="https://i.imgur.com/zOAQra2.png" alt="圖 3、輸出層的誤差"></p>
<p>如果僅考慮一筆資料的情況，即 $ X = (\boldsymbol{x}^{(1)})^{T}$<br>參考圖 3 所示，接著定義：<br>$$<br>a^{(1)} = X\Theta^{(1)} = (\boldsymbol{x}^{(1)})^{T}\Theta^{(1)} \\<br>a^{(2)} = a^{(1)}\Theta^{(2)} \\<br>\vdots \\<br>a^{(L)} = a^{(L-1)}\Theta^{(L)}<br>$$</p>
<p>不難發現，第 $l$ 層的第 $k$ 個神經元的輸出為 $a_{k}^{(l)}$<br>另外總輸出為 $h_{\Theta}(X) = \phi(a^{(L)})$<br>同理，第 $k$ 個神經元的輸出為 $\phi(a_{k}^{(L)})$ </p>
<p>我們觀察第 $L-1$ 層的第 $i$ 個神經元連接到第 $L$ 層第 $j$ 個神經元的權重為 $\Theta_{ij}^{(L)}$<br>所以我們對 $Cost(\Theta)$ 的特定神經元做偏微分有：</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{ij}^{(L)}}<br> = \frac{1}{2}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2} }{\partial \Theta_{ij}^{(L)}}<br>$$<br>$$<br> = \frac{1}{2}<br> \frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2} }{\partial y_{j} - \phi(a_{j}^{(L)})}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \Theta_{ij}^{(L)}}<br>$$<br>$$<br>= \frac{1}{2}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2} }{\partial y_{j} - \phi(a_{j}^{(L)})}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \phi(a_{j}^{(L)})}<br>\frac{\partial \phi(a_{j}^{(L)})}{\partial \Theta_{ij}^{(L)}}<br>$$<br>$$<br>=<br>\frac{1}{2}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2}}{\partial (y_{j} - \phi(a_{j}^{(L)}))}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \phi(a_{j}^{(L)})}<br>\frac{\partial \phi(a_{j}^{(L)})}{\partial a_{j}^{(L)}}<br>\frac{\partial a_{j}^{(L)}}{\partial \Theta_{ij}^{(L)}}<br>$$</p>
<p>然後我們逐項討論，第一乘項是：</p>
<p>$$<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2}}{\partial (y_{j} - \phi(a_{j}^{(L)}))} = 2(y_{j} - \phi(a_{j}^{(L)}))<br>$$</p>
<p>$$<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \phi(a_{j}^{(L)})} = -1<br>$$</p>
<p>使用 Sigmoid 偏微分的結果：</p>
<p>$$<br>\frac{\partial \phi(a_{j}^{(L)})}{\partial a_{j}^{(L)}} = \phi(a_{j}^{(L)}) \left( 1 - \phi(a_{j}^{(L)}) \right)<br>$$</p>
<p>然後根據先前連接的定義，即前一層第 $k$ 個（任意的）神經元的輸出，<br>經過權重 $\Theta_{kj}^{(L)}$ 都可以連到輸出層第 $j$ 個神經元：</p>
<p>$$<br>\frac{\partial a_{j}^{(L)}}{\partial \Theta_{ij}^{(L)}} =<br>\frac{\partial}{\partial \Theta_{ij}^{(L)}} \left( \sum\limits_{k} \phi(a_{k}^{(L-1)})\Theta_{kj}^{(L)} \right) =<br>\phi(a_{i}^{(L-1)})<br>$$</p>
<div class="note info">
            <p>當 $k = i$ 時，那條權重才會影響，微分後才有項被保留</p>
          </div>
<p>則輸出層的誤差為：</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{ij}^{(L)}}<br>= \frac{1}{2} \left[ 2(y_{j} - \phi(a_{j}^{(L)})) (-1) \phi(a_{j}^{(L)}) \left(1 - \phi(a_{j}^{(L)}) \right) \phi(a_{i}^{(L-1)}) \right]<br>$$<br>$$<br>= (y_{j} - \phi(a_{j}^{(L)})) (-1) \phi(a_{j}^{(L)}) \left(1 - \phi(a_{j}^{(L)}) \right) \phi(a_{i}^{(L-1)})<br>$$<br>$$<br>= (\phi(a_{j}^{(L)}) - y_{j}) \phi(a_{j}^{(L)}) \left(1 - \phi(a_{j}^{(L)}) \right) \phi(a_{i}^{(L-1)})<br>$$</p>
<p>然後我們定義最後一層（即第 $L$ 層）第 $j$ 個神經元的的誤差為：</p>
<p>$$<br>\delta_{j}^{(L)} =<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2}}{\partial (y_{j} - \phi(a_{j}^{(L)}))}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \phi(a_{j}^{(L)})}<br>\frac{\partial \phi(a_{j}^{(L)})}{\partial a_{j}^{(L)}}<br>$$<br>$$<br> = (\phi(a_{j}^{(L)}) - y_{j}) \phi(a_{j}^{(L)}) \left(1 - \phi(a_{j}^{(L)}) \right)<br>$$</p>
<p>所以可以表示為：</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{ij}^{(L)}} = \delta_{j}^{(L)} \phi(a_{i}^{(L-1)})<br>$$</p>
<h2 id="隱藏層的誤差"><a href="#隱藏層的誤差" class="headerlink" title="隱藏層的誤差"></a>隱藏層的誤差</h2><p>有了輸出層的經驗，隱藏層便不會太過困難。</p>
<p><img src="https://i.imgur.com/wPg7VqS.png" alt="圖 4、隱藏層的誤差"></p>
<p>觀察圖 4 的內容，我們接下來要討論倒數第 2 層（即 $L-1$ 層）的誤差，<br>很顯然地，一樣是對成本函數做偏微分。</p>
<p>不難發現，最後一層所有的誤差都傳遞到了隱藏層中，<br>可以視作多變數函數的全微分，所以有：</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{st}^{(L-1)}}<br>=<br>\frac{1}{2} \sum\limits_{j} \left[<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2}}{\partial (y_{j} - \phi(a_{j}^{(L)}))}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \phi(a_{j}^{(L)})}<br>\frac{\partial \phi(a_{j}^{(L)})}{\partial a_{j}^{(L)}}<br>\right]<br>\frac{\partial a_{j}^{(L)}}{\partial\Theta_{st}^{(L-1)}}<br>$$</p>
<p>直至這一步都是幾乎一樣的，接下來拆開最後一項。</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{st}^{(L-1)}}<br>=<br>\frac{1}{2} \sum\limits_{j} \left[<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2}}{\partial (y_{j} - \phi(a_{j}^{(L)}))}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \phi(a_{j}^{(L)})}<br>\frac{\partial \phi(a_{j}^{(L)})}{\partial a_{j}^{(L)}}<br>\right]<br>\frac{\partial a_{j}^{(L)}}{\partial\Theta_{st}^{(L-1)}}<br>$$<br>$$<br>=<br>\frac{1}{2} \sum\limits_{j} \left[<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))^{2}}{\partial (y_{j} - \phi(a_{j}^{(L)}))}<br>\frac{\partial (y_{j} - \phi(a_{j}^{(L)}))}{\partial \phi(a_{j}^{(L)})}<br>\frac{\partial \phi(a_{j}^{(L)})}{\partial a_{j}^{(L)}}<br>\right]<br>\frac{\partial \sum\limits_{k} \left( \phi(a_{k}^{(L-1)}) \Theta_{kj}^{(L)} \right)}{\partial a_{i}^{(L-1)}}<br>\frac{\partial a_{i}^{(L-1)}}{\partial\Theta_{st}^{(L-1)}}<br>$$<br>$$<br>=<br>\frac{1}{2} \sum\limits_{j} \delta_{j}^{(L)}<br>\frac{\partial \sum\limits_{k} \left( \phi(a_{k}^{(L-1)}) \Theta_{kj}^{(L)} \right)}{\partial a_{i}^{(L-1)}}<br>\frac{\partial a_{i}^{(L-1)}}{\partial\Theta_{st}^{(L-1)}}<br>$$</p>
<p>逐項討論，這裡用了激活函數的結果，<br>注意偏微分，當 $k \neq i$ 的項都被視為常數：</p>
<p>$$<br>\frac{\partial \sum\limits_{k} \left( \phi(a_{k}^{(L-1)}) \Theta_{kj}^{(L)} \right)}{\partial a_{i}^{(L-1)}}<br>= \frac{\partial \phi(a_{i}^{(L-1)}) \Theta_{ij}^{(L)}}{\partial a_{i}^{(L-1)}}<br>$$<br>$$<br>= \frac{\partial \phi(a_{i}^{(L-1)})}{\partial a_{i}^{(L-1)}} \Theta_{ij}^{(L)} + \phi(a_{i}^{(L-1)}) \frac{\partial \Theta_{ij}^{(L)}}{\partial a_{i}^{(L-1)}}<br>= \Theta_{ij}^{(L)} \phi(a_{i}^{(L-1)}) \left( 1 - \phi(a_{i}^{(L-1)})\right)<br>$$</p>
<p>最後一項，跟輸出層的時候一樣（觀察圖 3 可以得到 $t = i$）<br>所以只有 $k = s$ 的時候才有值：</p>
<p>$$<br>\frac{\partial a_{i}^{(L-1)}}{\partial\Theta_{st}^{(L-1)}} =<br>\frac{\partial}{\partial \Theta_{st}^{(L-1)}} \left( \sum\limits_{k} \phi(a_{k}^{(L-2)})\Theta_{ki}^{(L-1)} \right) =<br>\frac{\partial}{\partial \Theta_{st}^{(L-1)}} \left( \sum\limits_{k} \phi(a_{k}^{(L-2)})\Theta_{kt}^{(L-1)} \right) =<br>\phi(a_{s}^{(L-2)})<br>$$</p>
<p>同樣地，我們做個總整理：</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{st}^{(L-1)}}<br>=<br>\frac{1}{2} \sum\limits_{j} \delta_{j}^{(L)}<br>\frac{\partial \sum\limits_{k} \left( \phi(a_{k}^{(L-1)}) \Theta_{kj}^{(L)} \right)}{\partial a_{i}^{(L-1)}}<br>\frac{\partial a_{i}^{(L-1)}}{\partial\Theta_{st}^{(L-1)}}<br>$$<br>$$<br>=<br>\frac{1}{2} \sum\limits_{j} \delta_{j}^{(L)}<br>\Theta_{ij}^{(L)} \phi(a_{i}^{(L-1)}) \left( 1 - \phi(a_{i}^{(L-1)}) \right) \phi(a_{s}^{(L-2)})<br>$$</p>
<p>重新定義第 $L-1$ 層第 $t = i$ 個神經元的的誤差為：</p>
<p>$$<br>\delta_{t}^{(L-1)} = \left[<br>\left( \sum\limits_{j} \delta_{j}^{(L)} \Theta_{ij}^{(L)} \right)<br>\phi(a_{i}^{(L-1)}) \left( 1 - \phi(a_{i}^{(L-1)}) \right)<br>\right]<br>$$</p>
<p>所以可以表示為：</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{st}^{(L-1)}} = \frac{1}{2} \delta_{t}^{(L-1)} \phi(a_{s}^{(L-2)})<br>$$</p>
<p>我們可以對任意權重 $\Theta_{ab}^{(c)}$ 同理推論出：</p>
<p>$$<br>\frac{\partial Cost(\Theta) }{\partial\Theta_{ab}^{(c)}} = \frac{1}{2} \delta_{b}^{(c)} \phi(a_{a}^{(c-1)})<br>$$</p>
<div class="note info">
            <p>從這裡可以發現 $\delta$ 是可以重複利用的，而且誤差是由最後一層，層層向前傳遞。</p>
          </div>]]></content>
      <categories>
        <category>人工智慧</category>
      </categories>
  </entry>
  <entry>
    <title>推盤遊戲  n-puzzle</title>
    <url>/n-puzzle/</url>
    <content><![CDATA[<p>這是人工智慧課程的教學筆記。<br>同時也是學期初上課的內容，因為不太好寫演示所以拖到暑假來完成。<br><a id="more"></a></p>
<p>原本以為寫起來很簡單，但筆者發現許多地方很難說明清楚，<br>增加了許多圖片輔助理解，也延後了完成的時間……</p>
<div class="note info">
            <p>本篇內容與機器學習無關，更屬於早期推理與搜索人工智慧的部分。</p>
          </div>
<h1 id="滑塊遊戲"><a href="#滑塊遊戲" class="headerlink" title="滑塊遊戲"></a>滑塊遊戲</h1><p>開始之前，先來討論遊戲本體。  </p>
<h2 id="規則"><a href="#規則" class="headerlink" title="規則"></a>規則</h2><p>通常而言，已完成的盤面有 2 種表示方法，就像圖 1 這樣：</p>
<p><img src="https://i.imgur.com/90Tj4xL.png" alt="圖 1、盤面表示的 2 種方法"></p>
<p>筆者採用前者這種。</p>
<p>遊戲的規則很簡單：</p>
<ul>
<li>移動空格（即 0 那格）周圍的拼圖到空格上</li>
<li>移動到拼圖完成（只剩空格那塊不在正確的位置上）</li>
</ul>
<p>以程式來講，規則是容易實作的，<br>反而是盤面資料的表示會有很多的考量。</p>
<p>接下來我們會先討論盤面與狀態的關係，再敘說表示方法。</p>
<h2 id="盤面與狀態"><a href="#盤面與狀態" class="headerlink" title="盤面與狀態"></a>盤面與狀態</h2><p>所謂的狀態，其實就是指儲存的盤面，盤面可以用各種方式儲存，<br>其實狀態大致上跟盤面是同義的；雖然嚴格說起來，狀態是盤面的抽象表示。</p>
<p>考慮到 3x3 的盤面，就已經有多種保存的方法：</p>
<ul>
<li>儲存陣列</li>
<li>儲存動態陣列的指標</li>
<li>儲存某個計算過的數值</li>
<li>儲存定義的物件</li>
<li>…</li>
</ul>
<p>儲存陣列在高階語言中，相當於額外開一塊記憶體空間，<br>而在 C/C++ 中，儲存指標可能要有效率的多。</p>
<p>計算某個數值的方法，舉例來說可以計算 $V(S) = \sum\limits_{i=0}^{N^{2}-1} 10^{i}S_{i}$<br>像是 $S = [4, 7, 6, 3, 1, 2, 8, 0, 5]$ 就有：</p>
<p>$V(S) = 10^{0}S_{0} + 10^{1}S_{1} + … + 10^{8}S_{8}$<br>$= 4 + 70 + 600 + 3000 + 10000 + 200000 + 8000000 + 0 + 500000000 = 508213674$</p>
<p>儲存定義的物件，通常是用於需要中間盤面的時候，<br>而筆者的演示因為需要動畫，所以採用的是這種方式（陣列儲存在物件中）。</p>
<div class="note danger">
            <p>儲存特定數值可能不是有效的方法，因為數值較大可能溢位（4x4）</p>
          </div>
<h2 id="盤面動作"><a href="#盤面動作" class="headerlink" title="盤面動作"></a>盤面動作</h2><p>定義好盤面表示法（即狀態）之後，接下來要定義動作。</p>
<p>由於我們將 2 維陣列以 1 維表示，直觀上來講，<br>若盤面大小為 $N$ 且狀態為 $S_{i}$ 其中 $i$ 為陣列的註標，<br>先定義取得列的函數：</p>
<p>$row(x) = \lfloor\frac{x}{N}\rfloor$</p>
<p>動作的部分：</p>
<ul>
<li>向上移動，即 $swap(S_{i}, S_{i-N})$ 其中 $row(i-N) \geq 0$</li>
<li>向下移動，即 $swap(S_{i}, S_{i+N})$ 其中 $row(i+N) \leq N-1$</li>
<li>向左移動，即 $swap(S_{i}, S_{i-1})$ 其中 $row(i) = row(i-1)$</li>
<li>向右移動，即 $swap(S_{i}, S_{i+1})$ 其中 $row(i) = row(i+1)$</li>
</ul>
<div class="note warning">
            <p>若將空格視為圖塊，因為只能移動空格，則此處的 $S_{i}$ 必為 $0$</p>
          </div>
<p>舉個例子。</p>
<p>下面以 $N = 3$ 即 3x3 盤面為例，<br>假設此時的 $S = [4, 7, 6, 3, 1, 2, 8, 0, 5]$ 畫成圖 2：</p>
<p><img src="https://i.imgur.com/HohLNkB.png" alt="圖 2、初始盤面"></p>
<div class="note info">
            <p>圖的格子中間的數字是儲存的值，而右下角為註標。</p>
          </div>
<p>我們先向下移動，如果不考慮條件，直接移動的話，會變成圖 3：</p>
<p><img src="https://i.imgur.com/yTodbyw.png" alt="圖 3、向下移動錯誤"></p>
<p>驗算一下，因為 $S_{7} = 0$ 則 $row(7+N) = \lfloor\frac{7+3}{3}\rfloor = \lfloor\frac{10}{3}\rfloor = 3$ 有 $3 \nleq 2$ 代表條件不成立，<br>所以移動失敗，如圖 4：</p>
<p><img src="https://i.imgur.com/mlYFT87.png" alt="圖 4、向下移動失敗"></p>
<p>接著向上移動。<br>則 $S_{7} = 0$ 因為 $row(7-N) = \lfloor\frac{7-3}{3}\rfloor = \lfloor\frac{4}{3}\rfloor = 1$ 則 $1 \geq 2$ 成立，所以移動成功，如圖 5。<br>做 $swap(state[7], state[4])$ 有：</p>
<p><img src="https://i.imgur.com/LGGN4hg.png" alt="圖 5、向上移動成功"></p>
<p>然後我們向右移動，現在 $S_{4} = 0$ 的話：<br>$row(4) = \lfloor\frac{4}{3}\rfloor = 1$<br>$row(4+1) = \lfloor\frac{5}{3}\rfloor = 1$<br>有 $1 = 1$ 成立，所以移動成功，如圖 6。<br>做 $swap(state[4], state[5])$ 有：</p>
<p><img src="https://i.imgur.com/zLKI65z.png" alt="圖 6、向右移動成功"></p>
<p>我們最後再向右移動一次，考慮 $S_{5} = 0$<br>$row(5) = \lfloor\frac{5}{3}\rfloor = 1$<br>$row(5+1) = \lfloor\frac{6}{3}\rfloor = 2$<br>因為 $1 \neq 2$ 所以移動失敗，如圖 7。</p>
<p>如果錯誤移動，則會變成：</p>
<p><img src="https://i.imgur.com/AY2LFNK.png" alt="圖 7、向右移動錯誤"></p>
<p>正確應該是圖 8 的樣子：</p>
<p><img src="https://i.imgur.com/mlYFT87.png" alt="圖 8、向右移動失敗"></p>
<p>從上面例子可以看出來，條件只是為了維護空格的正確性。</p>
<p>注意上下移動時，我們只判斷是否出界，因為 $ S_{i \pm N}$ 保證會與 $S_{i}$ 在同一行上；<br>同理，在左右移動時，僅判斷是否為同一列的原因，在於兩個出界的情況都會換列。</p>
<div class="note info">
            <p>為了程式的美觀，可以兩個條件都檢查，不過有些顯得多此一舉。</p>
          </div>
<div class="note warning">
            <p>行（column）、列（row）是借用矩陣的術語，其實我們使用的是 1 維陣列，並無這個概念。</p>
          </div>
<p>寫成程式，大概長這樣子：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 檢查範圍 */</span></span><br><span class="line"><span class="built_in">Math</span>.include = <span class="function"><span class="keyword">function</span>(<span class="params">v, a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> v &gt;= a &amp;&amp; v &lt; b;                       <span class="comment">// v 屬於 [a, b) 則為真</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 註標轉換成列 */</span></span><br><span class="line"><span class="keyword">let</span> row = <span class="function"><span class="keyword">function</span>(<span class="params">n, index</span>) </span>&#123;                  <span class="comment">// 這裡將 N 也一併傳入</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(index / n);                 <span class="comment">// 計算列數</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 操作動作 */</span></span><br><span class="line"><span class="keyword">let</span> move = <span class="function"><span class="keyword">function</span>(<span class="params">s, a</span>) </span>&#123;                     <span class="comment">// 傳入目前的狀態</span></span><br><span class="line">  <span class="keyword">let</span> nextS = <span class="built_in">Array</span>.from(s);                    <span class="comment">// 複製一份狀態</span></span><br><span class="line">  <span class="keyword">let</span> p = s.indexOf(<span class="number">0</span>);                         <span class="comment">// 檢查 0 的註標</span></span><br><span class="line">  <span class="keyword">switch</span>(a) &#123;                                   <span class="comment">// 檢查要執行的動作</span></span><br><span class="line">    <span class="keyword">case</span> ACTIONS.UP:                            <span class="comment">// 向上移動</span></span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">Math</span>.include(row(N, p - N), <span class="number">0</span>, N)) &#123;   <span class="comment">// 確認邊界範圍</span></span><br><span class="line">        nextS.swap(p, p - N);                   <span class="comment">// 執行交換</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> ACTIONS.RIGHT:                         <span class="comment">// 向右移動</span></span><br><span class="line">      <span class="keyword">if</span>(row(N, p) == row(N, p + <span class="number">1</span>)) &#123;          <span class="comment">// 檢查列相等</span></span><br><span class="line">        nextS.swap(p, p + <span class="number">1</span>);                   <span class="comment">// 執行交換</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> ACTIONS.DOWN:                          <span class="comment">// 向下移動</span></span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">Math</span>.include(row(N, p + N), <span class="number">0</span>, N)) &#123;   <span class="comment">// 確認邊界範圍</span></span><br><span class="line">        nextS.swap(p, p + N);                   <span class="comment">// 執行交換</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> ACTIONS.LEFT:                          <span class="comment">// 向左移動</span></span><br><span class="line">      <span class="keyword">if</span>(row(N, p) == row(N, p - <span class="number">1</span>)) &#123;          <span class="comment">// 確認邊界範圍</span></span><br><span class="line">        nextS.swap(p, p - <span class="number">1</span>);                   <span class="comment">// 執行交換</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nextS;                                 <span class="comment">// 回傳下一個狀態</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="檢查狀態"><a href="#檢查狀態" class="headerlink" title="檢查狀態"></a>檢查狀態</h2><p>對於檢查是否完成的函數，<br>只要狀態在一個陣列中，則比對起來相當容易：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">let</span> state = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>];    <span class="comment">// 初始狀態</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">let</span> goal = <span class="function"><span class="keyword">function</span>(<span class="params">state</span>) </span>&#123;                <span class="comment">// 檢查結果</span></span><br><span class="line">  <span class="keyword">return</span> state.map(<span class="function">(<span class="params">value, index</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> value == index;                <span class="comment">// 檢查對錯</span></span><br><span class="line">  &#125;).reduce(<span class="function">(<span class="params">previous, current</span>)=&gt;</span>&#123;          <span class="comment">// 全部正確才正確</span></span><br><span class="line">      <span class="keyword">return</span> previous &amp;&amp; current;           <span class="comment">// 總和結果</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>這個寫法是在 <a href="#規則">規則</a> 選擇表示法時確定下來的，不同的表示法有不同的檢查函數。</p>
          </div>
<h2 id="解的類型"><a href="#解的類型" class="headerlink" title="解的類型"></a>解的類型</h2><p>所謂的解分成 2 種：</p>
<ul>
<li>普通解</li>
<li>最優解</li>
</ul>
<p>普通解是「不限移動多少步」只要完成盤面就可以；<br>最優解則是限制「一定要在最少步數」完成盤面。</p>
<p>下面兩個解都會提及。</p>
<h1 id="普通解法"><a href="#普通解法" class="headerlink" title="普通解法"></a>普通解法</h1><p>普通解法很簡單，但不太實用，<br>因為可能要很多步才能到完成盤面。</p>
<h2 id="狀態樹"><a href="#狀態樹" class="headerlink" title="狀態樹"></a>狀態樹</h2><p>考慮圖 9 的盤面：</p>
<p><img src="https://i.imgur.com/yiUwADa.png" alt="圖 9、初始盤面"></p>
<p>若將其下一步繪製出來，則有圖 10：</p>
<p><img src="https://i.imgur.com/rSXUXe2.png" alt="圖 10、盤面單層狀態樹"></p>
<p>這個樣貌的東西，每一個節點都是「狀態」，而整體稱作「狀態樹」<br>我們的目標，則是在這樣的分支中，尋找解答。</p>
<h2 id="貪婪搜索"><a href="#貪婪搜索" class="headerlink" title="貪婪搜索"></a>貪婪搜索</h2><p>這是一個 2 層的狀態樹，參考圖 11：</p>
<p><img src="https://i.imgur.com/OAV074x.png" alt="圖 11、盤面兩層狀態樹"></p>
<p>考慮到圖中狀態 $A = D$ 且 $A = G$ 代表我們需要紀錄已經存在的狀態，<br>否則可能陷入無窮迴圈（也可能不會，要看初始狀態。）</p>
<p>貪婪搜索的想法是：「哪一步更好，我就選擇哪一步。」</p>
<p>那麼，哪一步更好呢？考慮到我們檢查函數：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">let</span> goal = <span class="function"><span class="keyword">function</span>(<span class="params">state</span>) </span>&#123;                <span class="comment">// 檢查結果</span></span><br><span class="line">  <span class="keyword">return</span> state.map(<span class="function">(<span class="params">value, index</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> value == index;                <span class="comment">// 檢查對錯</span></span><br><span class="line">  &#125;).reduce(<span class="function">(<span class="params">previous, current</span>)=&gt;</span>&#123;          <span class="comment">// 全部正確才正確</span></span><br><span class="line">      <span class="keyword">return</span> previous &amp;&amp; current;           <span class="comment">// 總和結果</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>可以改寫成：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">let</span> h = <span class="function"><span class="keyword">function</span>(<span class="params">state</span>) </span>&#123;                   <span class="comment">// 檢查狀態</span></span><br><span class="line">  <span class="keyword">return</span> state.map(<span class="function">(<span class="params">value, index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value == <span class="number">0</span>) &#123;                       <span class="comment">// 是否為空格</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;                             <span class="comment">// 空格不算錯位</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;                                  <span class="comment">// 不為空格</span></span><br><span class="line">      <span class="keyword">return</span> value == index ? <span class="number">1</span> : <span class="number">0</span>;        <span class="comment">// 檢查對錯</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).reduce(<span class="function">(<span class="params">previous, current</span>)=&gt;</span>&#123;          <span class="comment">// 累計結果</span></span><br><span class="line">    <span class="keyword">return</span> previous + current;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>如此一來，函數 $h$ 稱作「評估函數」<br>對於某一個狀態，可以評價目前的狀態「有多少錯誤的格子」<br>貪婪的兩層狀態樹，請參考圖 12。</p>
<p><img src="https://i.imgur.com/26Nh0U3.png" alt="圖 12、貪婪兩層狀態樹"></p>
<p>狀態 $A$ 在選擇下一個狀態：</p>
<ul>
<li>$h(B) = 5$</li>
<li>$h(C) = 3$</li>
</ul>
<p>所以選擇 $C$ 為下一步。同時，將狀態 $A$ 紀錄下來，<br>好在之後排除 $D$ 與 $G$ 兩個相同的狀態。</p>
<p>由於狀態 $C$ 下一步選擇評估最佳的 $H$ 並將 $C$ 記錄下來，<br>狀態 $H$ 選擇最佳的 $M$ 為下一步，且狀態 $M$ 選擇最佳的 $P$ 為下一步。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 求解盤面 */</span></span><br><span class="line"><span class="keyword">let</span> resolve = <span class="function"><span class="keyword">function</span>(<span class="params">state, h</span>) </span>&#123;                    <span class="comment">// 給定狀態與策略</span></span><br><span class="line">  <span class="keyword">let</span> actions = <span class="built_in">Object</span>.keys(ACTIONS);                 <span class="comment">// 動作列表</span></span><br><span class="line">  <span class="keyword">let</span> bestH = <span class="built_in">Number</span>.MAX_SAFE_INTEGER;                <span class="comment">// 最佳的評價值（先設最大）</span></span><br><span class="line">  <span class="keyword">let</span> bestState = <span class="literal">null</span>;                               <span class="comment">// 最佳的動作</span></span><br><span class="line">  record.push(state);                                 <span class="comment">// 將目前狀態紀錄</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> actions) &#123;                             <span class="comment">// 對所有可執行的動作</span></span><br><span class="line">    <span class="keyword">let</span> nextState = move(state, ACTIONS[i]);          <span class="comment">// 生成下一步</span></span><br><span class="line">    <span class="keyword">if</span>(!have(record, nextState)) &#123;                    <span class="comment">// 檢查是否在紀錄中</span></span><br><span class="line">      <span class="keyword">if</span>(h(nextState) &lt; bestH) &#123;                      <span class="comment">// 評價是目前最佳</span></span><br><span class="line">        bestState = nextState;                        <span class="comment">// 保存最佳動作</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bestState;                                   <span class="comment">// 回傳下一個狀態</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>坦白說，這個做法很難找到解，<br>不過除了可以使不理解規則的讀者大致知道在做什麼外，<br>也為了其他方法做了事前準備。</p>
<h2 id="死路狀態"><a href="#死路狀態" class="headerlink" title="死路狀態"></a>死路狀態</h2><p>這個優先選擇最佳的方法，很有可能落入無路可走的狀態，<br>筆者稱之為「死路狀態」，圖 13 為死路狀態的例子。</p>
<p><img src="https://i.imgur.com/kCedGRl.png" alt="圖 13、死路狀態"></p>
<p>死路狀態容易發生在角落移動時，<br>因為往角落移動的時候，分支僅為 2 條，其中一條已經被用掉（上一狀態）<br>而若此時，另一條狀態也在先前的紀錄中，則程式便會當機。</p>
<p>下面列出一個最終出現死路狀態的例子：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">[<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">...</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">7</span>] <span class="comment">// 注意此處</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">7</span>]</span><br><span class="line">...</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">0</span>]</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>死路狀態例子中，第一分支是 64 步出現的，而第二分支在 182 步，然後在 183 步進入死路狀態。</p>
          </div>
<h2 id="隨機策略"><a href="#隨機策略" class="headerlink" title="隨機策略"></a>隨機策略</h2><p>由死路問題引出了另一個想法是：<br>「一旦搜尋不到更好且沒記錄過的解，則隨機移動一步。」</p>
<p>畢竟如果只搜索一層，則沒有其他資訊可以用了。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 求解盤面 */</span></span><br><span class="line"><span class="keyword">let</span> resolve = <span class="function"><span class="keyword">function</span>(<span class="params">state, h</span>) </span>&#123;                    <span class="comment">// 給定狀態與策略</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">/* 貪婪搜索 */</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span>(bestState == <span class="literal">null</span>) &#123;                             <span class="comment">// 如果進入死路狀態</span></span><br><span class="line">    <span class="keyword">let</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*actions.length); <span class="comment">// 隨機選一步</span></span><br><span class="line">    bestState = move(state, ACTIONS[actions[i]]);     <span class="comment">// 往下一步前進</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bestState;                                   <span class="comment">// 回傳下一個狀態</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>隨機是人工智慧的另一個慣用手法，其他例子像是隨機梯度下降（SGD）就用於跳脫局部最佳解。</p>
          </div>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><iframe scrolling="no" width="100%" height="430px" src="//jsfiddle.net/xz2n3tu1/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<div class="note warning">
            <p>記憶體會隨記錄狀態而膨脹。本演示有記錄狀態的佇列上限，同時這也代表了可能找不到解。</p>
          </div>
<h1 id="最優解法"><a href="#最優解法" class="headerlink" title="最優解法"></a>最優解法</h1><p>普通的做法需要步數太多了。<br>以至於動畫很難等到他找到解答（雖然筆者在寫文章時看到過幾次……）</p>
<p>所以我們需要找一個在「狀態樹」中，較短路徑的解答；<br>其中，在狀態樹中，那條最短路徑稱為「最優解」。</p>
<div class="note info">
            <p>尋找最優解是一個 <a href="https://zh.wikipedia.org/wiki/NP%E5%9B%B0%E9%9A%BE" target="_blank" rel="noopener">NP-hard</a> 問題</p>
          </div>
<div class="note warning">
            <p>最優解的意思不是速度最快，即使可以找到步數很少的解，但程式可能需要搜索很久。</p>
          </div>
<h2 id="A-搜索"><a href="#A-搜索" class="headerlink" title="A*搜索"></a>A*搜索</h2><p>尋找最優解的過程，與先前的 <a href="#貪婪搜索">貪婪搜索</a> 類似，<br>只不過這次我們會將紀錄過的路徑拿出來使用。</p>
<p>原本的貪婪搜索是「選擇下一步中，最佳的狀態。」<br>而既然要挑最優解，策略變成「選擇『紀錄狀態』中，最佳的狀態。」</p>
<p>A* 搜索的策略，將原本的策略變成： $f(s) = g(s) + h(s)$<br>其中 $h(s)$ 與原本貪婪搜索的函數一樣；而 $g(s)$ 代表這是第幾層的狀態，<br>狀態樹請參考圖 14。</p>
<p><img src="https://i.imgur.com/hqxmhmA.png" alt="圖 14、A*狀態樹"></p>
<p>兩個函數互相平衡的結果：</p>
<p>如果 $h(S_{a})$ 很棒，但 $g(S_{a})$ 很大（意味著步數很多）<br>則先不急著拓展 $S_{a}$ 狀態，找找看淺層（也就是 $g(s)$ 較小）有沒有解。</p>
<p>如果 $g(S_{b})$ 很小，但 $h(S_{b})$ 很糟，<br>顯然地，這個 $S_{b}$ 狀態可能距離盤面完成還有很多步，<br>則找找看有沒有 $h(s)$ 比較好的狀態。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 求解盤面 */</span></span><br><span class="line"><span class="keyword">let</span> resolve = <span class="function"><span class="keyword">function</span>(<span class="params">state, h</span>) </span>&#123;                                          <span class="comment">// 給定狀態與策略</span></span><br><span class="line">  <span class="keyword">let</span> create = queue.node;                                                  <span class="comment">// 建立優先佇列節點的函數</span></span><br><span class="line">  <span class="keyword">let</span> record = [];                                                          <span class="comment">// 紀錄的陣列</span></span><br><span class="line">  <span class="keyword">let</span> next = [];                                                            <span class="comment">// 下一步的暫存陣列</span></span><br><span class="line">  <span class="keyword">let</span> actions = <span class="built_in">Object</span>.keys(ACTIONS);                                       <span class="comment">// 動作列表</span></span><br><span class="line">  queue.insert(create(<span class="literal">null</span>, state, <span class="literal">null</span>, <span class="number">0</span>, h(state)));                     <span class="comment">// 將初始狀態加入優先佇列</span></span><br><span class="line">  <span class="keyword">while</span>(!queue.empty()) &#123;                                                   <span class="comment">// 優先佇列不為空</span></span><br><span class="line">    <span class="keyword">let</span> node = queue.get();                                                 <span class="comment">// 從優先佇列取得一個節點</span></span><br><span class="line">    <span class="keyword">let</span> state = node.state;                                                 <span class="comment">// 取得當前節點的狀態</span></span><br><span class="line">    record.push(node);                                                      <span class="comment">// 將目前狀態紀錄</span></span><br><span class="line">    <span class="keyword">if</span>(goal(state)) &#123;                                                       <span class="comment">// 已經完成</span></span><br><span class="line">      <span class="keyword">return</span> record;                                                        <span class="comment">// 將所有狀態返回（建立動畫）</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> recordStates = record.map(<span class="function">(<span class="params">node</span>)=&gt;</span>node.state);                      <span class="comment">// 取得所有紀錄的狀態</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> actions) &#123;</span><br><span class="line">      <span class="keyword">let</span> action = ACTIONS[i];</span><br><span class="line">      <span class="keyword">let</span> nextStates = move(state, action);                                 <span class="comment">// 生成下一步</span></span><br><span class="line">      <span class="keyword">if</span> (!have(recordStates, nextStates)) &#123;                                <span class="comment">// 檢查是否在紀錄中</span></span><br><span class="line">        <span class="keyword">let</span> g = node.g + <span class="number">1</span>;                                                 <span class="comment">// 這步的深度遞增（即下一層）</span></span><br><span class="line">        <span class="keyword">if</span> (g &gt;= maxDeep) &#123;                                                 <span class="comment">// 防止搜索過深（預防當機）</span></span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        queue.insert(create(node, nextStates, action, g, h(nextStates)));   <span class="comment">// 將下一步全部插入優先佇列</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> record;                                                            <span class="comment">// 超出深度時直接把紀錄返回</span></span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="優先佇列"><a href="#優先佇列" class="headerlink" title="優先佇列"></a>優先佇列</h2><p>A*搜索實作的重點之一是如何實現優先佇列；<br>一個簡單的方法是透過插入排序，在適當的位置插入狀態。</p>
<div class="note success">
            <p>請參考：<a href="/sort/" title="排序 Sort">排序 Sort</a></p>
          </div>
<p>不過在這裡，我們透過堆積完成優先佇列。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 優先佇列 */</span></span><br><span class="line"><span class="keyword">let</span> queue = &#123;</span><br><span class="line">  heap: [&#123;<span class="attr">f</span>: <span class="number">-1</span>&#125;],</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 清除佇列 */</span></span><br><span class="line">  clear: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.heap = [&#123;<span class="attr">f</span>: <span class="number">-1</span>&#125;];</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 判斷佇列為空 */</span></span><br><span class="line">  empty: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !(<span class="keyword">this</span>.heap.length &gt; <span class="number">1</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 重整佇列函數 */</span></span><br><span class="line">  restore: <span class="function"><span class="keyword">function</span>(<span class="params">node, leaf</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> ((node * <span class="number">2</span>) &lt;= leaf) &#123;                                            <span class="comment">// 樹的倒數二層之內</span></span><br><span class="line">      <span class="keyword">let</span> left = <span class="number">2</span> * node;                                                  <span class="comment">// 取得左子節點</span></span><br><span class="line">      <span class="keyword">let</span> right = <span class="number">2</span> * node + <span class="number">1</span>;                                             <span class="comment">// 取得右子節點</span></span><br><span class="line">      <span class="keyword">if</span> (right &gt; leaf) &#123;                                                   <span class="comment">// 超出葉子</span></span><br><span class="line">        right = left;                                                       <span class="comment">// 使左、右節點相等</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> target;                                                           <span class="comment">// 暫存節點</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.heap[left].f &lt; <span class="keyword">this</span>.heap[right].f) &#123;                         <span class="comment">// 根據節點的 f(s) 值排序</span></span><br><span class="line">        target = left;                                                      <span class="comment">// 往左子節點去</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        target = right;                                                     <span class="comment">// 往右子節點去</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.heap[node].f &lt; <span class="keyword">this</span>.heap[target].f) &#123;                        <span class="comment">// 順序是對的直接跳出</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.heap.swap(node, target);                                         <span class="comment">// 往下交換節點</span></span><br><span class="line">      node = target;                                                        <span class="comment">// 前往子節點</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 插入節點 */</span></span><br><span class="line">  insert: <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.heap.push(node);                                                   <span class="comment">// 先直接塞進駐列</span></span><br><span class="line">    <span class="keyword">let</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="keyword">this</span>.heap.length - <span class="number">1</span>;                                           <span class="comment">// 從葉子開始整理佇列</span></span><br><span class="line">        <span class="keyword">this</span>.heap[<span class="built_in">Math</span>.floor(i / <span class="number">2</span>)].f &gt; node.f;                            <span class="comment">// 根據節點的 f(x) 值處理</span></span><br><span class="line">        i = <span class="built_in">Math</span>.floor(i / <span class="number">2</span>)) &#123;                                            <span class="comment">// 往父節點整理</span></span><br><span class="line">      <span class="keyword">this</span>.heap[i] = <span class="keyword">this</span>.heap[<span class="built_in">Math</span>.floor(i / <span class="number">2</span>)];                          <span class="comment">// 父節點覆寫子節點</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.heap[i] = node;                                                    <span class="comment">// 在正確的位置插入</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 取得最小 f(x) 值的節點*/</span></span><br><span class="line">  <span class="keyword">get</span>: function() &#123;</span><br><span class="line">    <span class="keyword">let</span> node = <span class="keyword">this</span>.heap[<span class="number">1</span>];                                                <span class="comment">// 樹根就是最小，取得樹根的值</span></span><br><span class="line">    <span class="keyword">this</span>.heap[<span class="number">1</span>] = <span class="keyword">this</span>.heap[<span class="keyword">this</span>.heap.length - <span class="number">1</span>];                         <span class="comment">// 把樹根移到葉子的位置上</span></span><br><span class="line">    <span class="keyword">this</span>.heap.pop();                                                        <span class="comment">// 把樹葉摘除</span></span><br><span class="line">    <span class="keyword">this</span>.restore(<span class="number">1</span>, <span class="keyword">this</span>.heap.length - <span class="number">1</span>);                                  <span class="comment">// 從樹根開始重整堆積</span></span><br><span class="line">    <span class="keyword">return</span> node;                                                            <span class="comment">// 把最小節點回傳</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 節點的結構 */</span></span><br><span class="line">  node: <span class="function"><span class="keyword">function</span>(<span class="params">previous, state, action, g, h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      previous: previous,                                                   <span class="comment">// 來源的節點</span></span><br><span class="line">      state: state,                                                         <span class="comment">// 狀態陣列</span></span><br><span class="line">      action: action,                                                       <span class="comment">// 實行的動作</span></span><br><span class="line">      g: g,                                                                 <span class="comment">// g(x) 值，紀錄的深度</span></span><br><span class="line">      f: f                                                                  <span class="comment">// f(x) 值（f = g + h）</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>優先佇列不能取代紀錄陣列，原因是優先佇列會將最小節點丟出去拓展，紀錄會被破壞；<br>反之，如果持續保留最小節點，則根本無法拓展狀態樹。</p>
<h2 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h2><p>與上一個演示不同，這個演示給讀者調整參數。<br>參數中最重要的是「Maximum deep」代表可以搜索的深度，<br>有時候解答藏在很深的狀態樹中，根據 <a href="https://zh.wikipedia.org/wiki/%E6%95%B8%E5%AD%97%E6%8E%A8%E7%9B%A4%E9%81%8A%E6%88%B2" target="_blank" rel="noopener">wikipedia: 數字推盤遊戲</a> 的內容；<br>可以得知 3x3 的解，最深會藏在 31 層以內。</p>
<p>也就是說，當「Maximum deep = 31」時，必有解；<br>但至於執行時間可能相當長（瀏覽器可能會當成沒有回應）。</p>
<iframe scrolling="no" width="100%" height="530px" src="//jsfiddle.net/p8ghq1ds/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<div class="note danger">
            <p>深度很深時，執行速度可能很慢。</p>
          </div>]]></content>
      <categories>
        <category>人工智慧</category>
      </categories>
  </entry>
  <entry>
    <title>指標 Pointer</title>
    <url>/pointer/</url>
    <content><![CDATA[<p>本篇是紀載了關於指標的筆記。我稍微調整了撰寫的順序。<br>另外就是增加了一些額外的知識來補足一些內容。</p>
<a id="more"></a>
<div class="note warning">
            <p>為避免冗餘，本文的程式範例皆省略起始函數及標頭檔，即 <code>main</code> 跟 <code>include</code> 等程式碼請自行補完</p>
          </div>
<h1 id="運算子"><a href="#運算子" class="headerlink" title="運算子"></a>運算子</h1><p>指標的運算子，書中大致上會寫兩種：</p>
<ul>
<li>取址運算子</li>
<li>取值運算子</li>
</ul>
<p>但是如果考慮可以作用在位置上的運算子，其數量應該更多，比方說加法。</p>
<h2 id="取址運算子"><a href="#取址運算子" class="headerlink" title="取址運算子"></a>取址運算子</h2><p>取址運算子是「取得位置」的運算子。<br>它的符號 <code>&amp;</code> 加在變數前面可以取得存放這個變數的位置。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> num;</span><br><span class="line">&amp;num;    <span class="comment">// 取得位置</span></span><br></pre></td></tr></table></figure>
<p>這是指標最基本的運算子，也是較不複雜的一個。</p>
<h2 id="取值運算子"><a href="#取值運算子" class="headerlink" title="取值運算子"></a>取值運算子</h2><p>取值運算子有兩個用途：</p>
<ul>
<li>宣告指標</li>
<li>取得資料</li>
</ul>
<p>如果一開始不分離兩個功能，可能會在之後搞得亂七八糟，<br>它的符號 <code>*</code> 加在變數前面可能有兩種作用，請看它所在的位置判斷。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *num; <span class="comment">// 功能 1：宣告指標</span></span><br><span class="line">*num;     <span class="comment">// 功能 2：取得資料</span></span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>如果 <code>*</code> 出現在宣告，則代表宣告指標；除此之外是取得資料</p>
          </div>
<h1 id="指標與變數"><a href="#指標與變數" class="headerlink" title="指標與變數"></a>指標與變數</h1><p>搭配取址運算子，可以寫出普通程式設計教科書的範例：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> iNum;               <span class="comment">// 宣告變數</span></span><br><span class="line"><span class="keyword">int</span> *pNum;              <span class="comment">// 宣告指標</span></span><br><span class="line">iNum = <span class="number">10</span>;              <span class="comment">// 設定變數值</span></span><br><span class="line">pNum = &amp;iNum;           <span class="comment">// 設定指標指向變數</span></span><br><span class="line">*pNum += <span class="number">2</span>;             <span class="comment">// 指標指向的變數加 2</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, iNum);     <span class="comment">// 印出 12</span></span><br></pre></td></tr></table></figure>
<p>我會建議讀者能把指標想成變數：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> iNum;               <span class="comment">// 宣告變數</span></span><br><span class="line"><span class="keyword">int</span> *pNum;              <span class="comment">// 宣告指標</span></span><br><span class="line">iNum = <span class="number">10</span>;              <span class="comment">// 設定變數值</span></span><br><span class="line">pNum = &amp;iNum;           <span class="comment">// 設定指標值</span></span><br><span class="line">*pNum += <span class="number">2</span>;             <span class="comment">// 指標「存放的」變數加 2</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, iNum);     <span class="comment">// 印出 12</span></span><br></pre></td></tr></table></figure>
<p>以上面範例來說，傳統的畫法：</p>
<table>
<thead>
<tr>
<th style="text-align:center">名稱</th>
<th style="text-align:center">資料</th>
<th style="text-align:center">指向</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iNum</td>
<td style="text-align:center">10</td>
<td style="text-align:center">x</td>
</tr>
<tr>
<td style="text-align:center">pNum</td>
<td style="text-align:center">10</td>
<td style="text-align:center">↑</td>
</tr>
</tbody>
</table>
<div class="note warning">
            <p>筆者實際上不喜歡使用箭頭的指標畫法（因為其實他是「位置的值」）；<br>原因是會使初學者混亂，但如果彼此對此都很熟悉，那討論時使用倒無所謂。</p>
          </div>
<p>筆者剛剛提到「把指標想成變數」這件事情，<br>原因是一旦這樣想像，很多事情就變得更清晰了：</p>
<table>
<thead>
<tr>
<th style="text-align:center">變數名稱</th>
<th style="text-align:center">變數資料</th>
<th style="text-align:center">變數位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iNum</td>
<td style="text-align:center">10</td>
<td style="text-align:center">0x7fffffffdc74</td>
</tr>
<tr>
<td style="text-align:center">pNum</td>
<td style="text-align:center"><span style="background-color: #ffff99;">0x7fffffffdc74</span></td>
<td style="text-align:center">0x7fffffffdc78</td>
</tr>
</tbody>
</table>
<p>當我們執行：<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">pNum = &amp;iNum; <span class="comment">// 設定指標值</span></span><br></pre></td></tr></table></figure></p>
<p>此時的 pNum 的「變數資料」會寫入「iNum 的位置」（也就是 &amp;iNum）<br>然後一連串的事情，就是「使用 pNum 保存的資料來做某些事」</p>
<p>接下來我們可以看看函數在傳值、傳址，傳參考分別的情況。</p>
<div class="note info">
            <p>C 語言只有傳值、傳址，傳參考是 C++ 中新加入的內容；<br>不過實際上這三件事情，都是「傳值」才對。</p>
          </div>
<h2 id="傳值"><a href="#傳值" class="headerlink" title="傳值"></a>傳值</h2><p>我們先從傳值開始，程式應該很好理解：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_by_value</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    a += b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> iNum = <span class="number">10</span>;             <span class="comment">// 宣告變數</span></span><br><span class="line">add_by_value(iNum, <span class="number">2</span>);     <span class="comment">// 調用傳值的函數</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, iNum);        <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">變數名稱</th>
<th style="text-align:center">變數資料</th>
<th style="text-align:center">變數位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iNum</td>
<td style="text-align:center">10</td>
<td style="text-align:center">0x7fffffffdc7c</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">10</td>
<td style="text-align:center">0x7fffffffdc5c</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">2</td>
<td style="text-align:center">0x7fffffffdc58</td>
</tr>
</tbody>
</table>
<p>當 <code>add_by_value</code> 調用時，程式另外建立 <code>a</code> 跟 <code>b</code> 區域變數；<br>生命週期是直到函數結束。很單純的小程式。</p>
<h2 id="傳址"><a href="#傳址" class="headerlink" title="傳址"></a>傳址</h2><p>接著我們看傳址：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_by_pointer</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    *a += b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> iNum = <span class="number">10</span>;              <span class="comment">// 宣告變數</span></span><br><span class="line">add_by_pointer(&amp;iNum, <span class="number">2</span>);   <span class="comment">// 調用傳值的函數</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, iNum);         <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">變數名稱</th>
<th style="text-align:center">變數資料</th>
<th style="text-align:center">變數位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iNum</td>
<td style="text-align:center">10</td>
<td style="text-align:center"><span style="background-color: #ffff99;">0x7fffffffdc7c</span></td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center"><span style="background-color: #ffff99;">0x7fffffffdc7c</span></td>
<td style="text-align:center">0x7fffffffdc5c</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">2</td>
<td style="text-align:center">0x7fffffffdc58</td>
</tr>
</tbody>
</table>
<p>當使用傳址後，當 <code>a</code> 傳入時，實際上是傳入 <code>iNum</code> 的記憶體位置；<br>所以才有「傳址」也是「傳值」一說。</p>
<h2 id="傳參考"><a href="#傳參考" class="headerlink" title="傳參考"></a>傳參考</h2><p>最後來看傳參考。是三者中最特別的東西。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_by_reference</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    a += b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> iNum = <span class="number">10</span>;              <span class="comment">// 宣告變數</span></span><br><span class="line">add_by_reference(iNum, <span class="number">2</span>);  <span class="comment">// 調用傳值的函數</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, iNum);         <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">變數名稱</th>
<th style="text-align:center">變數資料</th>
<th style="text-align:center">變數位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iNum</td>
<td style="text-align:center">10</td>
<td style="text-align:center"><span style="background-color: #ffff99;">0x7fffffffdc7c</span></td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">10</td>
<td style="text-align:center"><span style="background-color: #ffff99;">0x7fffffffdc7c</span></td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">2</td>
<td style="text-align:center">0x7fffffffdc5c</td>
</tr>
</tbody>
</table>
<p>從表很容易看出，實際上傳參考就是當成把傳入的值，取個別名而已；<br>從例子來看，變數 <code>a</code> 其實就是 <code>iNum</code> 的別名。</p>
<h2 id="印出指標"><a href="#印出指標" class="headerlink" title="印出指標"></a>印出指標</h2><p>如果要觀察指標，可以透過 <code>printf(&quot;%p&quot;, ...)</code> 輸出。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *y = &amp;x;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d (%p)\n"</span>, x, &amp;x);                     <span class="comment">// 0 (0x7ffd8443024c)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%p (%p)\n"</span>, y, &amp;y);                     <span class="comment">// 0x7ffd8443024c (0x7ffd84430240)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s (%p)\n"</span>, <span class="string">"constant"</span>, &amp;<span class="string">"constant"</span>);   <span class="comment">// constant (0x55fdd9cbc016)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s (%p)\n"</span>, <span class="string">"constant"</span>, &amp;<span class="string">"constant"</span>);   <span class="comment">// constant (0x55fdd9cbc016)</span></span><br></pre></td></tr></table></figure>
<p>這裡可以看出，當編譯器處理常數字串時，不會記錄多餘的資訊，<br>常數字串 <code>constant</code> 被存在 <code>0x55fdd9cbc016</code> 位置，而重複存取會到同一個位置找來用。</p>
<div class="note info">
            <p>這裡的參數 <code>%p</code> 是輸出位置、而 <code>%d</code> 是輸出整數、然後 <code>%s</code> 是輸出字串。<br>請參閱 <a href="http://www.cplusplus.com/reference/cstdio/printf/" target="_blank" rel="noopener">cplusplus: printf</a></p>
          </div>
<h1 id="動態宣告"><a href="#動態宣告" class="headerlink" title="動態宣告"></a>動態宣告</h1><p>指標的用法中，很常見的是動態宣告，其實就是執行期間去跟 OS 拿記憶體來用。</p>
<p>C 語言常使用：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *arr;                                   <span class="comment">// 宣告指標</span></span><br><span class="line">arr = (<span class="keyword">int</span>*) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);      <span class="comment">// 拿記憶體（10個int），起始位置給 arr</span></span><br><span class="line"><span class="comment">/* Do Something */</span>                          <span class="comment">// 使用記憶體</span></span><br><span class="line"><span class="built_in">free</span>(arr);                                  <span class="comment">// 把空間還給 OS</span></span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>另一個常見的是使用 <code>calloc</code> 它會幫你初始化記憶體為 <code>0</code>。<br>請參閱 <a href="http://www.cplusplus.com/reference/cstdlib/calloc/" target="_blank" rel="noopener">cplusplus: calloc</a></p>
          </div>
<p>在 C 語言中，我們會在使用後透過 <code>free</code> 來釋放記憶體空間。</p>
<p>C++ 風格則是：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *arr;               <span class="comment">// 宣告指標</span></span><br><span class="line">arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];      <span class="comment">// 拿記憶體（10個int），起始位置給 arr</span></span><br><span class="line"><span class="comment">/* Do Something */</span>      <span class="comment">// 使用記憶體</span></span><br><span class="line"><span class="keyword">delete</span> arr;             <span class="comment">// 把空間還給 OS</span></span><br></pre></td></tr></table></figure>
<p>在 C 語言中，我們會在使用後透過 <code>delete</code> 來釋放記憶體空間。</p>
<div class="note warning">
            <p>請務必在動態配置記憶體後，釋放掉記憶體。</p>
          </div>
<h1 id="指標的指標"><a href="#指標的指標" class="headerlink" title="指標的指標"></a>指標的指標</h1><p>到這個部份，解釋會開始變得複雜，<br>主要只是因為指標的指標講起來比較繞口。</p>
<p>實際上如果接受儲存的值為位置這個概念，<br>那指標的指標也會很容易理解。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> iNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *a = &amp;iNum; </span><br><span class="line"><span class="keyword">int</span> **b = &amp;a;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">變數名稱</th>
<th style="text-align:center">變數資料</th>
<th style="text-align:center">變數位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iNum</td>
<td style="text-align:center">10</td>
<td style="text-align:center">0x7fffffffdc7c</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">0x7fffffffdc7c</td>
<td style="text-align:center">0x7fffffffdc70</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">0x7fffffffdc70</td>
<td style="text-align:center">0x7fffffffdc68</td>
</tr>
</tbody>
</table>
<p>指標的指標也是有動態宣告，用法跟單一指標一樣。<br>只是多重指向的指標動態宣告出來的必須是少一個指標：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> **matrix;</span><br><span class="line">matrix = (<span class="keyword">int</span> **) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span> *) * <span class="number">10</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    matrix[i] = (<span class="keyword">int</span> *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>或是 C++ 風格：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> **matrix;</span><br><span class="line">matrix = <span class="keyword">new</span> <span class="keyword">int</span>*[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    matrix[i] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<p>不過，如果理解記憶體配置，也許可以這樣分配：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *matrix;</span><br><span class="line">matrix = (<span class="keyword">int</span> *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span> * <span class="number">10</span>);</span><br><span class="line">matrix[i * <span class="number">10</span> + j]; <span class="comment">// 當成一個陣列來用</span></span><br></pre></td></tr></table></figure>
<h1 id="函數指標"><a href="#函數指標" class="headerlink" title="函數指標"></a>函數指標</h1><p>除了資料有指標外，實際上函數在宣告的時候也有位置：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> (*p)(<span class="keyword">int</span>) = foo;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%p"</span>, &amp;foo); <span class="comment">// 0x555555555149</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%p"</span>, p);    <span class="comment">// 0x555555555149</span></span><br></pre></td></tr></table></figure>
<p>在 GDB 中，顯示的位址：</p>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line"><span class="number">0x0000555555555149</span> &lt;+<span class="number">0</span>&gt;:  endbr64 </span><br><span class="line"><span class="number">0x000055555555514d</span> &lt;+<span class="number">4</span>&gt;:  <span class="keyword">push</span>   %rbp</span><br><span class="line"><span class="number">0x000055555555514e</span> &lt;+<span class="number">5</span>&gt;:  <span class="keyword">mov</span>    %rsp,%rbp</span><br><span class="line"><span class="number">0x0000555555555151</span> &lt;+<span class="number">8</span>&gt;:  <span class="keyword">mov</span>    %edi,-<span class="number">0x4</span>(%rbp)</span><br><span class="line"><span class="number">0x0000555555555154</span> &lt;+<span class="number">11</span>&gt;: <span class="keyword">mov</span>    <span class="number">$0</span>x0,%eax</span><br><span class="line"><span class="number">0x0000555555555159</span> &lt;+<span class="number">16</span>&gt;: <span class="keyword">pop</span>    %rbp</span><br><span class="line"><span class="number">0x000055555555515a</span> &lt;+<span class="number">17</span>&gt;: retq   </span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>請參閱 <a href="https://en.wikipedia.org/wiki/GNU_Debugger" target="_blank" rel="noopener">Wikipedia: GNU Debugger</a></p>
          </div>
<p>函數的位置其實就是指令開始的位置。<br>至於函數指標宣告有一個細節，就是當不寫括號時：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> *<span class="title">p</span><span class="params">(<span class="keyword">int</span>)</span> </span>= foo; <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<p>而 <code>int *p</code> 相當於把 <code>int*</code> 看做一組，等價於 <code>(int*) p(int)</code><br>編譯器看到 <code>int *p (int)</code> 的 <code>(int)</code> 就不知道你在寫什麼，會出錯：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">int</span> *) p(<span class="keyword">int</span>) = foo; <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./main.c:10:15: error: expected expression before ‘int’</span><br><span class="line">   10 |     (int *) p(int) = foo; // error</span><br><span class="line">      |               ^~~</span><br></pre></td></tr></table></figure>
<p>函數指標呼叫時：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">(*p)();                 <span class="comment">// 完整的寫法</span></span><br><span class="line">p();                    <span class="comment">// 簡寫</span></span><br></pre></td></tr></table></figure>
<p>相同地，函數其實也是簡寫：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> (*p)(<span class="keyword">int</span>) = &amp;foo;   <span class="comment">// 完整的寫法</span></span><br><span class="line"><span class="keyword">int</span> (*p)(<span class="keyword">int</span>) = foo;    <span class="comment">// 簡寫</span></span><br></pre></td></tr></table></figure>
<h1 id="void-指標"><a href="#void-指標" class="headerlink" title="void 指標"></a>void 指標</h1><p>指標跟其他型別一樣，是可以強制轉型的。<br>比較特別的是指標存在一個稱為 <code>void *</code> 的東西。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> *p;</span><br></pre></td></tr></table></figure>
<p>簡單說，這個 <code>void *</code> 是為了讓使用者「強制轉型」，從而確定型別；<br>像是 <code>void *malloc(size_t size);</code> 就是回傳 <code>void *</code>。</p>
<p>所以如果你不轉型，是無法使用的：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> *p = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">*p = <span class="number">10</span>;                        <span class="comment">// 無法使用</span></span><br><span class="line">*((<span class="keyword">int</span> *) p) = <span class="number">10</span>;              <span class="comment">// 強制轉型後可用</span></span><br></pre></td></tr></table></figure>
<h1 id="後記"><a href="#後記" class="headerlink" title="後記"></a>後記</h1><p>這一節就真的是個人筆記了，初學者看看就好（雖然說順便學個 GDB 不是壞事），<br>所有東西在記憶體中都是有位置的，參考先前出現過的例子：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> iNum;               <span class="comment">// 宣告變數</span></span><br><span class="line"><span class="keyword">int</span> *pNum;              <span class="comment">// 宣告指標</span></span><br><span class="line">iNum = <span class="number">10</span>;              <span class="comment">// 設定變數值</span></span><br><span class="line">pNum = &amp;iNum;           <span class="comment">// 設定指標值</span></span><br><span class="line">*pNum += <span class="number">2</span>;             <span class="comment">// 指標「存放的」變數加 2</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, iNum);     <span class="comment">// 印出 12</span></span><br></pre></td></tr></table></figure>
<p>我們編譯過後，透過 GDB 追蹤：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> gcc ./main.c -o ./main -fno-stack-protector</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> gdb ./main</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> run</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> disas main</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">break</span> *0x0000555555555173</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> run</span></span><br></pre></td></tr></table></figure>
<p>中斷點 break 後的位置請參考自己環境下的位置。</p>
<div class="note info">
            <p>這邊關閉了緩衝區防撞保護（Stack Smashing Protector）<br>請參閱 <a href="https://wiki.osdev.org/Stack_Smashing_Protector" target="_blank" rel="noopener">OSDEV wiki: Stack SmashingProtector</a></p>
          </div>
<p>反組譯的結果應該是：</p>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line"><span class="number">0x0000555555555149</span> &lt;+<span class="number">0</span>&gt;:  endbr64 </span><br><span class="line"><span class="number">0x000055555555514d</span> &lt;+<span class="number">4</span>&gt;:  <span class="keyword">push</span>   %rbp</span><br><span class="line"><span class="number">0x000055555555514e</span> &lt;+<span class="number">5</span>&gt;:  <span class="keyword">mov</span>    %rsp,%rbp</span><br><span class="line"><span class="number">0x0000555555555151</span> &lt;+<span class="number">8</span>&gt;:  <span class="keyword">sub</span>    <span class="number">$0</span>x10,%rsp</span><br><span class="line"><span class="number">0x0000555555555155</span> &lt;+<span class="number">12</span>&gt;: movl   <span class="number">$0</span>xa,-<span class="number">0xc</span>(%rbp)</span><br><span class="line"><span class="number">0x000055555555515c</span> &lt;+<span class="number">19</span>&gt;: <span class="keyword">lea</span>    -<span class="number">0xc</span>(%rbp),%rax</span><br><span class="line"><span class="number">0x0000555555555160</span> &lt;+<span class="number">23</span>&gt;: <span class="keyword">mov</span>    %rax,-<span class="number">0x8</span>(%rbp)</span><br><span class="line"><span class="number">0x0000555555555164</span> &lt;+<span class="number">27</span>&gt;: <span class="keyword">mov</span>    -<span class="number">0x8</span>(%rbp),%rax</span><br><span class="line"><span class="number">0x0000555555555168</span> &lt;+<span class="number">31</span>&gt;: <span class="keyword">mov</span>    (%rax),%eax</span><br><span class="line"><span class="number">0x000055555555516a</span> &lt;+<span class="number">33</span>&gt;: <span class="keyword">lea</span>    <span class="number">0x2</span>(%rax),%edx</span><br><span class="line"><span class="number">0x000055555555516d</span> &lt;+<span class="number">36</span>&gt;: <span class="keyword">mov</span>    -<span class="number">0x8</span>(%rbp),%rax</span><br><span class="line"><span class="number">0x0000555555555171</span> &lt;+<span class="number">40</span>&gt;: <span class="keyword">mov</span>    %edx,(%rax)</span><br><span class="line"><span class="number">0x0000555555555173</span> &lt;+<span class="number">42</span>&gt;: <span class="keyword">mov</span>    -<span class="number">0xc</span>(%rbp),%eax</span><br><span class="line"><span class="number">0x0000555555555176</span> &lt;+<span class="number">45</span>&gt;: <span class="keyword">mov</span>    %eax,%esi</span><br><span class="line"><span class="number">0x0000555555555178</span> &lt;+<span class="number">47</span>&gt;: <span class="keyword">lea</span>    <span class="number">0xe85</span>(%rip),%rdi   # <span class="number">0x555555556004</span></span><br><span class="line"><span class="number">0x000055555555517f</span> &lt;+<span class="number">54</span>&gt;: <span class="keyword">mov</span>    <span class="number">$0</span>x0,%eax</span><br><span class="line"><span class="number">0x0000555555555184</span> &lt;+<span class="number">59</span>&gt;: callq  <span class="number">0x555555555050</span> &lt;printf@plt&gt;</span><br><span class="line"><span class="number">0x0000555555555189</span> &lt;+<span class="number">64</span>&gt;: <span class="keyword">mov</span>    <span class="number">$0</span>x0,%eax</span><br><span class="line"><span class="number">0x000055555555518e</span> &lt;+<span class="number">69</span>&gt;: leaveq </span><br><span class="line"><span class="number">0x000055555555518f</span> &lt;+<span class="number">70</span>&gt;: retq   </span><br></pre></td></tr></table></figure>
<p>我用 <code>#</code> 當成註解，標示成下面這樣：</p>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line"><span class="number">0x0000555555555149</span> &lt;+<span class="number">0</span>&gt;:  endbr64                    # 標記為有效分支（系統安全操作）</span><br><span class="line"></span><br><span class="line">                                                     # 函數呼叫操作</span><br><span class="line"><span class="number">0x000055555555514d</span> &lt;+<span class="number">4</span>&gt;:  <span class="keyword">push</span>   %rbp                # 紀錄舊的 $<span class="built_in">rbp</span> 暫存器</span><br><span class="line"><span class="number">0x000055555555514e</span> &lt;+<span class="number">5</span>&gt;:  <span class="keyword">mov</span>    %rsp,%rbp           # 移動 $<span class="built_in">rbp</span> 到 $<span class="built_in">rsp</span>（紀錄 $<span class="built_in">rsp</span>）</span><br><span class="line"><span class="number">0x0000555555555151</span> &lt;+<span class="number">8</span>&gt;:  <span class="keyword">sub</span>    <span class="number">$0</span>x10,%rsp          # 將舊的 $<span class="built_in">rsp</span> 減去 <span class="number">16</span> Bytes（宣告記憶體空間）</span><br><span class="line"></span><br><span class="line">                                                     # iNum = <span class="number">10</span><span class="comment">;</span></span><br><span class="line">                                                     # iNum 的位置是 $<span class="built_in">rbp</span>-<span class="number">12</span></span><br><span class="line">                                                     # 常數 <span class="number">10</span> 為 <span class="number">0xA</span></span><br><span class="line"><span class="number">0x0000555555555155</span> &lt;+<span class="number">12</span>&gt;: movl   <span class="number">$0</span>xa,-<span class="number">0xc</span>(%rbp)     # 移動 <span class="number">10</span> 到 iNum 的位置</span><br><span class="line"></span><br><span class="line">                                                     # pNum = &amp;iNum<span class="comment">;</span></span><br><span class="line">                                                     # pNum 的位置是 $<span class="built_in">rbp</span>-<span class="number">8</span></span><br><span class="line"><span class="number">0x000055555555515c</span> &lt;+<span class="number">19</span>&gt;: <span class="keyword">lea</span>    -<span class="number">0xc</span>(%rbp),%rax     # 將 iNum 的位置給 $<span class="built_in">rax</span></span><br><span class="line">                                                     # <span class="keyword">lea</span> mem,reg 指令不載入內容，mem 做完偏移就放到 reg</span><br><span class="line"><span class="number">0x0000555555555160</span> &lt;+<span class="number">23</span>&gt;: <span class="keyword">mov</span>    %rax,-<span class="number">0x8</span>(%rbp)     # 移動 %rax 的值給 pNum</span><br><span class="line"></span><br><span class="line">                                                     # *pNum += <span class="number">2</span><span class="comment">;</span></span><br><span class="line">                                                     # 等價於 *pNum = *pNum + <span class="number">2</span><span class="comment">;</span></span><br><span class="line">                                                     # 分兩個部份做，先加 <span class="number">2</span> 再賦值</span><br><span class="line"></span><br><span class="line">                                                     # *pNum + <span class="number">2</span></span><br><span class="line"><span class="number">0x0000555555555164</span> &lt;+<span class="number">27</span>&gt;: <span class="keyword">mov</span>    -<span class="number">0x8</span>(%rbp),%rax     # 移動 pNum 的值給 $<span class="built_in">rax</span>（iNum 的位置）</span><br><span class="line"><span class="number">0x0000555555555168</span> &lt;+<span class="number">31</span>&gt;: <span class="keyword">mov</span>    (%rax),%eax         # 移動 $<span class="built_in">rax</span> 存的那個位置上的值給 $<span class="built_in">eax</span>（<span class="number">10</span>）</span><br><span class="line"><span class="number">0x000055555555516a</span> &lt;+<span class="number">33</span>&gt;: <span class="keyword">lea</span>    <span class="number">0x2</span>(%rax),%edx      # 加載 $<span class="built_in">rax</span>（<span class="number">10</span>） 的值+<span class="number">2</span> 放到 $<span class="built_in">edx</span>（<span class="number">12</span>）</span><br><span class="line"></span><br><span class="line">                                                     # *pNum = *pNum + <span class="number">2</span></span><br><span class="line"><span class="number">0x000055555555516d</span> &lt;+<span class="number">36</span>&gt;: <span class="keyword">mov</span>    -<span class="number">0x8</span>(%rbp),%rax     # 讀取 pNum 的值給 $<span class="built_in">rax</span>（iNum 的位置）</span><br><span class="line"><span class="number">0x0000555555555171</span> &lt;+<span class="number">40</span>&gt;: <span class="keyword">mov</span>    %edx,(%rax)         # 將 $<span class="built_in">edx</span>（<span class="number">12</span>） 的值給 $<span class="built_in">rax</span>（iNum 的位置）的值</span><br><span class="line"></span><br><span class="line">                                                              # printf(<span class="string">"%d"</span>, iNum)<span class="comment">;</span></span><br><span class="line"><span class="number">0x0000555555555173</span> &lt;+<span class="number">42</span>&gt;: <span class="keyword">mov</span>    -<span class="number">0xc</span>(%rbp),%eax              # 讀取 iNum 的值給 $<span class="built_in">eax</span></span><br><span class="line"><span class="number">0x0000555555555176</span> &lt;+<span class="number">45</span>&gt;: <span class="keyword">mov</span>    %eax,%esi                    # 移動 $<span class="built_in">eax</span> 的值給 $<span class="built_in">esi</span></span><br><span class="line"><span class="number">0x0000555555555178</span> &lt;+<span class="number">47</span>&gt;: <span class="keyword">lea</span>    <span class="number">0xe85</span>(%rip),%rdi             # 將 $<span class="built_in">rip</span>+<span class="number">0xe85</span>（<span class="string">"%d\n"</span>）給 $<span class="built_in">rdi</span></span><br><span class="line"><span class="number">0x000055555555517f</span> &lt;+<span class="number">54</span>&gt;: <span class="keyword">mov</span>    <span class="number">$0</span>x0,%eax                    # 清空 $<span class="built_in">eax</span></span><br><span class="line"><span class="number">0x0000555555555184</span> &lt;+<span class="number">59</span>&gt;: callq  <span class="number">0x555555555050</span> &lt;printf@plt&gt;  # 呼叫 printf</span><br><span class="line"><span class="number">0x0000555555555189</span> &lt;+<span class="number">64</span>&gt;: <span class="keyword">mov</span>    <span class="number">$0</span>x0,%eax                    # 清空 $<span class="built_in">eax</span></span><br><span class="line"></span><br><span class="line">                                                     # 函數離開操作，等價於：</span><br><span class="line"><span class="number">0x000055555555518e</span> &lt;+<span class="number">69</span>&gt;: leaveq                     # <span class="keyword">movq</span> %rbp, %rsp</span><br><span class="line">                                                     # popq %rbp</span><br><span class="line"><span class="number">0x000055555555518f</span> &lt;+<span class="number">70</span>&gt;: retq                       # 回傳</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>GDB 採 AT&amp;T 格式，顯示順序跟 Intel 是顛倒，請參閱 <a href="https://en.wikipedia.org/wiki/X86_assembly_language" target="_blank" rel="noopener">Wikipedia: X86 assembly language</a></p>
          </div>
<p>在輸出位置前檢查（設中斷點），可以檢查我們的區域變數：</p>
<table>
<thead>
<tr>
<th style="text-align:center">變數名稱</th>
<th style="text-align:center">變數資料</th>
<th style="text-align:center">變數位置</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iNum</td>
<td style="text-align:center">0x0c</td>
<td style="text-align:center">0x7fffffffdc74</td>
</tr>
<tr>
<td style="text-align:center">pNum</td>
<td style="text-align:center">0x7fffffffdc74</td>
<td style="text-align:center">0x7fffffffdc78</td>
</tr>
</tbody>
</table>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> (gdb) x/32xb <span class="variable">$rsp</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line"><span class="number">0x7fffffffdc70</span>: <span class="number">0x70</span>  <span class="number">0xdd</span>  <span class="number">0xff</span>  <span class="number">0xff</span>  <span class="number">0x0c</span>  <span class="number">0x00</span>  <span class="number">0x00</span>  <span class="number">0x00</span></span><br><span class="line"><span class="number">0x7fffffffdc78</span>: <span class="number">0x74</span>  <span class="number">0xdc</span>  <span class="number">0xff</span>  <span class="number">0xff</span>  <span class="number">0xff</span>  <span class="number">0x7f</span>  <span class="number">0x00</span>  <span class="number">0x00</span></span><br><span class="line"><span class="number">0x7fffffffdc80</span>: <span class="number">0x00</span>  <span class="number">0x00</span>  <span class="number">0x00</span>  <span class="number">0x00</span>  <span class="number">0x00</span>  <span class="number">0x00</span>  <span class="number">0x00</span>  <span class="number">0x00</span></span><br><span class="line"><span class="number">0x7fffffffdc88</span>: <span class="number">0xb3</span>  <span class="number">0x70</span>  <span class="number">0xde</span>  <span class="number">0xf7</span>  <span class="number">0xff</span>  <span class="number">0x7f</span>  <span class="number">0x00</span>  <span class="number">0x00</span></span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>注意顯示單位，這樣一組 <code>0x00</code> 相當於二進制的 <code>b00000000</code> 共 8 個位元；<br>所以一個 <code>int</code> 需要 4 組，而筆者電腦是 64-bits 需要 8 組。</p>
          </div>
<p><code>0x7fffffffdc78</code> 儲存的內容看起來雖然是 <code>0x74dcffffff7f</code>，不過 x86 系統採用小端序（little endian），<br>所以實際的值是 <code>0x7fffffffdc74</code>；同樣地，<code>iNum</code> 是 <code>0x0000000c</code> 而非 <code>0x0c000000</code>。</p>
<p>注意！是 Bytes 的組合順序顛倒（不是位元順序、也不是顯示的順序），<br>以 <code>0x01 0x02 0x03 0x04</code>（<code>b00000001000000100000001100000101</code>）為例：</p>
<ul>
<li>真正的值（小端序）：<code>0x04 0x03 0x02 0x01</code> 即 <code>0x04030201</code></li>
<li>位元順序顛倒：<code>b10100000110000000100000010000000</code> 即 <code>0xA0C04080</code></li>
<li>顯示順序顛倒：<code>0x40 0x30 0x20 0x10</code> 即 <code>0x40302010</code></li>
</ul>
<p>這 3 種結果完全不同。</p>
<div class="note info">
            <p><code>mov</code> 跟 <code>lea</code> 的差別；假設有兩個暫存器 <code>$A = 0xfc</code> 及 <code>$B</code>、一個記憶體 <code>0xfa = 777</code>。<br>    <figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">mov</span> -<span class="number">0x2</span>($A),$B     # $B = <span class="number">777</span></span><br><span class="line"><span class="keyword">lea</span> -<span class="number">0x2</span>($A),$B     # $B = <span class="number">0xfa</span></span><br></pre></td></tr></table></figure></p>
          </div>]]></content>
      <categories>
        <category>程式設計</category>
      </categories>
  </entry>
  <entry>
    <title>魔方陣 Magic Square</title>
    <url>/magic-square/</url>
    <content><![CDATA[<p>這個是我們資料結構（Data Structure）的第二次作業，<br>本文紀錄了<strong>奇數</strong>、<strong>雙偶數</strong>以及<strong>單偶數</strong>魔方陣（Magic Square）的做法。<br><a id="more"></a></p>
<p>老實說，上課不斷的聯想到太鼓達人的★9曲「魔方陣-サモン・デルタ-」</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/MTQw4fF9o58" frameborder="0" allowfullscreen></iframe></div>
<h1 id="魔方陣定義"><a href="#魔方陣定義" class="headerlink" title="魔方陣定義"></a>魔方陣定義</h1><p>魔方陣定義是這樣的：</p>
<ul>
<li>每一行（Column）的總和</li>
<li>每一列（Row）的總和</li>
<li>對角線的總和</li>
<li>上面每一個值都相等</li>
</ul>
<div class="note info">
            <p>這邊採用了<strong>直行橫列</strong>的說法。</p>
          </div>
<p>比方說：</p>
<table style="width: 135px; height: 135px;"><tr><td style="text-align: center;">6</td><td style="text-align: center;">1</td><td style="text-align: center;">8</td></tr><tr><td style="text-align: center;">7</td><td style="text-align: center;">5</td><td style="text-align: center;">3</td></tr><tr><td style="text-align: center;">2</td><td style="text-align: center;">9</td><td style="text-align: center;">4</td></tr></table><table style="width: 180px; height: 180px;"><tr><td style="text-align: center;">1</td><td style="text-align: center;">15</td><td style="text-align: center;">14</td><td style="text-align: center;">4</td></tr><tr><td style="text-align: center;">12</td><td style="text-align: center;">6</td><td style="text-align: center;">7</td><td style="text-align: center;">9</td></tr><tr><td style="text-align: center;">8</td><td style="text-align: center;">10</td><td style="text-align: center;">11</td><td style="text-align: center;">5</td></tr><tr><td style="text-align: center;">13</td><td style="text-align: center;">3</td><td style="text-align: center;">2</td><td style="text-align: center;">16</td></tr></table>

<p>接下來我會記錄如何製作魔方陣。</p>
<h1 id="奇數魔方陣"><a href="#奇數魔方陣" class="headerlink" title="奇數魔方陣"></a>奇數魔方陣</h1><p>奇數的魔方陣是魔方陣中比較簡單的一種，構造方式相當容易。<br>正常情況下，給定一個 n 在 O(n<sup>2</sup>) 時間複雜度內就可以完成。</p>
<ul>
<li>第一列（Row）中間放「1」</li>
<li>不斷<strong>往左上角移動（走出方格從對面出現）</strong>、放入下一個數字</li>
<li>如果左上角空間<strong>已有數字，則往下放一格</strong></li>
</ul>
<p>以 3x3 魔方陣為例（n = 3）：</p>
<p>第一步：在中間上面放「1」</p>
<table style="width: 135px; height: 135px;"><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #67b6eb; text-align: center;">1</td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td></tr></table>

<p>第二步：不斷往左上走。同時累進數字。<br>（這個 1 從上方跑出方陣、於是 2 應該在下面。）</p>
<table style="width: 135px; height: 135px;"><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;">1</td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; background-color: #67b6eb; text-align: center;">2</td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td></tr></table>

<p>我們接下來不斷重複。</p>
<table style="width: 135px; height: 135px;"><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;">1</td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; background-color: #67b6eb; text-align: center;">2</td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td></tr></table><table style="width: 135px; height: 135px;"><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;">1</td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #67b6eb; text-align: center;">3</td></tr><tr><td style="width: 28px; height: 28px; text-align: center;">2</td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td></tr></table>

<p>第三步：這個 3 的左上方已經有數字，於是往下放一格。</p>
<table style="width: 135px; height: 135px;"><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #d95757; text-align: center;">1</td><td style="width: 28px; height: 28px; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; text-align: center;">3</td></tr><tr><td style="width: 28px; height: 28px; text-align: center;">2</td><td style="width: 28px; height: 28px; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #67b6eb; text-align: center;">4</td></tr></table>

<p>依照這個步驟繼續完成。</p>
<table style="width: 135px; height: 135px;"><tr><td style="width: 28px; height: 28px; text-align: center;">6</td><td style="width: 28px; height: 28px; text-align: center;">1</td><td style="width: 28px; height: 28px; text-align: center;">8</td></tr><tr><td style="width: 28px; height: 28px; text-align: center;">7</td><td style="width: 28px; height: 28px; text-align: center;">5</td><td style="width: 28px; height: 28px; text-align: center;">3</td></tr><tr><td style="width: 28px; height: 28px; text-align: center;">2</td><td style="width: 28px; height: 28px; background-color: #67b6eb; text-align: center;">9</td><td style="width: 28px; height: 28px; text-align: center;">4</td></tr></table>

<p>我們最終就得到一個不錯的方陣。</p>
<h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><p>只要考慮跑出方陣、以及碰撞到有值的格子就可以了。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//計算下一步的座標</span></span><br><span class="line">x = (x - <span class="number">1</span> &amp;lt; <span class="number">0</span>)? width : x - <span class="number">1</span>;</span><br><span class="line">y = (y - <span class="number">1</span> &amp;lt; <span class="number">0</span>)? height : y - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果下一步有值</span></span><br><span class="line"><span class="keyword">if</span>(!empty(<span class="built_in">map</span>[x][y]))</span><br><span class="line">&#123;</span><br><span class="line">        <span class="comment">//先回到上一步</span></span><br><span class="line">    x = tx;</span><br><span class="line">    y = ty;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//往下移動一格</span></span><br><span class="line">    y = (y + <span class="number">1</span> &amp;gt; height)? <span class="number">0</span> : y + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//確定位置後，填入數值</span></span><br><span class="line"><span class="built_in">map</span>[x][y] = value;</span><br><span class="line"></span><br><span class="line"><span class="comment">//記錄這一步的座標</span></span><br><span class="line">tx = x;</span><br><span class="line">ty = y;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><iframe scrolling="no" width="100%" height="280px" src="//jsfiddle.net/yq50092e/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="雙偶數魔方陣"><a href="#雙偶數魔方陣" class="headerlink" title="雙偶數魔方陣"></a>雙偶數魔方陣</h1><p>雙偶數指的是 4 的倍數。這類型的魔方陣比奇數更複雜一些。<br>雙偶數的魔方陣的做法：</p>
<ul>
<li>先<strong>按照順序填入</strong></li>
<li>找到<strong>主對角線</strong></li>
<li>找到<strong>副對角線</strong></li>
<li>把不在對角線上的值依序取下</li>
<li>把取下的值從後面<strong>反過來填上</strong></li>
</ul>
<p>重點在於，何謂主、副對角線呢？<br>這邊的解釋是，任何可以切割成方格的樣子。</p>
<table style="width: 180px; height: 180px;"><tr><th colspan="4" style="text-align: center;">n = 4</th></tr><tr><td style="background-color: #67b6eb; text-align: center;">1</td><td style="text-align: center;">2</td><td style="text-align: center;">3</td><td style="background-color: #67b6eb; text-align: center;">4</td></tr><tr><td style="text-align: center;">5</td><td style="background-color: #67b6eb; text-align: center;">6</td><td style="background-color: #67b6eb; text-align: center;">7</td><td style="text-align: center;">8</td></tr><tr><td style="text-align: center;">9</td><td style="background-color: #67b6eb; text-align: center;">10</td><td style="background-color: #67b6eb; text-align: center;">11</td><td style="text-align: center;">12</td></tr><tr><td style="background-color: #67b6eb; text-align: center;">13</td><td style="text-align: center;">14</td><td style="text-align: center;">15</td><td style="background-color: #67b6eb; text-align: center;">16</td></tr></table><table style="width: 360px; height: 360px;"><tr><th colspan="8" style="text-align: center;">n = 8</th></tr><tr><td style="background-color: #67b6eb; text-align: center;">1</td><td style="text-align: center;">2</td><td style="text-align: center;">3</td><td style="background-color: #e890b9; text-align: center;">4</td><td style="background-color: #e890b9; text-align: center;">5</td><td style="text-align: center;">6</td><td style="text-align: center;">7</td><td style="background-color: #67b6eb; text-align: center;">8</td></tr><tr><td style="text-align: center;">9</td><td style="background-color: #67b6eb; text-align: center;">10</td><td style="background-color: #e890b9; text-align: center;">11</td><td style="text-align: center;">12</td><td style="text-align: center;">13</td><td style="background-color: #e890b9; text-align: center;">14</td><td style="background-color: #67b6eb; text-align: center;">15</td><td style="text-align: center;">16</td></tr><tr><td style="text-align: center;">17</td><td style="background-color: #e890b9; text-align: center;">18</td><td style="background-color: #67b6eb; text-align: center;">19</td><td style="text-align: center;">20</td><td style="text-align: center;">21</td><td style="background-color: #67b6eb; text-align: center;">22</td><td style="background-color: #e890b9; text-align: center;">23</td><td style="text-align: center;">24</td></tr><tr><td style="background-color: #e890b9; text-align: center;">25</td><td style="text-align: center;">26</td><td style="text-align: center;">27</td><td style="background-color: #67b6eb; text-align: center;">28</td><td style="background-color: #67b6eb; text-align: center;">29</td><td style="text-align: center;">30</td><td style="text-align: center;">31</td><td style="background-color: #e890b9; text-align: center;">32</td></tr><tr><td style="background-color: #e890b9; text-align: center;">33</td><td style="text-align: center;">34</td><td style="text-align: center;">35</td><td style="background-color: #67b6eb; text-align: center;">36</td><td style="background-color: #67b6eb; text-align: center;">37</td><td style="text-align: center;">38</td><td style="text-align: center;">39</td><td style="background-color: #e890b9; text-align: center;">40</td></tr><tr><td style="text-align: center;">41</td><td style="background-color: #e890b9; text-align: center;">42</td><td style="background-color: #67b6eb; text-align: center;">43</td><td style="text-align: center;">44</td><td style="text-align: center;">45</td><td style="background-color: #67b6eb; text-align: center;">46</td><td style="background-color: #e890b9; text-align: center;">47</td><td style="text-align: center;">48</td></tr><tr><td style="text-align: center;">49</td><td style="background-color: #67b6eb; text-align: center;">50</td><td style="background-color: #e890b9; text-align: center;">51</td><td style="text-align: center;">52</td><td style="text-align: center;">53</td><td style="background-color: #e890b9; text-align: center;">54</td><td style="background-color: #67b6eb; text-align: center;">55</td><td style="text-align: center;">56</td></tr><tr><td style="background-color: #67b6eb; text-align: center;">57</td><td style="text-align: center;">58</td><td style="text-align: center;">59</td><td style="background-color: #e890b9; text-align: center;">60</td><td style="background-color: #e890b9; text-align: center;">61</td><td style="text-align: center;">62</td><td style="text-align: center;">63</td><td style="background-color: #67b6eb; text-align: center;">64</td></tr></table>

<p>從上圖就可以看出來，藍色背景的是我所認知的「主對角線」、而紅色背景是「副對角線」。</p>
<ul>
<li>當 n = 4 時，沒有副對角線。</li>
<li>當 n ≧ 8 時，有副對角線。</li>
</ul>
<h2 id="算法-1"><a href="#算法-1" class="headerlink" title="算法"></a>算法</h2><p>最麻煩的是、你如何抓對角線呢？<br>讓我們來仔細觀察看看：</p>
<table style="width: 320px; height: 320px;"><tr><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(0, 0)</td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(3, 0)</td><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(4, 0)</td><td style="width: 38px; height: 38px; text-align: center;"></td></tr><tr><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;">(1, 1)</td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;">(2, 1)</td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;"></td></tr><tr><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;">(1, 2)</td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;">(2, 2)</td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;"></td></tr><tr><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(0, 3)</td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(3, 3)</td><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(4, 3)</td><td style="width: 38px; height: 38px; text-align: center;"></td></tr><tr><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(0, 4)</td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(3, 4)</td><td style="width: 38px; background-color: #e890b9; height: 38px; text-align: center;">(4, 4)</td><td style="width: 38px; height: 38px; text-align: center;"></td></tr><tr><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;"></td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; height: 38px; text-align: center;"></td><td style="width: 38px; background-color: #67b6eb; height: 38px; text-align: center;"></td></tr></table>

<p>不曉得有沒有發現呢？ 他縱向、橫向的規律是一致的。<br>然後他對角線上的值有這樣的特性：</p>
<ul>
<li>位置 = (x, y)</li>
<li>如果 x % 4 = 0 或 3 且 y % 4 = 0 或 3（上方紅色）</li>
<li>如果 x % 4 = 1 或 2 且 y % 4 = 1 或 2（上方藍色）</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//弄個陣列</span></span><br><span class="line"><span class="built_in">array</span> = []</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍歷位置</span></span><br><span class="line"><span class="keyword">for</span>(x is <span class="number">0</span> to width)</span><br><span class="line">    <span class="keyword">for</span>(y is <span class="number">0</span> to height)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//屬於非對角線的話，推入陣列</span></span><br><span class="line">        <span class="keyword">if</span>(belong(x, y))</span><br><span class="line">            <span class="built_in">array</span>.push((x, y));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//翻轉陣列</span></span><br><span class="line"><span class="built_in">array</span>.reverse();</span><br><span class="line"></span><br><span class="line"><span class="comment">//最後填回</span></span><br><span class="line"><span class="keyword">for</span>(x is <span class="number">0</span> to width)</span><br><span class="line">    <span class="keyword">for</span>(y is <span class="number">0</span> to height)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//屬於非對角線的話，從陣列中回填</span></span><br><span class="line">        <span class="keyword">if</span>(belong(x, y))</span><br><span class="line">            (x, y) = <span class="built_in">array</span>.pop();</span><br><span class="line">    &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>這樣就可以把雙偶數魔方陣完成。</p>
<h2 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h2><iframe scrolling="no" width="100%" height="280px" src="//jsfiddle.net/744xrkk1/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="單偶數魔方陣"><a href="#單偶數魔方陣" class="headerlink" title="單偶數魔方陣"></a>單偶數魔方陣</h1><p>這是所有方陣中最複雜的。但其也有跡可循。<br>然而我們可以觀察到，它的大小：n = 4k+2<br>舉例來說：</p>
<p>k = 1、n = 4+2 = 6<br>k = 2、n = 8+2 = 10<br>…</p>
<div class="note warning">
            <p>注意：當 k = 0 時，則 n = 2 的 2x2 魔方陣並不存在。</p>
          </div>
<p>除了奇數、4的倍數外、剩下的剛好都是 4k+2 的形式。<br>這種方陣的樣貌大致上呈現：</p>
<table style="width: 270px; height: 270px;"><tr><th style="text-align: center;" colspan="6">n = 6 ( k = 1 )</th></tr><tr><td style="text-align: center;">35</td><td style="text-align: center;">1</td><td style="text-align: center;">6</td><td style="text-align: center;">26</td><td style="text-align: center;">19</td><td style="text-align: center;">24</td></tr><tr><td style="text-align: center;">3</td><td style="text-align: center;">32</td><td style="text-align: center;">7</td><td style="text-align: center;">21</td><td style="text-align: center;">23</td><td style="text-align: center;">25</td></tr><tr><td style="text-align: center;">31</td><td style="text-align: center;">9</td><td style="text-align: center;">2</td><td style="text-align: center;">22</td><td style="text-align: center;">27</td><td style="text-align: center;">20</td></tr><tr><td style="text-align: center;">8</td><td style="text-align: center;">28</td><td style="text-align: center;">33</td><td style="text-align: center;">17</td><td style="text-align: center;">10</td><td style="text-align: center;">15</td></tr><tr><td style="text-align: center;">30</td><td style="text-align: center;">5</td><td style="text-align: center;">34</td><td style="text-align: center;">12</td><td style="text-align: center;">14</td><td style="text-align: center;">16</td></tr><tr><td style="text-align: center;">4</td><td style="text-align: center;">36</td><td style="text-align: center;">29</td><td style="text-align: center;">13</td><td style="text-align: center;">18</td><td style="text-align: center;">11</td></tr></table><table style="width: 450px; height: 450px;"><tr><th style="text-align: center;" colspan="10">n = 10 ( k = 2 )</th></tr><tr><td style="text-align: center;">92</td><td style="text-align: center;">99</td><td style="text-align: center;">1</td><td style="text-align: center;">8</td><td style="text-align: center;">15</td><td style="text-align: center;">67</td><td style="text-align: center;">74</td><td style="text-align: center;">26</td><td style="text-align: center;">58</td><td style="text-align: center;">65</td></tr><tr><td style="text-align: center;">98</td><td style="text-align: center;">80</td><td style="text-align: center;">7</td><td style="text-align: center;">14</td><td style="text-align: center;">16</td><td style="text-align: center;">73</td><td style="text-align: center;">55</td><td style="text-align: center;">32</td><td style="text-align: center;">64</td><td style="text-align: center;">66</td></tr><tr><td style="text-align: center;">4</td><td style="text-align: center;">6</td><td style="text-align: center;">88</td><td style="text-align: center;">95</td><td style="text-align: center;">22</td><td style="text-align: center;">54</td><td style="text-align: center;">56</td><td style="text-align: center;">38</td><td style="text-align: center;">70</td><td style="text-align: center;">72</td></tr><tr><td style="text-align: center;">85</td><td style="text-align: center;">87</td><td style="text-align: center;">19</td><td style="text-align: center;">21</td><td style="text-align: center;">3</td><td style="text-align: center;">60</td><td style="text-align: center;">62</td><td style="text-align: center;">44</td><td style="text-align: center;">71</td><td style="text-align: center;">53</td></tr><tr><td style="text-align: center;">86</td><td style="text-align: center;">93</td><td style="text-align: center;">25</td><td style="text-align: center;">2</td><td style="text-align: center;">9</td><td style="text-align: center;">61</td><td style="text-align: center;">68</td><td style="text-align: center;">50</td><td style="text-align: center;">52</td><td style="text-align: center;">59</td></tr><tr><td style="text-align: center;">17</td><td style="text-align: center;">24</td><td style="text-align: center;">76</td><td style="text-align: center;">83</td><td style="text-align: center;">90</td><td style="text-align: center;">42</td><td style="text-align: center;">49</td><td style="text-align: center;">51</td><td style="text-align: center;">33</td><td style="text-align: center;">40</td></tr><tr><td style="text-align: center;">23</td><td style="text-align: center;">5</td><td style="text-align: center;">82</td><td style="text-align: center;">89</td><td style="text-align: center;">91</td><td style="text-align: center;">48</td><td style="text-align: center;">30</td><td style="text-align: center;">57</td><td style="text-align: center;">39</td><td style="text-align: center;">41</td></tr><tr><td style="text-align: center;">79</td><td style="text-align: center;">81</td><td style="text-align: center;">13</td><td style="text-align: center;">20</td><td style="text-align: center;">97</td><td style="text-align: center;">29</td><td style="text-align: center;">31</td><td style="text-align: center;">63</td><td style="text-align: center;">45</td><td style="text-align: center;">47</td></tr><tr><td style="text-align: center;">10</td><td style="text-align: center;">12</td><td style="text-align: center;">94</td><td style="text-align: center;">86</td><td style="text-align: center;">78</td><td style="text-align: center;">35</td><td style="text-align: center;">37</td><td style="text-align: center;">69</td><td style="text-align: center;">46</td><td style="text-align: center;">28</td></tr><tr><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">100</td><td style="text-align: center;">77</td><td style="text-align: center;">84</td><td style="text-align: center;">36</td><td style="text-align: center;">43</td><td style="text-align: center;">75</td><td style="text-align: center;">27</td><td style="text-align: center;">34</td></tr></table>

<p>這邊來敘述這種方陣的構成：</p>
<ul>
<li>先構造一個 (n / 2) 的魔方陣，作為子方陣</li>
<li>拼合 4 個子方陣（規則下面會說明）</li>
<li>透過 k = (n - 2) / 4 求出 k</li>
<li>搬動方陣內的元素</li>
</ul>
<p>我們以 n = 6 為例子。<br>首先，我們得構造一個 3x3 的魔方陣：</p>
<table style="width: 135px; height: 135px;"><tr><td style="text-align: center;">6</td><td style="text-align: center;">1</td><td style="text-align: center;">8</td></tr><tr><td style="text-align: center;">7</td><td style="text-align: center;">5</td><td style="text-align: center;">3</td></tr><tr><td style="text-align: center;">2</td><td style="text-align: center;">9</td><td style="text-align: center;">4</td></tr></table>

<p>接著我們要拚合子方陣。先看下圖：</p>
<table style="width: 270px; height: 270px;"><tr style="text-align: left;"><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff;"></td></tr><tr style="text-align: left;"><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #ccc2ff; text-align: center;">A</td><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff; text-align: center;">B</td><td style="width: 28px; height: 28px; background-color: #a1f9ff;"></td></tr><tr style="text-align: left;"><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #ccc2ff;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff;"></td><td style="width: 28px; height: 28px; background-color: #a1f9ff;"></td></tr><tr style="text-align: left;"><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td></tr><tr style="text-align: left;"><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;">C</td><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;">D</td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td></tr><tr><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #c8fcbb; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td><td style="width: 28px; height: 28px; background-color: #ffbfbf; text-align: center;"></td></tr></table>

<p>總共會把子方陣複製 4 份貼在 6x6 的方陣中。<br>不過還得加上一個常數：m x (n / 2)<sup>2</sup></p>
<ul>
<li>A 區塊m = 0、所以方陣中元素 + 0</li>
<li>B 區塊 m = 2、所以方陣中元素 + 2 x 3<sup>2</sup> = 18</li>
<li>C 區塊 m = 3、所以方陣中元素 + 3x 3<sup>2</sup> = 27</li>
<li>D 區塊 m = 1、所以方陣中元素 + 1x 3<sup>2</sup> = 9</li>
</ul>
<p>將其累進拚合後：</p>
<table style="width: 270px; height: 270px;"><tr style="text-align: left;"><td style="background-color: #ccc2ff; text-align: center;">6</td><td style="background-color: #ccc2ff; text-align: center;">1</td><td style="background-color: #ccc2ff; text-align: center;">8</td><td style="background-color: #a1f9ff; text-align: center;">24</td><td style="background-color: #a1f9ff; text-align: center;">19</td><td style="background-color: #a1f9ff; text-align: center;">26</td></tr><tr style="text-align: center;"><td style="background-color: #ccc2ff; text-align: center;">7</td><td style="background-color: #ccc2ff; text-align: center;">5</td><td style="background-color: #ccc2ff; text-align: center;">3</td><td style="background-color: #a1f9ff; text-align: center;">25</td><td style="background-color: #a1f9ff; text-align: center;">23</td><td style="background-color: #a1f9ff;">21</td></tr><tr style="text-align: center;"><td style="background-color: #ccc2ff; text-align: center;">2</td><td style="background-color: #ccc2ff; text-align: center;">9</td><td style="background-color: #ccc2ff; text-align: center;">4</td><td style="background-color: #a1f9ff;">20</td><td style="background-color: #a1f9ff;">27</td><td style="background-color: #a1f9ff;">22</td></tr><tr style="text-align: center;"><td style="background-color: #c8fcbb; text-align: center;">33</td><td style="background-color: #c8fcbb; text-align: center;">28</td><td style="background-color: #c8fcbb; text-align: center;">35</td><td style="background-color: #ffbfbf; text-align: center;">15</td><td style="background-color: #ffbfbf; text-align: center;">10</td><td style="background-color: #ffbfbf; text-align: center;">17</td></tr><tr style="text-align: center;"><td style="background-color: #c8fcbb; text-align: center;">34</td><td style="background-color: #c8fcbb; text-align: center;">32</td><td style="background-color: #c8fcbb; text-align: center;">30</td><td style="background-color: #ffbfbf; text-align: center;">16</td><td style="background-color: #ffbfbf; text-align: center;">14</td><td style="background-color: #ffbfbf; text-align: center;">12</td></tr><tr><td style="background-color: #c8fcbb; text-align: center;">29</td><td style="background-color: #c8fcbb; text-align: center;">36</td><td style="background-color: #c8fcbb; text-align: center;">31</td><td style="background-color: #ffbfbf; text-align: center;">11</td><td style="background-color: #ffbfbf; text-align: center;">18</td><td style="background-color: #ffbfbf; text-align: center;">13</td></tr></table>

<p>這樣就拚合了 4 個子方陣成為一個大的 6x6 方陣。<br>不過還沒有完成。我們得搬動一些元素才行。</p>
<p>接著，透過 k = (n - 2) / 4 求出 k。n = 6、代表 k = 1 。<br>然後把矩陣分成上下兩塊：</p>
<table style="width: 270px; height: 270px;"><tr style="text-align: left;"><td style="background-color: #f7d0d0; text-align: center;">6</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr style="text-align: center;"><td style="background-color: #f7d0d0; text-align: center;">7</td><td style="background-color: #f7d0d0; text-align: center;">5</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr style="text-align: center;"><td style="background-color: #f7d0d0; text-align: center;">2</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr style="text-align: center;"><td style="text-align: center;">33</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr style="text-align: center;"><td style="text-align: center;">34</td><td style="text-align: center;">32</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">29</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table>

<p>搬動元素的規則為：</p>
<ul>
<li>上面區塊的左上角 kxk 方陣跟下方換。</li>
<li>上面區塊的左下角 kxk 方陣跟下方換。</li>
<li>上面區塊的中間列（Row）從 k位置向右 k 格跟下方換</li>
<li>上面矩陣的 (n/2) + floor(n/4) （也就是右半邊的中間）處向右 (k - 1) 格跟下方換</li>
</ul>
<p>實際標記看看：</p>
<p>上面區塊的左上角 kxk 方陣跟下方換（k = 1）</p>
<table style="width: 270px; height: 270px;"><tr><td style="background-color: #d0e7f7; text-align: center;">6</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">7</td><td style="background-color: #f7d0d0; text-align: center;">5</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">2</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="background-color: #d0e7f7; text-align: center;">33</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="text-align: center;">34</td><td style="text-align: center;">32</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">29</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table><table style="width: 270px; height: 270px;"><tr><td style="background-color: #d0e7f7; text-align: center;">33</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">7</td><td style="background-color: #f7d0d0; text-align: center;">5</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">2</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="background-color: #d0e7f7; text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="text-align: center;">34</td><td style="text-align: center;">32</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">29</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table>

<p>上面區塊的左下角 kxk 方陣跟下方換（k = 1）</p>
<table style="width: 270px; height: 270px;"><tr><td style="background-color: #f7d0d0; text-align: center;">33</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">7</td><td style="background-color: #f7d0d0; text-align: center;">5</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #d0e7f7; text-align: center;">2</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="text-align: center;">34</td><td style="text-align: center;">32</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="background-color: #d0e7f7; text-align: center;">29</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table><table style="width: 270px; height: 270px;"><tr><td style="background-color: #f7d0d0; text-align: center;">33</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">7</td><td style="background-color: #f7d0d0; text-align: center;">5</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #d0e7f7; text-align: center;">29</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="text-align: center;">34</td><td style="text-align: center;">32</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="background-color: #d0e7f7; text-align: center;">2</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table>

<p>上面區塊的中間列（Row）從 k 位置（綠框）向右 k 格（藍框）跟下方換（k = 1）<br>（※ 不含綠框）</p>
<table style="width: 270px; height: 270px;"><tr><td style="background-color: #f7d0d0; text-align: center;">33</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #bae8c1; text-align: center;">7</td><td style="background-color: #d0e7f7; text-align: center;">5</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">29</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="background-color: #bae8c1; text-align: center;">34</td><td style="background-color: #d0e7f7; text-align: center;">32</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">2</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table><table style="width: 270px; height: 270px;"><tr><td style="background-color: #f7d0d0; text-align: center;">33</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #bae8c1; text-align: center;">7</td><td style="background-color: #d0e7f7; text-align: center;">32</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">29</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="background-color: #bae8c1; text-align: center;">34</td><td style="background-color: #d0e7f7; text-align: center;">5</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">2</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table>

<p>上面矩陣的 (n/2)+floor(n/4) 處向右 (k - 1) 格跟下方換，<br>這邊理解一下，雖然看起來很複雜，但 (n/2) 是子方陣的大小、(n/2)/2 = 子方陣大小的一半。<br>從綠框處（含）、往右 0 格（藍框、因為是 0 而無法顯示）</p>
<table style="width: 270px; height: 270px;"><tr><td style="background-color: #f7d0d0; text-align: center;">33</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #bae8c1; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">7</td><td style="background-color: #f7d0d0; text-align: center;">32</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #bae8c1; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">29</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #bae8c1; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="background-color: #bae8c1; text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="text-align: center;">34</td><td style="text-align: center;">5</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="background-color: #bae8c1; text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">2</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="background-color: #bae8c1; text-align: center;">18</td><td style="text-align: center;">13</td></tr></table><table style="width: 270px; height: 270px;"><tr><td style="background-color: #f7d0d0; text-align: center;">33</td><td style="background-color: #f7d0d0; text-align: center;">1</td><td style="background-color: #f7d0d0; text-align: center;">8</td><td style="background-color: #f7d0d0; text-align: center;">24</td><td style="background-color: #f7d0d0; text-align: center;">19</td><td style="background-color: #f7d0d0; text-align: center;">26</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">7</td><td style="background-color: #f7d0d0; text-align: center;">32</td><td style="background-color: #f7d0d0; text-align: center;">3</td><td style="background-color: #f7d0d0; text-align: center;">25</td><td style="background-color: #f7d0d0; text-align: center;">23</td><td style="background-color: #f7d0d0; text-align: center;">21</td></tr><tr><td style="background-color: #f7d0d0; text-align: center;">29</td><td style="background-color: #f7d0d0; text-align: center;">9</td><td style="background-color: #f7d0d0; text-align: center;">4</td><td style="background-color: #f7d0d0; text-align: center;">20</td><td style="background-color: #f7d0d0; text-align: center;">27</td><td style="background-color: #f7d0d0; text-align: center;">22</td></tr><tr><td style="text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="text-align: center;">34</td><td style="text-align: center;">5</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">2</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table>

<p>這樣最後得到的，就是完好的魔方陣了。</p>
<table style="width: 270px; height: 270px;"><tr><td style="text-align: center;">33</td><td style="text-align: center;">1</td><td style="text-align: center;">8</td><td style="text-align: center;">24</td><td style="text-align: center;">19</td><td style="text-align: center;">26</td></tr><tr><td style="text-align: center;">7</td><td style="text-align: center;">32</td><td style="text-align: center;">3</td><td style="text-align: center;">25</td><td style="text-align: center;">23</td><td style="text-align: center;">21</td></tr><tr><td style="text-align: center;">29</td><td style="text-align: center;">9</td><td style="text-align: center;">4</td><td style="text-align: center;">20</td><td style="text-align: center;">27</td><td style="text-align: center;">22</td></tr><tr><td style="text-align: center;">6</td><td style="text-align: center;">28</td><td style="text-align: center;">35</td><td style="text-align: center;">15</td><td style="text-align: center;">10</td><td style="text-align: center;">17</td></tr><tr><td style="text-align: center;">34</td><td style="text-align: center;">5</td><td style="text-align: center;">30</td><td style="text-align: center;">16</td><td style="text-align: center;">14</td><td style="text-align: center;">12</td></tr><tr><td style="text-align: center;">2</td><td style="text-align: center;">36</td><td style="text-align: center;">31</td><td style="text-align: center;">11</td><td style="text-align: center;">18</td><td style="text-align: center;">13</td></tr></table>

<h2 id="算法-2"><a href="#算法-2" class="headerlink" title="算法"></a>算法</h2><p>知道了構造方式、接下來的只是土法煉鋼。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//生成 nxn 空間</span></span><br><span class="line"><span class="built_in">map</span>[n][n];</span><br><span class="line"></span><br><span class="line"><span class="comment">//奇數方陣大小</span></span><br><span class="line">odd_size = n/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//構造奇數方陣</span></span><br><span class="line">odd_magic = magic(odd_size);</span><br><span class="line"></span><br><span class="line"><span class="comment">//組合子方陣</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&amp;lt;odd_size; x++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">0</span>; y&amp;lt;odd_size; y++)</span><br><span class="line">    &#123;</span><br><span class="line">            <span class="comment">//組合 A 子方陣</span></span><br><span class="line">        <span class="built_in">map</span>[x][y] = odd_magic[x][y];</span><br><span class="line">        <span class="comment">//組合 B 子方陣</span></span><br><span class="line">        <span class="built_in">map</span>[x+(n/<span class="number">2</span>)][y] = odd_magic[x][y] + <span class="number">2</span>*<span class="built_in">pow</span>(odd_size, <span class="number">2</span>);</span><br><span class="line">        <span class="comment">//組合 C 子方陣</span></span><br><span class="line">        <span class="built_in">map</span>[x][y+(n/<span class="number">2</span>)] = odd_magic[x][y] + <span class="number">3</span>*<span class="built_in">pow</span>(odd_size, <span class="number">2</span>);</span><br><span class="line">        <span class="comment">//組合 D 子方陣</span></span><br><span class="line">        <span class="built_in">map</span>[x+(n/<span class="number">2</span>)][y+(n/<span class="number">2</span>)] = odd_magic[x][y] + <span class="number">1</span>*<span class="built_in">pow</span>(odd_size, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//計算 k 值</span></span><br><span class="line">k = (n - <span class="number">2</span>)/<span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//交換左上角區塊</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&amp;lt;k; x++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">0</span>; y&amp;lt;k; y++)</span><br><span class="line">        swap(<span class="built_in">map</span>[x][y], <span class="built_in">map</span>[x][y+odd_size]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//交換左下角區塊</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&amp;lt;k; x++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">0</span>; y&amp;lt;k; y++)</span><br><span class="line">        swap(<span class="built_in">map</span>[x][odd_size-y], <span class="built_in">map</span>[x][n-y]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//交換中間區塊</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&amp;lt;k; x++)</span><br><span class="line">    swap(<span class="built_in">map</span>[k+x][odd_size/<span class="number">2</span>], <span class="built_in">map</span>[k+x][n-(odd_size/<span class="number">2</span>)]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//交換右邊的(k-1)區塊</span></span><br><span class="line">pos = oddsize + (odd_size/<span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x=pos; x&amp;lt;pos+k<span class="number">-1</span>; x++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">0</span>; y&amp;lt;odd_size; y++)</span><br><span class="line">        swap(<span class="built_in">map</span>[x][y], <span class="built_in">map</span>[x][y+odd_size]);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="演示-2"><a href="#演示-2" class="headerlink" title="演示"></a>演示</h2><iframe scrolling="no" width="100%" height="410px" src="//jsfiddle.net/1samkxs3/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>排序 Sort</title>
    <url>/sort/</url>
    <content><![CDATA[<p>排序是演算法最基本內容。</p>
<p>當初給我這樣印象似乎是網路上某篇文章，雖然已經找不到來源，<br>但隨著瞄過《算法導論》以及上過大學演算法後，這個想法深植心中。<br><a id="more"></a></p>
<p>那時學校作業好像只要求實作兩種排序並比較速度，<br>基於興趣，我實作了許多排序。</p>
<div class="note warning">
            <p>當時未收入睡眠排序；且初次實作大量排序，程式碼品質似乎欠佳。</p>
          </div>
<h1 id="測資"><a href="#測資" class="headerlink" title="測資"></a>測資</h1><p>本篇所有的程式全都是「由小到大」排序，<br>另外對於所有程式碼的函數，你可以預設存在這樣一筆測資：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">5</span>;                    <span class="comment">// 陣列長度</span></span><br><span class="line"><span class="keyword">int</span> *arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];          <span class="comment">// 測資陣列</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)    <span class="comment">// 設定初始值</span></span><br><span class="line">  arr[i] = rand() % <span class="number">100</span>;        <span class="comment">// 範圍為 [0, 100)</span></span><br><span class="line">...</span><br><span class="line">sort(arr, len);                 <span class="comment">// 調用排序函數</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note warning">
            <p>陣列大小設定為變數不是所有編譯器都支援，故此採用動態宣告。</p>
          </div>
<h1 id="Bubble-Sort"><a href="#Bubble-Sort" class="headerlink" title="Bubble Sort"></a>Bubble Sort</h1><p>中文為「氣泡排序」<br>應該是最容易理解的排序之一，同時程式設計課程幾乎都會提及，<br>以 C 語言初學者來說，不熟練 STL 與其他排序時，會用上的排序技巧。</p>
<p>大致上的想法是，掃描陣列的兩個值，<br>保持兩個值一前一後，如果出現前值大於後值，則交換兩個值。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 整數交換函數 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = *a;                             <span class="comment">// 保存 a 值</span></span><br><span class="line">    *a = *b;                                <span class="comment">// 以 b 值覆蓋 a 值</span></span><br><span class="line">    *b = t;                                 <span class="comment">// 以 a 值覆蓋 b 值</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 氣泡排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubble_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)            <span class="comment">// 選取第 i 個值（前項）</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++)    <span class="comment">// 選取第 j 個值（後項）</span></span><br><span class="line">            <span class="keyword">if</span>(arr[i] &gt; arr[j])             <span class="comment">// 如果前項比後項大</span></span><br><span class="line">                swap(&amp;arr[i], &amp;arr[j]);     <span class="comment">// 交換前項與後項</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>另一個常見的糟糕實作方式：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 氣泡排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubble_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)            <span class="comment">// 選取第 i 個值（前項）</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)        <span class="comment">// 選取第 j 個值（不一定是後項）</span></span><br><span class="line">            <span class="keyword">if</span>(arr[i] &lt; arr[j])             <span class="comment">// 如果前項比後項大</span></span><br><span class="line">                swap(&amp;arr[i], &amp;arr[j]);     <span class="comment">// 交換前項與後項</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>由於這個糟糕做法的迴圈起始、結束位置及條件簡單，<br>被許多初學者當作第一種的替代品使用。</p>
<div class="note warning">
            <p>注意這兩種氣泡排序的實作條件相反，後者的條件更直觀。</p>
          </div>
<div class="note warning">
            <p>交換函數 (swap) 在 C++ 中有預先定義，請參考 <a href="http://www.cplusplus.com/reference/algorithm/swap/" target="_blank" rel="noopener">cplusplus std::swap</a></p>
          </div>
<h1 id="Selection-Sort"><a href="#Selection-Sort" class="headerlink" title="Selection Sort"></a>Selection Sort</h1><p>中文為「選擇排序」<br>選擇排序是很直觀的一種排序，可以視作氣泡排序的加強版，<br>雖然概念很簡單，但註標的設定對於初學者來說是有可能混亂的。</p>
<p>原先氣泡排序要不斷地交換陣列的元素，<br>選擇排序提供了一種思路：「找到最小的交換」取代了「每次比較的交換」。</p>
<p>與氣泡排序相同，要掃描兩個值，<br>但這次將前值固定，後值從未排序的元素中選擇最小的跟前值換。<br>（未排序的陣列包含前值那個位置）</p>
<h2 id="實作-1"><a href="#實作-1" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 選擇排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selection_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)           <span class="comment">// 對於每個元素</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> min = i;                        <span class="comment">// 假設元素 i 是 [i, len) 內最小</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++)   <span class="comment">// 尋找 [i+1, len) 內更小的 j 元素</span></span><br><span class="line">            <span class="keyword">if</span> (arr[min] &gt; arr[j])          <span class="comment">// 如果元素 j 更小</span></span><br><span class="line">                min = j;                    <span class="comment">// 取代原本的最小假設</span></span><br><span class="line">        swap(&amp;arr[i], &amp;arr[min]);           <span class="comment">// 使元素 i 的位置為 [i, len) 內最小值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>交換函數 (swap) 於前面段落有提及，有需要請參考 <a href="#Bubble-Sort">氣泡排序</a></p>
          </div>
<h1 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="Insertion Sort"></a>Insertion Sort</h1><p>中文為「插入排序」<br>插入排序是《算法導論》起初就介紹的排序方法。</p>
<p>概念其實很容易，就像是在玩撲克牌，<br>如果你整理你的手牌，你會把需要整理的牌取出，<br>然後一張張挪動比他大的牌，直到找到插入的位置。</p>
<h2 id="實作-2"><a href="#實作-2" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 插入排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertion_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;                                           <span class="comment">// 註標 i, j</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++)                           <span class="comment">// 檢查每一個元素</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = arr[i];                               <span class="comment">// 取出要排序的元素</span></span><br><span class="line">        <span class="keyword">for</span> (j = i; j &gt; <span class="number">0</span> &amp;&amp; tmp &lt; arr[j - <span class="number">1</span>]; j--)     <span class="comment">// 往前尋找插入點</span></span><br><span class="line">            arr[j] = arr[j - <span class="number">1</span>];                        <span class="comment">// 挪動元素的位置</span></span><br><span class="line">        arr[j] = tmp;                                   <span class="comment">// 插入元素</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="Cocktail-Sort"><a href="#Cocktail-Sort" class="headerlink" title="Cocktail Sort"></a>Cocktail Sort</h1><p>中文為「雞尾酒排序」<br>可以視為氣泡排序的加強版，氣泡排序從單邊處理；<br>而雞尾酒的想法是從陣列的兩端，像在搖瓶子那樣把兩頭逐漸處理完。</p>
<h2 id="實作-3"><a href="#實作-3" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 雞尾酒排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cocktail_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;                               <span class="comment">// 一方面從左邊開始</span></span><br><span class="line">    <span class="keyword">int</span> right = len - <span class="number">1</span>;                        <span class="comment">// 一方面從右邊開始</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt; right)                        <span class="comment">// 尚未結束</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = left; j &lt; right; j++)      <span class="comment">// 最大的元素會被換到右邊</span></span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>])</span><br><span class="line">                swap(&amp;arr[j], &amp;arr[j + <span class="number">1</span>]);</span><br><span class="line">        right--;                                <span class="comment">// 最右邊排序完成</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = right; j &gt; left; j--)      <span class="comment">// 最小的元素會被換到左邊</span></span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[j - <span class="number">1</span>])</span><br><span class="line">                swap(&amp;arr[j], &amp;arr[j - <span class="number">1</span>]);</span><br><span class="line">        left++;                                 <span class="comment">// 最左邊排序完成</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>交換函數 (swap) 於前面段落有提及，有需要請參考 <a href="#Bubble-Sort">氣泡排序</a></p>
          </div>
<h1 id="Comb-Sort"><a href="#Comb-Sort" class="headerlink" title="Comb Sort"></a>Comb Sort</h1><p>中文為「梳排序」<br>梳排序意思就是「梳子排序」借用了梳子的想法。</p>
<p>與氣泡排序一樣，每次掃描兩個元素，<br>但每次掃描的當下，掃描的元素距離是固定的，<br>並隨著每次掃描，寬度逐漸縮小。</p>
<p>就像是梳理凌亂的頭髮，<br>一開始會用齒距大的梳子，後來越用越小，<br>當然也會越來越整齊了。</p>
<h2 id="實作-4"><a href="#實作-4" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 梳排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">comb_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> width = len - <span class="number">1</span>; width &gt; <span class="number">0</span>; width--)               <span class="comment">// 兩元素的間距逐漸遞減</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> begin = <span class="number">0</span>; (begin + width) &lt; len; begin++)     <span class="comment">// 掃描每個元素</span></span><br><span class="line">            <span class="keyword">if</span> (arr[begin] &gt; arr[begin + width])                <span class="comment">// 比較兩個元素大小</span></span><br><span class="line">                swap(&amp;arr[begin], &amp;arr[begin + width]);         <span class="comment">// 交換元素</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>交換函數 (swap) 於前面段落有提及，有需要請參考 <a href="#Bubble-Sort">氣泡排序</a></p>
          </div>
<h1 id="Gnome-Sort"><a href="#Gnome-Sort" class="headerlink" title="Gnome Sort"></a>Gnome Sort</h1><p>中文為「地精排序」<br>這個排序特別的地方在於，實作出來往往只有一層迴圈結構，<br>大量交換元素使的整體類似氣泡排序，不是實用的算法。</p>
<p>具體來說，它透過進入未排序的範圍，<br>透過相鄰的兩兩交換，把元素換到正確的位置上。</p>
<h2 id="實作-5"><a href="#實作-5" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 地精排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gnome_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;                              <span class="comment">// 初始化註標</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; (len - <span class="number">1</span>))                   <span class="comment">// 設定註標範圍</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &lt;= arr[i + <span class="number">1</span>])           <span class="comment">// 如果目前這裡已經排好</span></span><br><span class="line">            i++;                            <span class="comment">// 移動到未排序的範圍</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            swap(&amp;arr[i], &amp;arr[i + <span class="number">1</span>]);     <span class="comment">// 把未排序的元素往前換</span></span><br><span class="line">            i--;                            <span class="comment">// 註標跟著這個未換好的元素</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span>)                          <span class="comment">// 處理邊界問題</span></span><br><span class="line">            i = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>交換函數 (swap) 於前面段落有提及，有需要請參考 <a href="#Bubble-Sort">氣泡排序</a></p>
          </div>
<h1 id="Odd-even-Sort"><a href="#Odd-even-Sort" class="headerlink" title="Odd-even Sort"></a>Odd-even Sort</h1><p>中文為「奇偶排序」<br>跟氣泡排序類似的排序算法。</p>
<p>排序的特性會透過排序奇數位的元素及偶數位的元素，<br>來達成整體的排序，由於分成兩個部份操作，<br>平行處理的情況下也許效果不錯。</p>
<h2 id="實作-6"><a href="#實作-6" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 奇偶排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ood_even_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> sorted = <span class="literal">false</span>;                                <span class="comment">// 宣告排序完成旗標</span></span><br><span class="line">    <span class="keyword">while</span> (sorted == <span class="literal">false</span>)                             <span class="comment">// 如果排序未完成則排序</span></span><br><span class="line">    &#123;</span><br><span class="line">        sorted = <span class="literal">true</span>;                                  <span class="comment">// 假設已經排序完畢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> base = <span class="number">0</span>; base &lt; <span class="number">2</span>; base++)            <span class="comment">// 依序操作奇數位元素、偶數位元素</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = base; i &lt; (len - <span class="number">1</span>); i += <span class="number">2</span>)</span><br><span class="line">                <span class="keyword">if</span> (arr[i] &gt; arr[i + <span class="number">1</span>])                <span class="comment">// 比較相鄰奇、偶數的元素</span></span><br><span class="line">                &#123;</span><br><span class="line">                    swap(&amp;arr[i], &amp;arr[i + <span class="number">1</span>]);         <span class="comment">// 如果位置不對則交換</span></span><br><span class="line">                    sorted = <span class="literal">false</span>;                     <span class="comment">// 假設錯誤目前未排完</span></span><br><span class="line">                &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="Shell-Sort"><a href="#Shell-Sort" class="headerlink" title="Shell Sort"></a>Shell Sort</h1><p>中文為「希爾排序」<br>可以看成是插入排序的加強版。</p>
<p>實作上，將固定間距的數字先做插入排序，<br>然後使間距逐漸遞減。</p>
<h2 id="實作-7"><a href="#實作-7" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 希爾排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shell_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> gap = len; gap &gt; <span class="number">0</span>; gap /= <span class="number">2</span>)                                      <span class="comment">// 間距逐次減半</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> shift = <span class="number">0</span>; shift &lt; gap; shift++)                               <span class="comment">// 找到間距中的所有元素</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> i, j;                                                           <span class="comment">// 註標 i, j</span></span><br><span class="line">            <span class="keyword">for</span> (i = shift; i &lt; len; i += gap)                                  <span class="comment">// 對特定間距的插入排序</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> tmp = arr[i];                                               <span class="comment">// 取出要排序的元素</span></span><br><span class="line">                <span class="keyword">for</span> (j = i; tmp &lt; arr[j - gap] &amp;&amp; j &gt; shift; j -= gap)          <span class="comment">// 往前尋找插入點</span></span><br><span class="line">                    arr[j] = arr[j - gap];                                      <span class="comment">// 挪動元素的位置</span></span><br><span class="line">                arr[j] = tmp;                                                   <span class="comment">// 插入元素</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="Bucket-Sort"><a href="#Bucket-Sort" class="headerlink" title="Bucket Sort"></a>Bucket Sort</h1><p>中文為「桶子排序」<br>這是一個混合式的方法，必須先將元素分配到不同的桶子，<br>然後再將每個桶子內排序完成，最後再組合起來。對於平行系統似乎是個好選擇。</p>
<div class="note info">
            <p>每個桶子內的排序，這裡使用了 <a href="#Insertion-Sort">插入排序</a></p>
          </div>
<p>如果還記得複雜度分析的方法：<br>當 $c$ 為一常數，且 $n &gt; n_{0}$ 時，<br>存在 $f(n) &lt; cg(n)$ 這樣的關係，<br>可以表示為 $f(n) = O(g(n))$</p>
<p>也就是說，桶子排序的排序算法，<br>可以選擇一些 $n$ 在 $n_{0}$ 之下，速度很快的方法。</p>
<div class="note warning">
            <p>有些中文書的桶子排序是指 <a href="#Counting-Sort">Counting Sort</a></p>
          </div>
<h2 id="實作-8"><a href="#實作-8" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 桶子排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bucket_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> **bucket = <span class="keyword">new</span> <span class="keyword">int</span>*[<span class="number">10</span>];                                <span class="comment">// 建立一些桶子（這裡是 10 個）</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)                                <span class="comment">// 初始化每個桶子</span></span><br><span class="line">    &#123;</span><br><span class="line">        bucket[i] = <span class="keyword">new</span> <span class="keyword">int</span>[len];                               <span class="comment">// 設定桶子大小</span></span><br><span class="line">        bucket[i][<span class="number">0</span>] = <span class="number">0</span>;                                       <span class="comment">// 桶子第 0 個位置存放元素個數   </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)                               <span class="comment">// 分配每個元素到 10 個桶子中</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt;= j * <span class="number">10</span> &amp;&amp; arr[i] &lt; (j + <span class="number">1</span>) * <span class="number">10</span>)      <span class="comment">// [10*j, 10*(j+1)] 分配到 j</span></span><br><span class="line">                bucket[j][<span class="number">1</span> + bucket[j][<span class="number">0</span>]++] = arr[i];         <span class="comment">// 每個從 1 號位置開始放元素</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)                                <span class="comment">// 對每個桶子執行插入排序</span></span><br><span class="line">        insertion_sort(&amp;bucket[i][<span class="number">1</span>], bucket[i][<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;                                              <span class="comment">// 拼回原本的陣列</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; bucket[i][<span class="number">0</span>]; j++)</span><br><span class="line">            arr[index++] = bucket[i][j + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">delete</span>[] bucket;                                            <span class="comment">// 清理空間</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>注意桶子的大小跟數量，分配需要涵蓋到所有元素。事先知道資料分布情況是很有幫助的。</p>
          </div>
<div class="note danger">
            <p>不要忘記使用 delete 與 delete[] 來清理記憶體空間。</p>
          </div>
<h1 id="Counting-Sort"><a href="#Counting-Sort" class="headerlink" title="Counting Sort"></a>Counting Sort</h1><p>中文為「計數排序」<br>非比較排序，所以不受上限 $\Omega(nlg(n))$ 的限制。  </p>
<p>大致上的概念是說，數數看有哪些元素，<br>比方說有 5 則在 5 號箱子加一，最後再整合蒐集來的資訊。</p>
<p>通常情況下很浪費空間，但速度相當快，<br>對於位數相當敏感，而非個數，所以也可將 $n$ 視為元素位數。</p>
<h2 id="實作-9"><a href="#實作-9" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 計數排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">counting_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *count = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">99</span>];               <span class="comment">// 宣告計數空間</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">99</span>; i++)            <span class="comment">// 範圍是 [0, 100)</span></span><br><span class="line">        count[i] = <span class="number">0</span>;                       <span class="comment">// 初始化數量為 0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)           <span class="comment">// 紀錄每個元素的數量</span></span><br><span class="line">        count[arr[i]]++;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;                          <span class="comment">// 拼回原本的陣列</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">99</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; count[i]; j++)</span><br><span class="line">            arr[index++] = i;</span><br><span class="line">    <span class="keyword">delete</span> count;                            <span class="comment">// 清理空間</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="Radix-Sort"><a href="#Radix-Sort" class="headerlink" title="Radix Sort"></a>Radix Sort</h1><p>中文為「基數排序」<br>基數排序是很特別的排序算法，<br>依照元素的每個位數排好，最終結果就會是排好的元素。</p>
<h2 id="實作-10"><a href="#實作-10" class="headerlink" title="實作"></a>實作</h2><p>縱使算法看起來要將元素顛三倒四，<br>但實作上有非常精巧的方法，<br>透過記錄元素位數的偏移量來將元素放置到正確的位置上。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 取得數字的某位數 */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_digit</span><span class="params">(<span class="keyword">int</span> number, <span class="keyword">int</span> digit)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = (<span class="keyword">int</span>) <span class="built_in">pow</span>(<span class="number">10</span>, digit);                           <span class="comment">// 取得目標位數 10 的冪次</span></span><br><span class="line">    <span class="keyword">int</span> b = (<span class="keyword">int</span>) <span class="built_in">pow</span>(<span class="number">10</span>, digit - <span class="number">1</span>);                       <span class="comment">// 取的低一位數 10 的冪次</span></span><br><span class="line">    number = number % a / b;                                <span class="comment">// 取的目標位數</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) <span class="built_in">floor</span>(number);                             <span class="comment">// 取整返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 取得目前最大的元素 */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_max_number</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> number = <span class="number">-1</span>;                                        <span class="comment">// 如果沒有元素則回傳 -1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)                           <span class="comment">// 遍歷所有元素</span></span><br><span class="line">        <span class="keyword">if</span> (number &lt; arr[i])                                <span class="comment">// 比對最大的元素</span></span><br><span class="line">            number = arr[i];                                <span class="comment">// 紀錄最大值</span></span><br><span class="line">    <span class="keyword">return</span> number;                                          <span class="comment">// 回傳最大值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 基數排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">radix_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max_number = get_max_number(arr, len);              <span class="comment">// 取得最大的數字</span></span><br><span class="line">    <span class="keyword">int</span> max_digit = (<span class="keyword">int</span>) <span class="built_in">ceil</span>(<span class="built_in">log10</span>(max_number));          <span class="comment">// 取的最大數字的位數</span></span><br><span class="line">    <span class="keyword">int</span> *tmp = <span class="keyword">new</span> <span class="keyword">int</span>[len];                                <span class="comment">// 暫存的陣列</span></span><br><span class="line">    <span class="keyword">int</span> index[<span class="number">11</span>];                                          <span class="comment">// 記錄某位數的偏移量</span></span><br><span class="line">    <span class="keyword">int</span> count[<span class="number">11</span>];                                          <span class="comment">// 記錄某位數的數量</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= max_digit; i++)                    <span class="comment">// 遍歷位數</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)                        <span class="comment">// 清空紀錄位數數量</span></span><br><span class="line">            count[j] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)                       <span class="comment">// 紀錄位數的數量</span></span><br><span class="line">            count[get_digit(arr[j], i)]++;</span><br><span class="line">        index[<span class="number">0</span>] = <span class="number">0</span>;                                       <span class="comment">// 位數 0 的偏移量為 0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)                        <span class="comment">// 依序記錄每一位的偏移量</span></span><br><span class="line">            index[j + <span class="number">1</span>] = index[j] + count[j];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)                       <span class="comment">// 利用偏移量將元素放置到正確的位置</span></span><br><span class="line">            tmp[index[get_digit(arr[j], i)]++] = arr[j];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)                       <span class="comment">// 把暫存的陣列回寫</span></span><br><span class="line">            arr[j] = tmp[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> tmp;                                             <span class="comment">// 清理空間</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>為使程式易讀，建議非關鍵功能獨立成副函式。</p>
          </div>
<div class="note warning">
            <p>注意引入 cmath 或 math.h 標頭檔，以便使用 ceil、log 與 pow 函數。</p>
          </div>
<div class="note warning">
            <p>小心隱式型別轉換可能導致的問題。</p>
          </div>
<h1 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h1><p>中文為「合併排序」<br>重要的排序算法，同時也是排序問題最佳算法之一，<br>因為很容易解釋 $O(nlg(n))$ 的關係，似乎常被拿來當教材。</p>
<p>跟快速排序是相對的存在，且被大量函式庫實作：</p>
<table>
<thead>
<tr>
<th style="text-align:left">使用案例</th>
<th style="text-align:left">排序演算法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Perl 5.8 Default</td>
<td style="text-align:left">合併排序</td>
</tr>
<tr>
<td style="text-align:left">Linux Kernel(linked list)</td>
<td style="text-align:left">合併排序</td>
</tr>
<tr>
<td style="text-align:left">Java Arrays.sort()</td>
<td style="text-align:left">Tim Sort（源於合併與插入排序）</td>
</tr>
<tr>
<td style="text-align:left">Python Default</td>
<td style="text-align:left">Tim Sort（源於合併與插入排序）</td>
</tr>
<tr>
<td style="text-align:left">GNU Octave</td>
<td style="text-align:left">Tim Sort（源於合併與插入排序）</td>
</tr>
</tbody>
</table>
<h2 id="實作-11"><a href="#實作-11" class="headerlink" title="實作"></a>實作</h2><p>下面是遞迴的實作：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 合併函數 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> *arr1, <span class="keyword">int</span> *arr2, <span class="keyword">int</span> len, <span class="keyword">int</span> len1, <span class="keyword">int</span> len2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index1 = <span class="number">0</span>;                                         <span class="comment">// 從第一個子陣列的第 0 個元素開始合併</span></span><br><span class="line">    <span class="keyword">int</span> index2 = <span class="number">0</span>;                                         <span class="comment">// 從第二個子陣列的第 0 個元素開始合併</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)                           <span class="comment">// 依序將元素填入合併陣列</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (index1 == len1)                                 <span class="comment">// 如果第一個子陣列已經填完</span></span><br><span class="line">            arr[i] = arr2[index2++];                        <span class="comment">// 把第二個子陣列的元素全部塞給合併陣列</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (index2 == len2)                            <span class="comment">// 如果第二個子陣列已經填完</span></span><br><span class="line">            arr[i] = arr1[index1++];                        <span class="comment">// 把第一個子陣列的元素全部塞給合併陣列</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr1[index1] &lt; arr2[index2])               <span class="comment">// 第一個子陣列的元素較小</span></span><br><span class="line">            arr[i] = arr1[index1++];                        <span class="comment">// 把第一個子陣列的元素塞給合併陣列</span></span><br><span class="line">        <span class="keyword">else</span>                                                <span class="comment">// 第二個子陣列的元素較小（或相等）</span></span><br><span class="line">            arr[i] = arr2[index2++];                        <span class="comment">// 把第二個子陣列的元素塞給合併陣列</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 合併排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (len &gt; <span class="number">1</span>)                                            <span class="comment">// 如果元素有多個</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> left_len = len / <span class="number">2</span>;                             <span class="comment">// 計算分割後，第一個子陣列的長度</span></span><br><span class="line">        <span class="keyword">int</span> right_len = len - left_len;                     <span class="comment">// 計算分割後，第二個子陣列的長度</span></span><br><span class="line">        <span class="keyword">int</span> *left = <span class="keyword">new</span> <span class="keyword">int</span>[left_len];                      <span class="comment">// 建立第一個子陣列</span></span><br><span class="line">        <span class="keyword">int</span> *right = <span class="keyword">new</span> <span class="keyword">int</span>[right_len];                    <span class="comment">// 建立第二個子陣列</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; left_len; i++)                  <span class="comment">// 將元素分配到第一個子陣列</span></span><br><span class="line">            left[i] = arr[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = left_len; i &lt; len; i++)                <span class="comment">// 將元素分配到第二個子陣列</span></span><br><span class="line">            right[i - left_len] = arr[i];</span><br><span class="line">        merge_sort(left, left_len);                         <span class="comment">// 對第一個子陣列遞迴</span></span><br><span class="line">        merge_sort(right, right_len);                       <span class="comment">// 對第二個子陣列遞迴</span></span><br><span class="line">        merge(arr, left, right, len, left_len, right_len);  <span class="comment">// 將兩個子陣列合併回傳</span></span><br><span class="line">        <span class="keyword">delete</span> left;                                        <span class="comment">// 清理空間</span></span><br><span class="line">        <span class="keyword">delete</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note warning">
            <p>如果合併函數不使用原始陣列的位置操作，而是另外建立空間，則需要回傳指標。</p>
          </div>
<p>從觀察遞迴的版本可以發現，每次都是由 2 個元素（或 1 個）開始組合，<br>然後逐漸變成 4 個、8 個慢慢增加，正因為排序的關鍵在於合併，<br>也許可以透過迴圈模擬遞迴的過程。</p>
<p>下面是非遞迴的實作，使用了同樣的合併函數（參考上面）：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 整數箝制函數 */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">clamp</span><span class="params">(<span class="keyword">int</span> number, <span class="keyword">int</span> lower_bound, <span class="keyword">int</span> upper_bound)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (number &gt; upper_bound)                                           <span class="comment">// 如果數字大過上界</span></span><br><span class="line">        <span class="keyword">return</span> upper_bound;                                             <span class="comment">// 讓數字等於上界回傳</span></span><br><span class="line">    <span class="keyword">if</span> (number &lt; lower_bound)                                           <span class="comment">// 如果數字小於下界</span></span><br><span class="line">        <span class="keyword">return</span> lower_bound;                                             <span class="comment">// 讓數字等於下界回傳</span></span><br><span class="line">    <span class="keyword">return</span> number;                                                      <span class="comment">// 數字在範圍內直接回傳</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 合併排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sub_len = <span class="number">2</span>;                                                    <span class="comment">// 由兩兩合併開始</span></span><br><span class="line">    <span class="keyword">while</span> (sub_len &lt;= len * <span class="number">2</span>)                                          <span class="comment">// 直到下個 2^n 停止</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i += sub_len)                          <span class="comment">// 對每個區段進行處理</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> left_len = sub_len / <span class="number">2</span>;                                 <span class="comment">// 取得每區段左半邊的長度</span></span><br><span class="line">            <span class="keyword">int</span> right_len = sub_len - left_len;                         <span class="comment">// 取得每區段右半邊的長度</span></span><br><span class="line">            <span class="keyword">int</span> *left = arr + i;                                        <span class="comment">// 取得每區段左半邊的開頭</span></span><br><span class="line">            <span class="keyword">int</span> *right = left + left_len;                               <span class="comment">// 取得每區段右半邊的開頭</span></span><br><span class="line">            left_len = clamp(left_len, <span class="number">0</span>, (arr + len) - left);          <span class="comment">// 處理區段左半邊界問題</span></span><br><span class="line">            right_len = clamp(right_len, <span class="number">0</span>, (arr + len) - right);       <span class="comment">// 處理區段右半邊界問題</span></span><br><span class="line">            <span class="keyword">int</span> *sub_arr = <span class="keyword">new</span> <span class="keyword">int</span>[sub_len];                            <span class="comment">// 暫時的合併陣列</span></span><br><span class="line">            merge(sub_arr, left, right, sub_len, left_len, right_len);  <span class="comment">// 合併左右半邊到暫時的合併陣列</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; sub_len; j++)                           <span class="comment">// 將暫時的合併陣列複製到原陣列</span></span><br><span class="line">                arr[i + j] = sub_arr[j];</span><br><span class="line">            <span class="keyword">delete</span> sub_arr;                                             <span class="comment">// 清理空間</span></span><br><span class="line">        &#125;</span><br><span class="line">        sub_len *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note warning">
            <p>箝制函數 (clamp) 在 C++17 中有預先定義，請參考 <a href="http://en.cppreference.com/w/cpp/algorithm/clamp" target="_blank" rel="noopener">cppreference std::clamp</a></p>
          </div>
<h1 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h1><p>中文為「快速排序」<br>快速排序可以說是最重要的排序算法，<br>有著 $O(nlg(n))$ 的複雜度，但平均情況下又勝過其他排序。</p>
<h2 id="實作-12"><a href="#實作-12" class="headerlink" title="實作"></a>實作</h2><p>以下是遞迴版本：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 快速排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (len &gt; <span class="number">1</span>)                                        <span class="comment">// 如果還有元素</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> *pivot = arr;                               <span class="comment">// 選擇一個參考值（這裡選擇陣列開頭）</span></span><br><span class="line">        <span class="keyword">int</span> *left = arr + <span class="number">1</span>;                            <span class="comment">// 左註標從陣列開頭的右邊一個開始</span></span><br><span class="line">        <span class="keyword">int</span> *right = arr + len - <span class="number">1</span>;                     <span class="comment">// 右註標從陣列結尾開始</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right)                            <span class="comment">// 如果左、右註標還沒重合</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (*left &lt; *pivot &amp;&amp; left &lt; right)      <span class="comment">// 左註標尋找大於參考值的元素</span></span><br><span class="line">                left++;</span><br><span class="line">            <span class="keyword">while</span> (*right &gt;= *pivot &amp;&amp; left &lt; right)    <span class="comment">// 右註標尋找小於參考值的元素</span></span><br><span class="line">                right--;</span><br><span class="line">            <span class="keyword">if</span> (left &lt; right)                           <span class="comment">// 如果註標還沒重合就交換元素</span></span><br><span class="line">                swap(left, right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (*left &lt; *pivot)                             <span class="comment">// 檢查左註標的值跟參考值的關係</span></span><br><span class="line">            swap(pivot, left);                          <span class="comment">// 如果不符順序把參考值換到左邊</span></span><br><span class="line">        <span class="keyword">int</span> *start = arr;                               <span class="comment">// 設定序列開頭</span></span><br><span class="line">        <span class="keyword">int</span> *end = arr + len;                           <span class="comment">// 設定序列結尾</span></span><br><span class="line">        <span class="keyword">int</span> *center = left;                             <span class="comment">// 中間的註標（左、右註標因重合都可以選）</span></span><br><span class="line">        quick_sort(start, center - start);              <span class="comment">// 遞迴左半部分</span></span><br><span class="line">        quick_sort(center, end - center);               <span class="comment">// 遞迴右半部分</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>也可以使用堆疊模擬這個過程，下面是非遞迴版本的快速排序：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 快速排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pair&lt;<span class="keyword">int</span>*, <span class="keyword">int</span>*&gt; index;                                 <span class="comment">// 宣告一個暫存區間的註標</span></span><br><span class="line">    <span class="built_in">stack</span>&lt;pair&lt;<span class="keyword">int</span>*, <span class="keyword">int</span>*&gt;&gt; <span class="built_in">stack</span>;                          <span class="comment">// 宣告一個存放區間的堆疊</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt;= <span class="number">1</span>)                                           <span class="comment">// 根本沒東西可以排</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">stack</span>.push(make_pair(arr, arr + len - <span class="number">1</span>));              <span class="comment">// 將整段陣列區間放入堆疊</span></span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">stack</span>.empty())                                  <span class="comment">// 如果還沒處理完</span></span><br><span class="line">    &#123;</span><br><span class="line">        index = <span class="built_in">stack</span>.top();                                <span class="comment">// 從堆疊中取出待處理的區間</span></span><br><span class="line">        <span class="built_in">stack</span>.pop();                                        <span class="comment">// 從堆疊中刪除待處理的區間</span></span><br><span class="line">        <span class="keyword">int</span> *pivot = index.first;                           <span class="comment">// 選擇一個參考值（這裡選擇陣列開頭）</span></span><br><span class="line">        <span class="keyword">int</span> *left = index.first + <span class="number">1</span>;                        <span class="comment">// 左註標從待處理處開頭的右邊一個開始</span></span><br><span class="line">        <span class="keyword">int</span> *right = index.second;                          <span class="comment">// 右註標從待處理處結尾開始</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right)                                <span class="comment">// 如果左、右註標還沒重合</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (*left &lt; *pivot &amp;&amp; left &lt; right)          <span class="comment">// 左註標尋找大於參考值的元素</span></span><br><span class="line">                left++;</span><br><span class="line">            <span class="keyword">while</span> (*right &gt;= *pivot &amp;&amp; left &lt; right)        <span class="comment">// 右註標尋找小於參考值的元素</span></span><br><span class="line">                right--;</span><br><span class="line">            <span class="keyword">if</span> (left &lt; right)                               <span class="comment">// 如果註標還沒重合就交換元素</span></span><br><span class="line">                swap(left, right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (*left &lt; *pivot)                                 <span class="comment">// 檢查左註標的值跟參考值的關係</span></span><br><span class="line">            swap(pivot, left);                              <span class="comment">// 如果不符順序把參考值換到左邊</span></span><br><span class="line">        <span class="keyword">int</span> *center = left;                                 <span class="comment">// 中間的註標（左、右註標因重合都可以選）</span></span><br><span class="line">        <span class="keyword">if</span> (index.first &lt; center - <span class="number">1</span>)                       <span class="comment">// 如果左半段未完成</span></span><br><span class="line">            <span class="built_in">stack</span>.push(make_pair(index.first, center - <span class="number">1</span>)); <span class="comment">// 將左半段待處理的區間放入堆疊</span></span><br><span class="line">        <span class="keyword">if</span> (center &lt; index.second)                          <span class="comment">// 如果右半段未完成</span></span><br><span class="line">            <span class="built_in">stack</span>.push(make_pair(center, index.second));    <span class="comment">// 將右半段待處理的區間放入堆疊</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>非遞迴版的區間註標可以透過 Struct 實作。</p>
          </div>
<div class="note warning">
            <p>注意引入 stack 或 utility 標頭檔，以便使用 stack 及 pair 物件。</p>
          </div>
<div class="note warning">
            <p>快速排序的實作有很多細節，可以先在紙上模擬這些步驟以利實作。</p>
          </div>
<h1 id="Binary-Search-Tree"><a href="#Binary-Search-Tree" class="headerlink" title="Binary Search Tree"></a>Binary Search Tree</h1><p>中文為「二元搜尋樹」<br>利用二元樹資料結構的排序方法。</p>
<p>事實上，只要建立一個二元搜尋樹後，<br>使用中序走訪便可以得到排序完成的結果。</p>
<h2 id="實作-13"><a href="#實作-13" class="headerlink" title="實作"></a>實作</h2><p>實作時，可以建立先「二元搜尋樹」的類別並實作方法。<br>下面是二元搜尋樹節點的類別：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 二元樹的節點類別 */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTreeNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BinaryTreeNode(<span class="keyword">int</span> data);                <span class="comment">// 建構函數</span></span><br><span class="line">    <span class="keyword">int</span> data;                                <span class="comment">// 儲存的值</span></span><br><span class="line">    BinaryTreeNode *left;                    <span class="comment">// 左子節點</span></span><br><span class="line">    BinaryTreeNode *right;                   <span class="comment">// 右子節點</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 建構函數 */</span></span><br><span class="line">BinaryTreeNode::BinaryTreeNode(<span class="keyword">int</span> data)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;data = data;                       <span class="comment">// 儲存值</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;left = <span class="literal">nullptr</span>;                    <span class="comment">// 初始化左子節點</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;right = <span class="literal">nullptr</span>;                   <span class="comment">// 初始化右子節點</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>節點也可以透過 Struct 實做。</p>
          </div>
<p>雖然有實作過完整的二元樹，<br>但其實排序功能其實不需要太多的方法。</p>
<p>由於實際上外部調用不需要知道樹根的指標，<br>實作上可以透過重載函數的方法隱藏起來，<br>另外取回排序過的值時，傳入陣列的開頭利用註標及中序走訪依序取回。</p>
<p>下面是二元樹的類別：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 二元搜尋樹的類別 */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BinaryTree();                                           <span class="comment">// 建構函數</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> data)</span></span>;                                    <span class="comment">// 新增節點（外部調用）</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">gain</span><span class="params">(<span class="keyword">int</span> *arr)</span></span>;                                    <span class="comment">// 把值依序取回的函數</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    BinaryTreeNode *root;                                   <span class="comment">// 樹根</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(BinaryTreeNode *root, <span class="keyword">int</span> data)</span></span>;              <span class="comment">// 新增節點（內部調用）</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">traversal</span><span class="params">(BinaryTreeNode *root, <span class="keyword">int</span> *arr)</span></span>;         <span class="comment">// 中序走訪（內部調用）</span></span><br><span class="line">    <span class="keyword">int</span> index;                                              <span class="comment">// 用於把值回存的註標</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 建構函數 */</span></span><br><span class="line">BinaryTree::BinaryTree()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;root = <span class="literal">nullptr</span>;                                   <span class="comment">// 初始化樹根</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 新增節點（外部調用） */</span></span><br><span class="line"><span class="keyword">void</span> BinaryTree::push(<span class="keyword">int</span> data)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;push(<span class="keyword">this</span>-&gt;root, data);                           <span class="comment">// 調用內部新增節點</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 把值依序取回的函數 */</span></span><br><span class="line"><span class="keyword">void</span> BinaryTree::gain(<span class="keyword">int</span> *arr)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;index = <span class="number">0</span>;                                        <span class="comment">// 初始化註標</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;traversal(<span class="keyword">this</span>-&gt;root, arr);                       <span class="comment">// 調用內部中序走訪</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 新增節點（內部調用） */</span></span><br><span class="line"><span class="keyword">void</span> BinaryTree::push(BinaryTreeNode *root, <span class="keyword">int</span> data)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;root == <span class="literal">nullptr</span>)                              <span class="comment">// 如果樹為空</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;root = <span class="keyword">new</span> BinaryTreeNode(data);              <span class="comment">// 新增節點成為根</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;data &gt; data)                             <span class="comment">// 樹不為空，且值比根的值小</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left == <span class="literal">nullptr</span>)                          <span class="comment">// 如果左子樹為空</span></span><br><span class="line">            root-&gt;left = <span class="keyword">new</span> BinaryTreeNode(data);          <span class="comment">// 新增節點成為左子樹</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;push(root-&gt;left, data);                   <span class="comment">// 新增節點到左子樹的某處</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>                                                    <span class="comment">// 樹不為空，且值比根的值大</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;right == <span class="literal">nullptr</span>)                         <span class="comment">// 如果右子樹為空</span></span><br><span class="line">            root-&gt;right = <span class="keyword">new</span> BinaryTreeNode(data);         <span class="comment">// 新增節點成為右子樹</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;push(root-&gt;right, data);                  <span class="comment">// 新增節點到右子樹的某處</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 中序走訪（內部調用） */</span></span><br><span class="line"><span class="keyword">void</span> BinaryTree::traversal(BinaryTreeNode *root, <span class="keyword">int</span> *arr)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">nullptr</span>)                                    <span class="comment">// 樹根有東西才繼續</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left != <span class="literal">nullptr</span>)                          <span class="comment">// 如果左子樹還有東西</span></span><br><span class="line">            traversal(root-&gt;left, arr);                     <span class="comment">// 去左子樹找節點</span></span><br><span class="line">        arr[<span class="keyword">this</span>-&gt;index] = root-&gt;data;                      <span class="comment">// 把值存回去</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;index++;                                      <span class="comment">// 增加註標</span></span><br><span class="line">        <span class="keyword">if</span> (root-&gt;right != <span class="literal">nullptr</span>)                         <span class="comment">// 如果右子樹還有東西</span></span><br><span class="line">            traversal(root-&gt;right, arr);                    <span class="comment">// 去右子樹找節點</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>調用的時候就相當簡單了：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 二元搜尋樹排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">binary_tree_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BinaryTree tree;                <span class="comment">// 宣告二元搜尋樹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)   <span class="comment">// 將陣列的值儲存至二元樹</span></span><br><span class="line">        tree.push(arr[i]);</span><br><span class="line">    tree.gain(arr);                 <span class="comment">// 取回排序過的值</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note warning">
            <p>存在許多封裝資料結構的設計方法；<br>然而這裡的這個方法存在一個瑕疵，當儲存的節點數目跟陣列大小不符時會出錯，<br>但待排序的內容為串列結構時，可能很適合這樣的二元樹排序技巧。</p>
          </div>
<h1 id="Heap-Sort"><a href="#Heap-Sort" class="headerlink" title="Heap Sort"></a>Heap Sort</h1><p>中文為「堆積排序」<br>堆積是完全二元樹，雖然是二元樹但性質與二元搜尋樹不同。<br>作為排序算法使用時，是借助本身的特性來使用，<br>是速度非常快的排序算法。</p>
<div class="note info">
            <p>堆積通常使用陣列模擬，而且第 0 個位置通常不用。</p>
          </div>
<h2 id="實作-14"><a href="#實作-14" class="headerlink" title="實作"></a>實作</h2><p>傳統的做法，主要圍繞在建立堆積與取出堆積資料兩個步驟。<br>在建立堆積時，先將資料放在樹葉節點上，然後向上調整；<br>取出資料時，將樹根與樹葉節點交換，然後裁取樹葉。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 堆積排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heap_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *heap = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];                   <span class="comment">// 宣告堆積</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len + <span class="number">1</span>; i++)               <span class="comment">// 初始化堆積</span></span><br><span class="line">        heap[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> leaf = <span class="number">1</span>;                                   <span class="comment">// 堆積樹葉的位置</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)                   <span class="comment">// 插入所有的元素</span></span><br><span class="line">    &#123;</span><br><span class="line">        heap[leaf] = arr[i];                        <span class="comment">// 先放在樹葉的位置</span></span><br><span class="line">        <span class="keyword">int</span> tmp = leaf;                             <span class="comment">// 調整堆積</span></span><br><span class="line">        <span class="keyword">while</span> (heap[tmp / <span class="number">2</span>] &gt; heap[tmp])           <span class="comment">// 如果父節點大於子節點</span></span><br><span class="line">        &#123;</span><br><span class="line">            swap(&amp;heap[tmp / <span class="number">2</span>], &amp;heap[tmp]);       <span class="comment">// 交換父節點與子節點</span></span><br><span class="line">            tmp /= <span class="number">2</span>;                               <span class="comment">// 繼續看祖父節點</span></span><br><span class="line">        &#125;</span><br><span class="line">        leaf++;                                     <span class="comment">// 插入完成後樹葉的位置遞增</span></span><br><span class="line">    &#125;</span><br><span class="line">    leaf -= <span class="number">1</span>;                                      <span class="comment">// 調整樹葉的位置到有元素的空間</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)                   <span class="comment">// 取得所有元素</span></span><br><span class="line">    &#123;</span><br><span class="line">        swap(&amp;heap[<span class="number">1</span>], &amp;heap[leaf]);                <span class="comment">// 交換樹根到樹葉的位置</span></span><br><span class="line">        arr[i] = heap[leaf];                        <span class="comment">// 取得樹葉的值</span></span><br><span class="line">        leaf--;                                     <span class="comment">// 裁掉樹葉</span></span><br><span class="line">        <span class="keyword">int</span> tmp = <span class="number">1</span>;                                <span class="comment">// 調整堆積（從樹根開始）</span></span><br><span class="line">        <span class="keyword">while</span> ((tmp * <span class="number">2</span>) &lt;= leaf)                   <span class="comment">// 如果還有子節點</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> left = tmp * <span class="number">2</span>;                     <span class="comment">// 左子節點的註標</span></span><br><span class="line">            <span class="keyword">int</span> right = tmp * <span class="number">2</span> + <span class="number">1</span>;                <span class="comment">// 右子節點的註標</span></span><br><span class="line">            <span class="keyword">if</span> (right &gt; leaf)                       <span class="comment">// 右子節點超過範圍</span></span><br><span class="line">                right = left;                       <span class="comment">// 假裝左子節點為右子節點</span></span><br><span class="line">            <span class="keyword">int</span> target;                             <span class="comment">// 取得較小的節點</span></span><br><span class="line">            <span class="keyword">if</span> (heap[left] &lt; heap[right])           <span class="comment">// 左子節點比較小</span></span><br><span class="line">                target = left;                      <span class="comment">// 往左子節點的方向調整</span></span><br><span class="line">            <span class="keyword">else</span>                                    <span class="comment">// 右子節點比較小</span></span><br><span class="line">                target = right;                     <span class="comment">// 往右子節點的方向調整</span></span><br><span class="line">            <span class="keyword">if</span> (heap[tmp] &gt; heap[target])           <span class="comment">// 子節點比較小</span></span><br><span class="line">                swap(&amp;heap[tmp], &amp;heap[target]);    <span class="comment">// 交換子節點到樹根的位置</span></span><br><span class="line">            tmp = target;                           <span class="comment">// 往下一層調整</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> heap;                                    <span class="comment">// 清理空間</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>自從上了演算法課後，課程中學到了更精闢的堆積處理技巧：</p>
<ul>
<li>獨立出「從指定節點調整堆積」的函數</li>
<li>直接塞入所有資料到堆積，然後從倒數第二層調整堆積至樹根</li>
<li>取出資料直接採用覆蓋的方式，而非資料交換</li>
</ul>
<p>這個做法大幅度降低了資料在堆積中搬移與交換的時間。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 從指定節點調整堆積 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">restore</span><span class="params">(<span class="keyword">int</span> node, <span class="keyword">int</span> *heap, <span class="keyword">int</span> leaf)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> ((node * <span class="number">2</span>) &lt;= leaf)                  <span class="comment">// 如果還有子節點</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">2</span> * node;                    <span class="comment">// 左子節點的註標</span></span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">2</span> * node + <span class="number">1</span>;               <span class="comment">// 右子節點的註標</span></span><br><span class="line">        <span class="keyword">if</span> (right &gt; leaf)                       <span class="comment">// 右子節點超過範圍</span></span><br><span class="line">            right = left;                       <span class="comment">// 假裝左子節點為右子節點</span></span><br><span class="line">        <span class="keyword">int</span> target;                             <span class="comment">// 取得較小的節點</span></span><br><span class="line">        <span class="keyword">if</span> (heap[left] &lt; heap[right])           <span class="comment">// 左子節點比較小</span></span><br><span class="line">            target = left;                      <span class="comment">// 往左子節點的方向調整</span></span><br><span class="line">        <span class="keyword">else</span>                                    <span class="comment">// 右子節點比較小</span></span><br><span class="line">            target = right;                     <span class="comment">// 往右子節點的方向調整</span></span><br><span class="line">        <span class="keyword">if</span> (heap[node] &lt; heap[target])          <span class="comment">// 如果子節點比較大</span></span><br><span class="line">            <span class="keyword">break</span>;                              <span class="comment">// 直接結束</span></span><br><span class="line">        swap(&amp;heap[node], &amp;heap[target]);       <span class="comment">// 交換子節點到根的位置</span></span><br><span class="line">        node = target;                          <span class="comment">// 往下一層調整</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 推積排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heap_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *heap = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];               <span class="comment">// 宣告堆積</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)               <span class="comment">// 先把所有資料塞入堆積</span></span><br><span class="line">        heap[i + <span class="number">1</span>] = arr[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = (<span class="keyword">int</span>)(len / <span class="number">2</span>); i &gt;= <span class="number">1</span>; i--)   <span class="comment">// 從倒數第二層開始調整堆積</span></span><br><span class="line">        restore(i, heap, len);</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;                              <span class="comment">// 從堆積回存資料</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = len; i &gt;= <span class="number">1</span>; i--)              <span class="comment">// 對每筆資料</span></span><br><span class="line">    &#123;</span><br><span class="line">        arr[index++] = heap[<span class="number">1</span>];                 <span class="comment">// 從樹根取回資料</span></span><br><span class="line">        heap[<span class="number">1</span>] = heap[i];                      <span class="comment">// 把樹葉移到樹根</span></span><br><span class="line">        restore(<span class="number">1</span>, heap, i);                    <span class="comment">// 重新調整堆積</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> heap;                                <span class="comment">// 清理空間</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="Stooge-Sort"><a href="#Stooge-Sort" class="headerlink" title="Stooge Sort"></a>Stooge Sort</h1><p>中文為「臭皮匠排序」<br>《算法導論》思考題中的低效排序算法，<br>雖然算法本身不實用，但是很好的練習題材。</p>
<p>概念很簡單，從最大的序列開始，如果第一個跟最後一個順序不對則交換，<br>如果序列大於三，則依序對「前2/3個元素」、「後2/3個元素」、「前2/3個元素」，<br>重複使用臭皮匠排序，最後就會排完。</p>
<div class="note info">
            <p>wikipedia 的說明簡單明瞭，可參閱 <a href="https://en.wikipedia.org/wiki/Stooge_sort" target="_blank" rel="noopener">wikipedia: Stooge sort</a></p>
          </div>
<h2 id="實作-15"><a href="#實作-15" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">/* 臭皮匠排序 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stooge_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[<span class="number">0</span>] &gt; arr[len - <span class="number">1</span>])              <span class="comment">// 如果順序不對則交換</span></span><br><span class="line">        swap(&amp;arr[<span class="number">0</span>], &amp;arr[len - <span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (len &gt;= <span class="number">3</span>)                           <span class="comment">// 序列長度大於 3</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = (<span class="keyword">int</span>)(len / <span class="number">3</span>);           <span class="comment">// 分成 3 等份</span></span><br><span class="line">        stooge_sort(arr, len - tmp);        <span class="comment">// 前 2/3 個元素排序</span></span><br><span class="line">        stooge_sort(arr + tmp, len - tmp);  <span class="comment">// 後 2/3 個元素排序</span></span><br><span class="line">        stooge_sort(arr, len - tmp);        <span class="comment">// 前 2/3 個元素排序</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="Sleep-Sort"><a href="#Sleep-Sort" class="headerlink" title="Sleep Sort"></a>Sleep Sort</h1><p>中文為「睡眠排序」<br>充滿魔性的排序方法，根據數值的大小設定延遲進入陣列的時間。</p>
<div class="note warning">
            <p>等待時間的單位越小，越容易給出錯誤的答案。</p>
          </div>
<h2 id="實作-16"><a href="#實作-16" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line">...</span><br><span class="line"><span class="comment">/* 執行序的函數 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wait</span><span class="params">(<span class="keyword">int</span> value, <span class="keyword">int</span> *arr, <span class="keyword">int</span> *index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    this_thread::sleep_for(chrono::milliseconds(value));    <span class="comment">// 設定延遲時間</span></span><br><span class="line">    arr[*index] = value;                                    <span class="comment">// 讓數值進入陣列</span></span><br><span class="line">    (*index)++;                                             <span class="comment">// 累計註標</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sleep_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    thread *tasks = <span class="keyword">new</span> thread[len];                        <span class="comment">// 宣告執行緒</span></span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;                                          <span class="comment">// 設定註標</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)                           <span class="comment">// 為每個元素設定執行緒函數</span></span><br><span class="line">        tasks[i] = thread(wait, arr[i], arr, &amp;index);       <span class="comment">// 傳入數值、陣列的位置、註標的位置</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)                           <span class="comment">// 開始讓每個元素的執行緒函數執行</span></span><br><span class="line">        tasks[i].join();</span><br><span class="line">    <span class="keyword">delete</span> tasks;                                           <span class="comment">// 清理空間</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="Bogo-Sort"><a href="#Bogo-Sort" class="headerlink" title="Bogo Sort"></a>Bogo Sort</h1><p>中文為「猴子排序」<br>簡單的說，就是隨機洗牌，然後檢查是否排好的排序算法。<br>雖然不實用，但是具有特別的教育意義。</p>
<h2 id="實作-17"><a href="#實作-17" class="headerlink" title="實作"></a>實作</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bogo_sort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    srand(<span class="keyword">time_t</span>(<span class="literal">NULL</span>));                        <span class="comment">// 設定亂數種子</span></span><br><span class="line">    <span class="keyword">bool</span> sorted = <span class="literal">false</span>;                        <span class="comment">// 排序未完成</span></span><br><span class="line">    <span class="keyword">while</span> (sorted == <span class="literal">false</span>)                     <span class="comment">// 如果排序未完成</span></span><br><span class="line">    &#123;</span><br><span class="line">        sorted = <span class="literal">true</span>;                          <span class="comment">// 假設排序完成</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)           <span class="comment">// 隨機把位置上的元素跟其他元素交換</span></span><br><span class="line">            swap(&amp;arr[i], &amp;arr[rand() % len]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)           <span class="comment">// 檢查排序是否完成</span></span><br><span class="line">            <span class="keyword">if</span> (arr[i] &lt; arr[i - <span class="number">1</span>])            <span class="comment">// 如果排序沒有完成</span></span><br><span class="line">                sorted = <span class="literal">false</span>;                 <span class="comment">// 假設錯誤</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<div class="note danger">
            <p>注意不要輸入過大的測資，以免當機。</p>
          </div>
<h1 id="綜合評估"><a href="#綜合評估" class="headerlink" title="綜合評估"></a>綜合評估</h1><table><tr><th>中文名稱</th><th>英文名稱</th><th>最糟複雜度</th><th>最優複雜度</th><th colspan="3">簡介</th></tr><tr><td>氣泡排序</td><td>Bubble Sort</td><td>$O(n^{2})$</td><td>$O(n)$</td><td colspan="3">依序選擇相鄰的元素比較、交換的排序方法</td></tr><tr><td>選擇排序</td><td>Selection Sort</td><td>$O(n^{2})$</td><td>$O(n)$</td><td colspan="3">重複在未排序的區間選擇最小的放到正確的位置</td></tr><tr><td>插入排序</td><td>Insertion Sort</td><td>$O(n^{2})$</td><td>$O(n)$</td><td colspan="3">移動其他元素，並在找到插入點時插入正確的元素</td></tr><tr><td>雞尾酒排序</td><td>Cocktail Sort</td><td>$O(n^{2})$</td><td>$O(n)$</td><td colspan="3">左右來回的氣泡排序</td></tr><tr><td>梳排序</td><td>Comb Sort</td><td>$O(n^{2})$</td><td>$O(nlg(n))$</td><td colspan="3">間距上的元素順序不符則交換，間距逐次遞減</td></tr><tr><td>地精排序</td><td>Gnome Sort</td><td>$O(n^{2})$</td><td>$O(n)$</td><td colspan="3">到未排序的區間透過相鄰交換，將元素換到正確的位置上</td></tr><tr><td>奇偶排序</td><td>Odd-even Sort</td><td>$O(n^{2})$</td><td>$O(n)$</td><td colspan="3">分奇數位置、偶數位置，分別做氣泡排序</td></tr><tr><td>希爾排序</td><td>Shell Sort</td><td>$O(n^{2})$</td><td>$O(nlg(n))$</td><td colspan="3">對固定間距的元素做插入排序，間距逐次遞減</td></tr><tr><td>桶子排序</td><td>Bucket Sort</td><td>$O(n^{2})$</td><td>-</td><td colspan="3">將元素分群，對不同群做好排序再合併</td></tr><tr><td>計數排序</td><td>Counting Sort</td><td>$O(n+k)$</td><td>-</td><td colspan="3">紀錄每種元素的出現次數，利用出現次數重新排列數字</td></tr><tr><td>基數排序</td><td>Radix Sort</td><td>$O(wn)$</td><td>-</td><td colspan="3">依序對每一位做排序，位數逐次遞增（或遞減）</td></tr><tr><td>合併排序</td><td>Merge Sort</td><td>$O(nlg(n))$</td><td>$O(n)$</td><td colspan="3">將元素分成兩半，直至無法分開後，依照順序合併</td></tr><tr><td>快速排序</td><td>Quick Sort</td><td>$O(n^{2})$</td><td>$O(nlg(n))$</td><td colspan="3">選擇參考元素，將其他元素與其比較並放到其中一邊</td></tr><tr><td>二元搜尋樹</td><td>Binary Search Tree</td><td>$O(n^{2})$</td><td>$O(nlg(n))$</td><td colspan="3">利用資料建立一顆二元搜尋樹後透過中序走訪取得元素</td></tr><tr><td>堆積排序</td><td>Heap Sort</td><td>$O(nlg(n))$</td><td>$O(nlg(n))$</td><td colspan="3">利用資料建立堆積，依序取出堆積的樹根，再調整堆積</td></tr><tr><td>臭皮匠排序</td><td>Stooge Sort</td><td>$O(n^{lg(3)/lg(1.5)})$</td><td>$O(n^{lg(3)/lg(1.5)})$</td><td colspan="3">起始結束位置不對則交換，遞迴調用前、後、前2/3個元素</td></tr><tr><td>睡眠排序</td><td>Sleep Sort</td><td>$O(max(n))$</td><td>$O(max(n))$</td><td colspan="3">利用數值本身的大小讓系統等待，結束等待同時取回元素</td></tr><tr><td>猴子排序</td><td>Bogo Sort</td><td>$O(\infty)$</td><td>$O(n)$</td><td colspan="3">亂數洗牌，直到順序正確為止</td></tr></table>

<h1 id="排序動畫演示"><a href="#排序動畫演示" class="headerlink" title="排序動畫演示"></a>排序動畫演示</h1><iframe scrolling="no" width="100%" height="420px" src="//jsfiddle.net/L1by5kpt/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="效能評估演示"><a href="#效能評估演示" class="headerlink" title="效能評估演示"></a>效能評估演示</h1><iframe scrolling="no" width="100%" height="600px" src="//jsfiddle.net/u0pnrwqu/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><p>參考資料沒有先後關係。</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Sorting_algorithm" target="_blank" rel="noopener">wikipedia: Sorting algorithm</a></li>
<li><a href="https://en.wikipedia.org/wiki/Bubble_sort" target="_blank" rel="noopener">wikipedia: Bubble sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Selection_sort" target="_blank" rel="noopener">wikipedia: Selection sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Insertion_sort" target="_blank" rel="noopener">wikipedia: Insertion sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Cocktail_shaker_sort" target="_blank" rel="noopener">wikipedia: Cocktail shaker sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Comb_sort" target="_blank" rel="noopener">wikipedia: Comb sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Gnome_sort" target="_blank" rel="noopener">wikipedia: Gnome sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Odd%E2%80%93even_sort" target="_blank" rel="noopener">wikipedia: Odd-even sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Shellsort" target="_blank" rel="noopener">wikipedia: Shell sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Bucket_sort" target="_blank" rel="noopener">wikipedia: Bucket sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Counting_sort" target="_blank" rel="noopener">wikipedia: Counting sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Radix_sort" target="_blank" rel="noopener">wikipedia: Radix sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Merge_sort" target="_blank" rel="noopener">wikipedia: Merge sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Quicksort" target="_blank" rel="noopener">wikipedia: Quicksort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Tree_sort" target="_blank" rel="noopener">wikipedia: Tree sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Binary_search_tree" target="_blank" rel="noopener">wikipedia: Binary search tree</a></li>
<li><a href="https://en.wikipedia.org/wiki/Heapsort" target="_blank" rel="noopener">wikipedia: Heapsort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Stooge_sort" target="_blank" rel="noopener">wikipedia: Stooge sort</a></li>
<li><a href="https://it.wikipedia.org/wiki/Sleep_sort" target="_blank" rel="noopener">wikipedia: Sleep sort</a></li>
<li><a href="https://en.wikipedia.org/wiki/Bogosort" target="_blank" rel="noopener">wikipedia: Bogosort</a></li>
<li><a href="http://marklin-blog.logdown.com/posts/1910182" target="_blank" rel="noopener">排序之桶子排序法(Bucket Sort)</a></li>
<li><a href="https://kheresy.wordpress.com/2012/07/06/multi-thread-programming-in-c-thread-p1/" target="_blank" rel="noopener">C++ 的多執行序程式開發 Thread：基本使用</a></li>
<li><a href="https://liam0205.me/2017/05/16/first-step-on-multithread-programming-of-cxx/" target="_blank" rel="noopener">程序员的自我修养（五）：C++ 多线程编程初步</a></li>
<li><a href="http://www.cnblogs.com/kkun/archive/2011/11/23/gnome_sort.html" target="_blank" rel="noopener">经典排序算法 - 地精排序Gnome Sort</a></li>
<li><a href="https://stackoverflow.com/questions/2034712/is-there-any-overhead-for-using-variable-length-arrays" target="_blank" rel="noopener">stackoverflow: Is there any overhead for using variable-length arrays?</a></li>
<li><a href="https://stackoverflow.com/questions/5928699/codejam-2011-solution-for-gorosort" target="_blank" rel="noopener">stackoverflow: CodeJam 2011: Solution for Gorosort?</a></li>
<li><a href="https://stackoverflow.com/questions/9323903/most-efficient-elegant-way-to-clip-a-number" target="_blank" rel="noopener">stackoverflow: Most efficient/elegant way to clip a number?</a></li>
<li><a href="https://news.ycombinator.com/item?id=8798202" target="_blank" rel="noopener">Hacker News: Sleep sort</a></li>
<li><a href="http://www.cplusplus.com/reference/thread/this_thread/sleep_for/" target="_blank" rel="noopener">cplusplus: sleep_for</a></li>
<li><a href="http://www.cplusplus.com/reference/cmath/ceil/" target="_blank" rel="noopener">cplusplus: ceil</a></li>
<li><a href="http://www.cplusplus.com/reference/cmath/pow/" target="_blank" rel="noopener">cplusplus: pow</a></li>
<li><a href="http://www.cplusplus.com/reference/cmath/log/" target="_blank" rel="noopener">cplusplus: log</a></li>
<li><a href="http://www.cplusplus.com/reference/algorithm/swap/" target="_blank" rel="noopener">cplusplus: swap</a></li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1124.pdf" target="_blank" rel="noopener">ISO/IEC 9899 - Programming languages - open-std</a></li>
<li><a href="http://www.cplusplus.com/forum/beginner/51496/" target="_blank" rel="noopener">cplusplus: A little doubt about delete</a></li>
<li><a href="http://en.cppreference.com/w/cpp/thread/sleep_for" target="_blank" rel="noopener">cppreference: sleep_for</a></li>
<li><a href="http://en.cppreference.com/w/cpp/algorithm/clamp" target="_blank" rel="noopener">cppreference: clamp</a></li>
<li><a href="https://www.geeksforgeeks.org/merge-sort/" target="_blank" rel="noopener">Geeks for Geeks: Merge Sort</a></li>
<li><a href="https://www.geeksforgeeks.org/iterative-merge-sort/" target="_blank" rel="noopener">Geeks for Geeks: Iterative Merge Sort</a></li>
<li><a href="https://sites.google.com/site/sjdsalg/home" target="_blank" rel="noopener">徐熊健@資料結構與演算法 Data Structures and Algorithms</a></li>
<li><a href="https://baike.baidu.com/item/TimSort/10279720?fr=aladdin" target="_blank" rel="noopener">百度百科: TimSort</a></li>
<li><a href="http://www.blogjava.net/xiaomage234/archive/2015/02/26/423059.html" target="_blank" rel="noopener">[译]理解TIMSORT, 第一部分：适应性归并排序(ADAPTIVE MERGESORT)</a></li>
<li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/Arrays.html#sort-java.lang.Object:A-" target="_blank" rel="noopener">Oracle Java: Class Arrays</a></li>
</ul>
]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>迴文處理 Palindrome Process</title>
    <url>/palindrome-process/</url>
    <content><![CDATA[<p>之前在弄演算法題目的時候，曾經遇過迴文類的問題，<br>當時並沒有很了解問題的本質跟相關算法，所以都是窮舉。然而有些超時、有些則否。</p>
<p>後來的某一天又碰到這類的問題，誘發我去把相關的算法看了幾遍。這篇文章算是從中衍伸的筆記。<br><a id="more"></a></p>
<h1 id="子字串與子序列"><a href="#子字串與子序列" class="headerlink" title="子字串與子序列"></a>子字串與子序列</h1><p>迴文問題通常不會以簡單的形式出現，<br>通常來說，大致上會類似「最長迴文子字串」、「最長迴文子序列」的形式出現，<br>正因如此，先理解兩者的差異是重要的。</p>
<p>子字串跟子序列大致上有這樣的關係：</p>
<ul>
<li>子字串、子序列都是依照閱讀的順序擷取（以英文來說，橫書是由左至右）</li>
<li>子字串要求資料連續、子序列不要求</li>
</ul>
<p>從這個角度來看，可以發現子字串的限制較子序列嚴格。</p>
<p>更進一步說，只要是子字串，就一定會是子序列，<br>而某筆資料所有的子字串集合，會是其資料子序列集合的子集合。</p>
<p>我們來看個例子：「TheQuickBrownFoxJumpsOverTheLazyDog」</p>
<table>
<thead>
<tr>
<th>字串</th>
<th>位置</th>
<th>類型</th>
</tr>
</thead>
<tbody>
<tr>
<td>QuickBrown</td>
<td>The<span style="background-color: #ffff99;">QuickBrown</span>FoxJumpsOverTheLazyDog</td>
<td>子字串、也是子序列</td>
</tr>
<tr>
<td>LazyDog</td>
<td>TheQuickBrownFoxJumpsOverThe<span style="background-color: #ffff99;">LazyDog</span></td>
<td>子字串、也是子序列</td>
</tr>
<tr>
<td>QuickFox</td>
<td>The<span style="background-color: #ffff99;">Quick</span>Brown<span style="background-color: #ffff99;">Fox</span>JumpsOverTheLazyDog</td>
<td>子序列</td>
</tr>
<tr>
<td>BrownDog</td>
<td>TheQuick<span style="background-color: #ffff99;">Brown</span>FoxJumpsOverTheLazy<span style="background-color: #ffff99;">Dog</span></td>
<td>子序列</td>
</tr>
<tr>
<td>LazyFox</td>
<td>TheQuickBrownFoxJumpsOverTheLazyDog</td>
<td>不是子字串或子序列</td>
</tr>
</tbody>
</table>
<div class="note info">
            <p>範例中的「TheQuickBrownFoxJumpsOverTheLazyDog」是全字母句（Pangram）使用了所有英文字母。</p>
          </div>
<div class="note warning">
            <p>演示或本文撰寫完畢時，筆者發現有一處容易混淆：<br>「LPS」代表是「Longest Palindrome Substrings/Subsequences」；<br>其中「S」並無指定為字串或序列，亦即最長子字串或子序列都有可能使用「LPS」做縮寫。<br>請根據段落判斷「LPS」的意義。</p>
          </div>
<h1 id="迴文子字串：窮舉"><a href="#迴文子字串：窮舉" class="headerlink" title="迴文子字串：窮舉"></a>迴文子字串：窮舉</h1><p>因為子字串的限制較為嚴格，我們先從子字串下手。<br>對於迴文子字串的窮舉法邏輯很簡單：「找到所有的子字串，然後檢驗是否迴文。」</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 檢驗是否迴文</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">checkPalindrome</span><span class="params">(<span class="built_in">string</span> text)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> half = text.length() / <span class="number">2</span>;            <span class="comment">// 取長度的一半</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">0</span>; i &lt; half; i++)            <span class="comment">// 註標 i 對應字串前半</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> j = text.length() - i <span class="number">-1</span>;        <span class="comment">// 註標 j 對應字串後半</span></span><br><span class="line">        <span class="keyword">if</span>(text[i] != text[j]) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 如果不對則直接返回</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;                             <span class="comment">// 確實屬於迴文</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>迴文檢測的邏輯不難，不過還是解釋一下。</p>
<p>字串能夠分成兩種：偶數字串、奇數字串。<br>如果是偶數時，長度除以二，會剛好是一半；然而是奇數的話，除以二會是一半捨去小數。</p>
<p>簡單的例子：</p>
<p>當 text = “abcd” 時，長度為 4 則 half = 2 這樣的話，<br>註標 i = 0, 1 而同時註標 j = 3, 2 形成依序比對字串前後兩邊的字元是否相等。</p>
<p>如果 text = “abcba” 時，長度為 5 則 half = 2 這樣的話，<br>註標 i = 0, 1 而同時 註標 j = 4, 3 可以發現剛好奇數中間的字元並不需要比對。</p>
<p>接著，我們需要得到所有的子字串，在 std::string 中有 substr 函數可以使用。<br>那要取得所有的子字串，則需要註標 a 表示子字串開頭的位置，而註標 b 表示結束的位置，<br>對於所有的 a, b 有 a &lt;= b 的關係：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; str.length(); a++)        <span class="comment">// 子字串開始位置的註標</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> b = a; b &lt; str.length(); b++)    <span class="comment">// 子字串結束位置的註標</span></span><br><span class="line">    &#123;</span><br><span class="line">        tmp = str.substr(a, (b - a + <span class="number">1</span>));     <span class="comment">// 從開始位置，取對應長度</span></span><br><span class="line">        <span class="keyword">if</span>(checkPalindrome(tmp)) ...;         <span class="comment">// 檢查迴文，並處理</span></span><br><span class="line">    &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>這樣我們問題就解決了。</p>
<p>不過仔細想想，我們其實並不需要另外合成字串，<br>直接在原字串比對就好，我們修正檢測：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 迴文檢測（使用參考）</span></span><br><span class="line"><span class="comment">// 傳入字串的參考、開始位置、結束位置</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">checkPalindrome</span><span class="params">(<span class="built_in">string</span> &amp;text, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = b - a + <span class="number">1</span>;                     <span class="comment">// 取得子字串長度</span></span><br><span class="line">    <span class="keyword">int</span> half = len / <span class="number">2</span>;                      <span class="comment">// 取的一半的長度</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; half; i++)           <span class="comment">// 註標 i 表示取前後多少字元</span></span><br><span class="line">        <span class="keyword">if</span>(text[a + i] != text[b - i])       <span class="comment">// 從前面取 i 個及從後面取 i 個比對</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;                    <span class="comment">// 如果不符則傳回</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;                             <span class="comment">// 確實為迴文</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>直接傳入參考以避免生成一堆子字串，<br>利用母字串的註標 a, b 取得子字串的長度運算即可。</p>
<h2 id="複雜度"><a href="#複雜度" class="headerlink" title="複雜度"></a>複雜度</h2><p>在分析之前，我們從例子著手。<br>比方說，當原字串為 “abc” 其長度為 3 則存在子字串：</p>
<p>substr(“abc”) = {“”, “a”, “ab”, “abc”, “b”, “bc”, “c”}</p>
<div class="note warning">
            <p>注意：其實包含空字串在內也是子字串；只是我們不需要，所以沒有實做出來。</p>
          </div>
<p>可以發現，子字串的數量為 3 + 2 + 1 + 1 = 7 個，如果不含空字串則是 3 + 2 + 1 = 6 個，<br>於是我們大概可以假設如下：</p>
<p>長度為 $n$ 的原字串，不含空字串的話，有 $\sum\limits_{x=1}^n x = \frac{1}{2}(1+n)n$ 個子字串。</p>
<p>假設只是從觀察中發現，實際推算看看是否正確：</p>
<p>設原字串的長度為 $n$ 的話，<br>註標 a 的範圍在 $[0, n-1]$ 而註標 b 的範圍在 $[a, n-1]$</p>
<p>因為子字串的數量就是所有註標匹配的數量：</p>
<p>$\sum\limits_{a = 0}^{n - 1} \sum\limits_{b = a}^{n - 1} 1$</p>
<p>後面的取和直接算有幾個，得到：</p>
<p>$= \sum\limits_{a = 0}^{n - 1} [(n - 1) - a + 1] = \sum\limits_{a = 0}^{n - 1} (n - a) = \sum\limits_{a = 0}^{n - 1} n - \sum\limits_{a = 0}^{n - 1} a$</p>

$= n \sum\limits_{a = 0}^{n - 1} 1 - \frac{1}{2}[(n - 1) + 0][(n - 1) - 0 + 1]$

<p>$= n^{2} - \frac{1}{2} (n - 1)n = n^{2} - \frac{1}{2} (n^2 - n)$</p>
<p>$= n^{2} - \frac{1}{2} n^2 + \frac{1}{2} n = \frac{1}{2} n^2 + \frac{1}{2} n$</p>
<p>$= \frac{1}{2} (n^2 + n) = \frac{1}{2} (n + 1)n$</p>
<p>看來我們的推測試是正確的。</p>
<p>試想檢測一個字串是否為迴文，需要掃描一半的字串，<br>把原本取和裡面的 $1$ 改成子字串長度的一半也就是 $\frac{1}{2} (b - a + 1)$ 的話：</p>
<p>$\sum\limits_{a = 0}^{n - 1} \sum\limits_{b = a}^{n - 1} \frac{1}{2} (b - a + 1) = \frac{1}{2} \sum\limits_{a = 0}^{n - 1} \sum\limits_{b = a}^{n - 1} (b - a + 1)$</p>
<p>$= \frac{1}{2} \sum\limits_{a = 0}^{n - 1} ( \sum\limits_{b = a}^{n - 1} b - \sum\limits_{b = a}^{n - 1} a + \sum\limits_{b = a}^{n - 1} 1 )$</p>

$= \frac{1}{2} \sum\limits_{a = 0}^{n - 1} \{ \frac{1}{2}[(n - 1) + a](n - a) - a(n - a) + (n - a) \}$

<p>$= \frac{1}{2} \sum\limits_{a = 0}^{n - 1} [ \frac{1}{2}(n + a -1)(n - a) - an + a^{2} + n - a ]$</p>
<p>$= \frac{1}{2} \sum\limits_{a = 0}^{n - 1} [ \frac{1}{2}(n^{2} - an + an - a^{2} - n + a) - an + a^{2} + n - a ]$</p>
<p>$= \frac{1}{2} \sum\limits_{a = 0}^{n - 1} [ \frac{1}{2} n^{2} + \frac{1}{2} a^{2} + \frac{1}{2} n - \frac{1}{2} a - an ]$</p>
<p>$= \frac{1}{4} \sum\limits_{a = 0}^{n - 1} ( n^{2} + a^{2} + n - a ) - \frac{1}{2} n\sum\limits_{a = 0}^{n - 1} a$</p>
<p>$= \frac{1}{4} [ \sum\limits_{a = 0}^{n - 1} n^{2} + \sum\limits_{a = 0}^{n - 1} a^{2} +  \sum\limits_{a = 0}^{n - 1} n - \sum\limits_{a = 0}^{n - 1} a ] - \frac{1}{4} n^{2}(n - 1) $</p>
<p>$= \frac{1}{4} [ n^{2} \sum\limits_{a = 0}^{n - 1} 1 + \sum\limits_{a = 0}^{n - 1} a^{2} +  n \sum\limits_{a = 0}^{n - 1} 1 - \frac{1}{2} n (n - 1) ] - \frac{1}{4} n^{2}(n - 1) $</p>
<p>$= \frac{1}{4} [ n^{3} + \sum\limits_{a = 0}^{n - 1} a^{2} +  n^{2} - \frac{1}{2} n (n - 1) ] - \frac{1}{4} n^{2}(n - 1) $</p>
<p>把中間 $\sum\limits_{a = 0}^{n - 1} a^{2}$ 項拿一個 $0^{2}$ 出來，<br>然後多加 $n^{2}$ 進去取和，後面再扣掉：</p>
<p>$\sum\limits_{a = 0}^{n - 1} a^{2} = 0^{2} + \sum\limits_{a = 1}^{n} a^{2} - n^{2} = \sum\limits_{a = 1}^{n} a^{2} - n^{2}$</p>
<p>利用公式：$\sum\limits_{k = 1}^{n} k^{2} = \frac{1}{6} n(n+1)(2n+1)$</p>
<p>$= \frac{1}{4} [ n^{3} + \frac{1}{6}n(n + 1)(2n + 1) - n^{2} +  n^{2} - \frac{1}{2} n (n - 1) ] - \frac{1}{4} n^{2}(n - 1) $</p>
<p>$= \frac{1}{4} [ n^{3} + \frac{1}{6}n(n + 1)(2n + 1) - \frac{1}{2} n(n - 1) ] - \frac{1}{4} n^{2}(n - 1) $</p>
<p>$= \frac{1}{4} n^{3} + \frac{1}{24}(n^{2} + n)(2n + 1) - \frac{1}{8} n(n - 1)  - \frac{1}{4} n^{2}(n - 1) $</p>
<p>$= \frac{1}{4} n^{3} + \frac{1}{24}(2n^{3} + n^{2} + 2n^{2} + n) - \frac{1}{8} n^{2} + \frac{1}{8} n  - \frac{1}{4} n^{3} + \frac{1}{4} n^{2}$</p>
<p>$= \frac{1}{4} n^{3} + \frac{1}{12} n^{3} + \frac{1}{24} n^{2} + \frac{1}{12} n^{2} + \frac{1}{24}n - \frac{1}{8} n^{2} + \frac{1}{8} n  - \frac{1}{4} n^{3} + \frac{1}{4} n^{2}$</p>
<p>$= \frac{2}{24} n^{3} + \frac{6}{24} n^{2} + \frac{4}{24} n$</p>
<p>$= \frac{1}{12} n^{3} + \frac{1}{4} n^{2} + \frac{1}{6} n$</p>
<p>對於搜索全部的子字串、並且暴力檢測迴文的複雜度是：</p>
<p>$\frac{1}{2} \sum\limits_{a = 0}^{n - 1} \sum\limits_{b = a}^{n - 1} (b - a + 1) = \frac{1}{12} n^{3} + \frac{1}{4} n^{2} + \frac{1}{6} n = O(n^{3})$</p>
<div class="note warning">
            <p>注意：本式中存在一個瑕疵，由於子字串長度 $\frac{1}{2} (b - a + 1)$ 有可能為奇數，<br>精確的應寫為 $\lfloor \frac{1}{2} (b - a + 1) \rfloor$ 並將奇、偶數分開討論。</p>
          </div>
<h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><div class="note info">
            <p>本演示的最糟測資是所有子字串都是回文的情況，也就是單個字元構成的字串。</p>
          </div>
<iframe scrolling="no" width="100%" height="230px" src="//jsfiddle.net/3d7z04uh/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="迴文子字串：策略"><a href="#迴文子字串：策略" class="headerlink" title="迴文子字串：策略"></a>迴文子字串：策略</h1><p>對於這樣的問題 Manacher algorithm 提供了思考的策略：「大的迴文包含了小的迴文」<br>Manacher algorithm 的步驟：  </p>
<ul>
<li>字元間插入字符，使原字串都變成奇數長度</li>
<li>依序掃描字元、長度，找到最長的迴文</li>
</ul>
<p>關於步驟 1 的部份，實際上是這樣的：<br>假設有 “abcdcpa” 改變成 “#a#b#c#d#c#p#a#” （其中的 # 是任意字符）</p>
<p>數數看，我們插入了多少字元呢？如果把尾巴的 # 拿走的話：</p>
<ul>
<li>“abcdcpa”</li>
<li>“#a#b#c#d#c#p#a” + “#”</li>
<li>“#a #b #c #d #c #p #a” + “#”</li>
</ul>
<p>在長度為 n 的字串中，<br>我們插入了 n 個 # 並在尾巴多加了一個 # 使得長度變成 2n + 1<br>考慮長度為 n 的字串，其中 n 可能為偶數、或著奇數：</p>
<ul>
<li>如果 n 為偶數，則 2n 也是偶數，那 2n + 1 為奇數</li>
<li>如果 n 為奇數，則 2n 變成偶數，那 2n + 1 為奇數</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 插入符號到字元間</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">insertSign</span><span class="params">(<span class="built_in">string</span> str, <span class="keyword">char</span> sign)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> nstr;                          <span class="comment">// 建立新字串</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++) <span class="comment">// 遍歷原字串</span></span><br><span class="line">    &#123;</span><br><span class="line">        nstr += sign;                     <span class="comment">// 加上符號</span></span><br><span class="line">        nstr += str[i];                   <span class="comment">// 插入字元到新字串</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nstr + sign;                   <span class="comment">// 新字串尾巴補上符號</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">insertSign("ABC", \'#\');                   // 調用時："#A#B#C#"</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>能理解這個部份的話，我們進入算法核心：<br>如果我們字串比對由左至右來處理的話，一直到：</p>
<table style="height: 83px; width: 437px;"><tr><th style="width: 97.6px;">String</th><td style="width: 14px; ">#</td><td style="width: 14px; text-align: center;">a</td><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">b</td><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">a</td><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">c</td><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">a</td><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">b</td><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">e</td><td style="width: 14px; text-align: center;">#</td></tr><tr><th style="width: 97.6px;">Index</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="width: 14px; text-align: center;">2</td><td style="width: 14px; text-align: center;">3</td><td style="width: 14px; text-align: center;">4</td><td style="width: 14px; text-align: center;">5</td><td style="width: 14px; text-align: center;">6</td><td style="width: 14px; text-align: center;">7</td><td style="width: 14px; text-align: center;">8</td><td style="width: 14px; text-align: center;">9</td><td style="width: 14px; text-align: center;">10</td><td style="width: 14px; text-align: center;">11</td><td style="width: 14px; text-align: center;">12</td><td style="width: 14px; text-align: center;">13</td><td style="width: 14px; text-align: center;">14</td></tr><tr><th style="width: 97.6px;">Palindrome</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">3</td><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">5</td><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">?</td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td></tr></table>

<p>問號處應該填入多少呢？我們利用已知的資料做猜測，<br>下面表格，橘色的部份就是已知區域最大的迴文：</p>
<table style="height: 83px; width: 437px;"><tr><th style="width: 97.6px;">String</th><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">c</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">e</td><td style="width: 14px; text-align: center;">#</td></tr><tr><th style="width: 97.6px;">Index</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">4</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">6</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">7</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">8</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">9</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">10</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">11</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">12</td><td style="width: 14px; text-align: center;">13</td><td style="width: 14px; text-align: center;">14</td></tr><tr><th style="width: 97.6px;">Palindrome</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td></tr></table>

<p>我們可以合理猜測，正因為左右淡橘色以深橘色（Index = 7）對稱，<br>在 a 處（Index = 9）的 Palindrome 會與左邊的 a 處（Index = 5）相等。</p>
<table style="height: 83px; width: 437px;"><tr><th style="width: 97.6px;">String</th><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">c</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">e</td><td style="width: 14px; text-align: center;">#</td></tr><tr><th style="width: 97.6px;">Index</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">4</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">6</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">7</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">8</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">9</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">10</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">11</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">12</td><td style="width: 14px; text-align: center;">13</td><td style="width: 14px; text-align: center;">14</td></tr><tr><th style="width: 97.6px;">Palindrome</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td></tr></table>

<p>換句話說，我們會認為它等於 1（因為左邊的 Palindrome = 1）</p>
<table style="height: 83px; width: 437px;"><tr><th style="width: 97.6px;">String</th><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">c</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">e</td><td style="width: 14px; text-align: center;">#</td></tr><tr><th style="width: 97.6px;">Index</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">4</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">6</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">7</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">8</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">9</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">10</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">11</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">12</td><td style="width: 14px; text-align: center;">13</td><td style="width: 14px; text-align: center;">14</td></tr><tr><th style="width: 97.6px;">Palindrome</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;"><span style="color: #339966;"><strong>1</strong></span></td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td></tr></table>

<p>我們接下來看第二種情況：</p>
<table style="height: 83px; width: 437px;"><tr><th style="width: 97.6px;">String</th><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">c</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">e</td><td style="width: 14px; text-align: center;">#</td></tr><tr><th style="width: 97.6px;">Index</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">4</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">6</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">7</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">8</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">9</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">10</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">11</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">12</td><td style="width: 14px; text-align: center;">13</td><td style="width: 14px; text-align: center;">14</td></tr><tr><th style="width: 97.6px;">Palindrome</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffaa55; width: 14px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 14px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td><td style="width: 14px; text-align: center;"> </td></tr></table>

<div class="note danger">
            <p>錯誤的推測：這邊的 b 處（Index = 11）會跟左邊的 b 處（Index = 3）相等。</p>
          </div>
<p>因為左邊的 b 處（Index = 3）紀錄的迴文長度，<br>向左延伸超出了 c 處（Index = 7）所紀錄的保證範圍：</p>
<table style="height: 83px; width: 437px;"><tr><th style="width: 97.6px;">String</th><td style="width: 14px; text-align: center;">#</td><td style="width: 14px; text-align: center;">a</td><td style="background-color: #ffffff; width: 14px; text-align: center;">#</td><td style="background-color: #ffffff; width: 14px; text-align: center;">b</td><td style="background-color: #ffffff; width: 14px; text-align: center;">#</td><td style="background-color: #ffffff; width: 14px; text-align: center;">a</td><td style="background-color: #ffffff; width: 14px; text-align: center;">#</td><td style="background-color: #ffffff; width: 14px; text-align: center;">c</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">#</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">a</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">#</td><td style="background-color: #ffaaaa; width: 14px; text-align: center;">b</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">#</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">e</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">#</td></tr><tr><th style="width: 97.6px;">Index</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffffff; width: 14px; text-align: center;">2</td><td style="background-color: #ffffff; width: 14px; text-align: center;">3</td><td style="background-color: #ffffff; width: 14px; text-align: center;">4</td><td style="background-color: #ffffff; width: 14px; text-align: center;">5</td><td style="background-color: #ffffff; width: 14px; text-align: center;">6</td><td style="background-color: #ffffff; width: 14px; text-align: center;">7</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">8</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">9</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">10</td><td style="background-color: #ffaaaa; width: 14px; text-align: center;">11</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">12</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">13</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">14</td></tr><tr><th style="width: 97.6px;">Palindrome</th><td style="width: 14px; text-align: center;">0</td><td style="width: 14px; text-align: center;">1</td><td style="background-color: #ffffff; width: 14px; text-align: center;">0</td><td style="background-color: #ffffff; width: 14px; text-align: center;">3</td><td style="background-color: #ffffff; width: 14px; text-align: center;">0</td><td style="background-color: #ffffff; width: 14px; text-align: center;">1</td><td style="background-color: #ffffff; width: 14px; text-align: center;">0</td><td style="background-color: #ffffff; width: 14px; text-align: center;">5</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">0</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">1</td><td style="background-color: #ffdddd; width: 14px; text-align: center;">0</td><td style="background-color: #ffaaaa; width: 14px; text-align: center;"><strong><span style="color: #ff0000;">3</span></strong></td><td style="background-color: #ffdddd; width: 14px; text-align: center;"> </td><td style="background-color: #ffdddd; width: 14px; text-align: center;"> </td><td style="background-color: #ffdddd; width: 14px; text-align: center;"> </td></tr></table>

<p>既然一直到 # 處（Index = 12）都跟左邊對稱的話，<br>右邊的 b 處（Index = 11）、搭配左邊的 b 處（Index = 3）紀錄的數字，<br>可以得到：12 - 11 = 1 &lt; 3</p>
<p>也就是說，雖然左邊提供資訊為 3 的迴文長度，<br>但 c 處（Index = 7）只保證至少有 1 的迴文長度。</p>
<p>可以觀察出一個結論：  </p>
<ul>
<li>我們必須紀錄目前保護範圍到哪裡</li>
<li>如果延伸沒有超過保護範圍，則直接填入左邊對稱的數字</li>
<li>如果延伸超過了保護範圍，則利用左邊對稱的數字做保守估計</li>
</ul>
<p>我們把表格用變數表示可以理解的更清楚：</p>
<table style="height: 111px; width: 437px;"><tr><th style="width: 105.6px; text-align: center;">S<sub>x</sub></th><td style="width: 14.4px; text-align: center;">#</td><td style="width: 15.2px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">#</td><td style="background-color: #ffaa55; width: 15.2px; text-align: center;">c</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">a</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">#</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">b</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">#</td><td style="background-color: #ffffff; width: 16.8px; text-align: center;">e</td><td style="background-color: #ffffff; width: 17.6px; text-align: center;">#</td></tr><tr><th style="width: 105.6px; text-align: center;">P<sub>x</sub></th><td style="width: 14.4px; text-align: center;">0</td><td style="width: 15.2px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">0</td><td style="background-color: #ffaa55; width: 15.2px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;"> </td><td style="background-color: #ffffff; width: 16.8px; text-align: center;"> </td><td style="background-color: #ffffff; width: 17.6px; text-align: center;"> </td></tr><tr><th style="width: 105.6px; text-align: center;">x</th><td style="width: 14.4px; text-align: center;">0</td><td style="width: 15.2px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">4</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">5</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">6</td><td style="background-color: #ffaa55; width: 15.2px; text-align: center;">7</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">8</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">9</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">10</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">11</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">12</td><td style="background-color: #ffffff; width: 16.8px; text-align: center;">13</td><td style="background-color: #ffffff; width: 17.6px; text-align: center;">14</td></tr><tr><th style="width: 105.6px; text-align: center;">Variable</th><td style="width: 14.4px; text-align: center;"> </td><td style="width: 15.2px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;">j</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;"> </td><td style="background-color: #ffaa55; width: 15.2px; text-align: center;">k</td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 15.2px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;"> </td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;">i</td><td style="background-color: #ffdd99; width: 16.8px; text-align: center;"> </td><td style="background-color: #ffffff; width: 16.8px; text-align: center;"> </td><td style="background-color: #ffffff; width: 17.6px; text-align: center;"> </td></tr></table>

<p>觀察之後的結論：</p>
<ul>
<li>若以 $k$ 為對稱，則對應於 $i$ 的 $j = k - (i - k) = 2k - i$</li>
<li>僅考慮右邊的保護範圍只到 $k + P_{k}$</li>
<li>如果 $i + P_{j} &lt; k + P_{k}$ 則 $P_{i} = P_{j}$</li>
<li>如果 $i + P_{j} \geq k + P_{k}$ 則至少保證 $P_{i} \geq (k + P_{k}) - i$</li>
</ul>
<p>更簡潔地表示：</p>
<ul>
<li>令 $j = k - (i - k) = 2k - i$</li>
<li>令 $m = k + P_{k}$</li>
<li>$P_{i} = \left\{\begin{array}{l} P_{j} && \text{if } (i + P_{j}) < m \\ m - i + c && \text{if } (i + P_{j}) \geq m \end{array}\right .$</li>
<li>上式 $c \in \mathbb{N}^{0}$ 須另外估計（延伸是否迴文）</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LPS</span><span class="params">(<span class="built_in">string</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = s.length();                             <span class="comment">// 字串長度</span></span><br><span class="line">    <span class="keyword">int</span> i, j;                                         <span class="comment">// 兩個以 k 為對稱的註標</span></span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;                                        <span class="comment">// 保護範圍的註標</span></span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;                                        <span class="comment">// 對稱中心的註標</span></span><br><span class="line">    <span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>[len];                            <span class="comment">// 紀錄迴文長度的表</span></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++)                          <span class="comment">// 遍歷所有字元</span></span><br><span class="line">    &#123;</span><br><span class="line">        j = <span class="number">2</span>*k - i;                                  <span class="comment">// 找到另一對稱的註標</span></span><br><span class="line">        <span class="keyword">if</span>(i + p[j] &lt; m)                              <span class="comment">// 在保護範圍內</span></span><br><span class="line">            p[i] = p[j];                              <span class="comment">// 此迴文長度與對稱的迴文長度相等</span></span><br><span class="line">        <span class="keyword">else</span>                                          <span class="comment">// 超出保護範圍內</span></span><br><span class="line">        &#123;</span><br><span class="line">            p[i] = m - i;                             <span class="comment">// 至少有保護範圍到該註標的長度</span></span><br><span class="line">            <span class="keyword">while</span>(s[i + p[i]] == s[i - p[i]])         <span class="comment">// 拓展新長度</span></span><br><span class="line">            &#123;</span><br><span class="line">                p[i]++;</span><br><span class="line">                <span class="keyword">if</span>(i + p[i] &gt;= len || i - p[i] &lt; <span class="number">0</span>)   <span class="comment">// 超出邊界就要停止</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            k = i; m = k + p[k];                      <span class="comment">// 以目前為新對稱中，拓寬保護範圍</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> findMax(p, len);                           <span class="comment">// 尋找最大值</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="複雜度-1"><a href="#複雜度-1" class="headerlink" title="複雜度"></a>複雜度</h2><p>Manacher algorithm 的最差情況，即是「毫無資訊可利用」的情形（不存在迴文），<br>即便無資訊可用，使 $i$ 必須逐步配對，也會使得 $m$ 逐漸遞增。<br>（此一情況下，會有 $m = i$ 的關係）</p>
<p>由於僅需要掃描一次原字串，Manacher algorithm 複雜度為 $O(n)$</p>
<h2 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h2><div class="note info">
            <p>建議利用相同的測資，比較窮舉與策略的速度差異。</p>
          </div>
<iframe scrolling="no" width="100%" height="230px" src="//jsfiddle.net/uc3vyr6f/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="迴文子序列：窮舉"><a href="#迴文子序列：窮舉" class="headerlink" title="迴文子序列：窮舉"></a>迴文子序列：窮舉</h1><div class="note info">
            <p>字串可以看作是字元的序列。</p>
          </div>
<p>迴文子序列的暴力破解比子字串更糟糕，<br>原因在於，子序列的條件比子字串更寬鬆， 以至於任意長度字串的子序列數量極多。</p>
<p>窮舉的邏輯跟子字串是一樣的：找到所有的子序列，並且檢測迴文。<br>跟子字串不一樣的地方是：沒辦法利用傳入字串參考及兩個註標來解決生成一堆子序列。</p>
<p>以 ABCD 三個字元為例：</p>
<ul>
<li>長度為 0 時，存在 1 個子序列：&Oslash;</li>
<li>長度為 1 時，存在 4 個子序列：A, B, C, D</li>
<li>長度為 2 時，存在 6 個子序列：AB, AC, AD, BC, BD, CD</li>
<li>長度為 3 時，存在 4 個子序列：ABC, ABD, ACD, BCD</li>
<li>長度為 4 時，存在 1 個子序列：ABCD</li>
</ul>
<p>不難發現，其實存在的關係跟排列組合中的組合有關，<br>當原字串長度為 $n$ 時，子序列的數量是：</p>
<p>$\sum\limits_{k = 0}^{n}\binom{n}{k}$</p>
<p>以剛剛的例子來說：</p>
<p>$\because n = 4$</p>
<p>$\therefore \sum\limits_{k = 0}^{4}\binom{4}{k}$</p>
<p>$\sum\limits_{k = 0}^{4}\binom{4}{k} = \binom{4}{0} + \binom{4}{1} + \binom{4}{2} + \binom{4}{3} + \binom{4}{4}$</p>
<p>$= 1+4+6+4+1 = 16$</p>
<p>從另一角度看，子序列的問題其實就是這堆字取任意個有多少種取法，<br>以 “ABCD” 來說，以 0 表示不取、以 1 表示有取到的話：</p>
<table style="height: 229px; width: 283px;"><tr><th style="width: 20px;">A</th><th style="width: 20px;">B</th><th style="width: 20px;">C</th><th style="width: 20px;">D</th><th>Subsequence</th></tr><tr><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 68px;">&Oslash;</td></tr><tr style="text-align: center;"><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td>D </td></tr><tr style="text-align: center;"><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td>C </td></tr><tr style="text-align: center;"><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td>CD </td></tr><tr style="text-align: center;"><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td>B </td></tr><tr style="text-align: center;"><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td>BD </td></tr><tr style="text-align: center;"><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td>BC </td></tr><tr style="text-align: center;"><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td>BCD </td></tr><tr style="text-align: center;"><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td>A </td></tr><tr style="text-align: center;"><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td>AD </td></tr><tr style="text-align: center;"><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td>AC </td></tr><tr style="text-align: center;"><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td>ACD </td></tr><tr style="text-align: center;"><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">0</td><td>AB </td></tr><tr style="text-align: center;"><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td style="width: 20px;">1</td><td>ABD </td></tr><tr style="text-align: center;"><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">0</td><td>ABC </td></tr><tr><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 20px;">1</td><td style="width: 68px;">ABCD </td></tr></table>

<p>同時它也長的像二進位的真值表，<br>更進一步的解釋了：$\sum\limits_{k = 0}^{n}\binom{k}{n} = 2^{n}$</p>
<p>要證明這件事情，我們得從二項式定理開始：<br>$(x + y)^{n} = \sum\limits_{k = 0}^{n} x^{k}y^{(n - k)}\binom{k}{n}$</p>
<p>只要令 $x = 1, y = 1$ 則：<br>$(1 + 1)^{n} = \sum\limits_{k = 0}^{n} 1^{k}1^{(n - k)}\binom{k}{n} = 2^{n}$</p>
<p>換言之，對於長度為 $n$ 的原字串來說，存在 $2^{n}$ 種子序列。<br>利用遞迴關係，可以很簡單的找到所有的子序列：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 利用遞迴關係取得子序列</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getSubseq</span><span class="params">(<span class="built_in">string</span> subseq, <span class="built_in">string</span> str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 若子序列不為空集合，則處理</span></span><br><span class="line">    <span class="keyword">if</span>(subseq != <span class="string">""</span>) process(subseq);</span><br><span class="line">    <span class="comment">// 將子序列增加一個字元，其字元後的子字串傳到下一層</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++)</span><br><span class="line">        getSubseq(subseq + str[i], str.substr(i, str.length()));</span><br><span class="line">&#125;</span><br><span class="line">getSubseq(<span class="string">""</span>, <span class="string">"ABC"</span>); <span class="comment">// 調用時</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>對於檢查迴文，使用子字串中提供的第一種檢查方法（也是一般的檢查法）較簡單。</p>
<h2 id="複雜度-2"><a href="#複雜度-2" class="headerlink" title="複雜度"></a>複雜度</h2><p>我們在上面已經曉得，<br>長度為 $n$ 的序列，子序列的數量為：$\sum\limits_{k = 0}^{n}\binom{k}{n} = 2^{n}$</p>
<p>在組合構成的多項式每一項 $\binom{k}{n}$ 都是子字串的數量，<br>透過變數 $k$ 可以抓到子序列的長度（檢測迴文需要一半長度），<br>於是複雜度是：$\sum\limits_{k = 0}^{n} \frac{1}{2}k\binom{k}{n}$</p>
<p>由於已知光是子序列數量 $\sum\limits_{k = 0}^{n}\binom{k}{n} = 2^{n} = O(2^{n})$</p>
<p>$\sum\limits_{k = 0}^{n} \frac{1}{2}k\binom{k}{n}$ 複雜度必超過 $O(2^{n})$</p>
<p>因此算法並不堪用，得另尋出路！</p>
<div class="note warning">
            <p>注意！與子字串相同，長度 $\frac{1}{2} k$ 不一定為偶數，應討論其奇偶性。</p>
          </div>
<h2 id="演示-2"><a href="#演示-2" class="headerlink" title="演示"></a>演示</h2><div class="note warning">
            <p>由於時間複雜度高，輸入太長的測資容易當機。</p>
          </div>
<iframe scrolling="no" width="100%" height="230px" src="//jsfiddle.net/qu8j1nda/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="迴文子序列：策略"><a href="#迴文子序列：策略" class="headerlink" title="迴文子序列：策略"></a>迴文子序列：策略</h1><p>由於子序列數量實在增長的很快，有沒有其他方法呢？<br>使用動態規劃可以有效解決這個問題：</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="background-color: #ffdddd; width: 15px; text-align: center;">A</td><td style="width: 15px; text-align: center;">?</td><td style="width: 15px; text-align: center;">?</td><td style="width: 15px; text-align: center;">?</td><td style="background-color: #ffdddd; width: 15px; text-align: center;">C</td></tr><tr><th style="width: 46.4px;">Index</th><td style="background-color: #ffdddd; width: 15px; text-align: center;">0</td><td style="width: 15px; text-align: center;">1</td><td style="width: 15px; text-align: center;">2</td><td style="width: 15px; text-align: center;">3</td><td style="background-color: #ffdddd; width: 15px; text-align: center;">4</td></tr></table>

<p>考慮上表，也就是一個長度為 5 的字串。</p>
<p>透過註標 0 及註標 4 的字元不相等這件事情，<br>我們可以肯定的說，最長迴文子序列的長度不會是 5</p>
<p>那麼，有沒有可能長度為 4 呢？<br>如果已知註標 0 及註標 4 的字元不相等，且長度為 4 此事為真，<br>則註標 3 可能為 A 或者註標 1 為 C</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="background-color: #ffdd99; width: 15px; text-align: center;">A</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">A</td><td style="width: 15px; text-align: center;">C</td></tr><tr><th style="width: 46.4px;">Index</th><td style="background-color: #ffdd99; width: 15px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">3</td><td style="width: 15px; text-align: center;">4</td></tr></table>

<p>或</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="width: 15px; text-align: center;">A</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">C</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">C</td></tr><tr><th style="width: 46.4px;">Index</th><td style="width: 15px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">4</td></tr></table>

<p>因為我們還不知道註標 3 及註標 1 的字元，我們可以肯定的是：<br>最長迴文子序列應該是「註標 0 到註標 3」或「註標 1 到註標 4」其中一個較大的。</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="width: 15px; text-align: center;">A</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">C</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">A</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">A</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">C</td></tr><tr><th style="width: 46.4px;">Index</th><td style="width: 15px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">4</td></tr></table>

<p>上表顯示出一種可能：<br>「註標 0 到註標 3」的最長迴文子序列長度為 3<br>「註標 1 到註標 4」的最長迴文子序列長度為 4<br>則「註標 0 到註標 4」的最長迴文子序列長度就會是 4 </p>
<p>我們觀察了第一種字元不相等的情況，那如果相等呢？</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="background-color: #ffdd99; width: 15px; text-align: center;">A</td><td style="width: 15px; text-align: center;">?</td><td style="width: 15px; text-align: center;">?</td><td style="width: 15px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">A</td></tr><tr><th style="width: 46.4px;">Index</th><td style="background-color: #ffdd99; width: 15px; text-align: center;">0</td><td style="width: 15px; text-align: center;">1</td><td style="width: 15px; text-align: center;">2</td><td style="width: 15px; text-align: center;">3</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">4</td></tr></table>

<p>此時我們可以肯定，至少最長迴文子序列為 2<br>記得子字串、子序列的差異，這邊暗示如果註標 1 到註標 3 的字元通通不取，<br>則子序列為 “AA” 就是長度為 2 的迴文。</p>
<p>一旦字元相等，我們就保證長度至少為 2 還要在加上「註標 1 到註標 3」最長的長度。  </p>
<p>考慮下表的情況，由於註標 0 及註標 4 字元相等，<br>則保證長度為 2 + 「註標 1 到註標 3 最長迴文子序列的長度」<br>這個情況下，長度就是 2 + 3 = 5</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="width: 15px; text-align: center;">A</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">B</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">?</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">B</td><td style="width: 15px; text-align: center;">A</td></tr><tr><th style="width: 46.4px;">Index</th><td style="width: 15px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">2</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">3</td><td style="width: 15px; text-align: center;">4</td></tr></table>

<p>如果實際下去比對，還有兩種情況：<br>其一是「註標 2 到註標 2 最長迴文子序列的長度」<br>由於只有一個字元，當註標相同時，必為 1</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="width: 15px; text-align: center;">A</td><td style="width: 15px; text-align: center;">B</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">C</td><td style="width: 15px; text-align: center;">B</td><td style="width: 15px; text-align: center;">A</td></tr><tr><th style="width: 46.4px;">Index</th><td style="width: 15px; text-align: center;">0</td><td style="width: 15px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">2</td><td style="width: 15px; text-align: center;">3</td><td style="width: 15px; text-align: center;">4</td></tr></table>

<p>最後一種情形是「註標 1 到註標 2 最長迴文子序列的長度」<br>在碰到兩個字元相等時，根據上面的想法：<br>會變成 2 + 「註標 2 到註標 1 最長迴文子序列的長度」</p>
<p>很顯然地，「註標 2 到註標 1 最長迴文子序列的長度」是不被接受的，<br>這種情況只能給出長度 2 當作答案：</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="width: 15px; text-align: center;">A</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">B</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">B</td><td style="width: 15px; text-align: center;">D</td><td style="width: 15px; text-align: center;">C</td></tr><tr><th style="width: 46.4px;">Index</th><td style="width: 15px; text-align: center;">0</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">1</td><td style="background-color: #ffdd99; width: 15px; text-align: center;">2</td><td style="width: 15px; text-align: center;">3</td><td style="width: 15px; text-align: center;">4</td></tr></table>

<p>根據上述一些推理，可以得到一些結論。</p>
<p>假設：</p>
<ul>
<li>原字串長度為 $n$</li>
<li>註標 $i$ 及註標 $j$ 存在 $i \leq j$</li>
<li>原字串第 $i$ 個字元為 $S_{i}$ </li>
<li>從註標 $i$ 到註標 $j$ 的最長迴文子序列長度為 $P_{i, j}$</li>
</ul>
<p>則：</p>
<ul>
<li>當 $S_{i} \neq S_{j}$ 且 $i \neq j$ 則 $P_{i, j} = max(P_{i + 1, j}, P_{i, j - 1})$</li>
<li>當 $S_{i} = S_{j}$ 且 $|i - j| &gt; 1$ 則 $P_{i, j} = P_{i + 1, j - 1}$</li>
<li>當 $S_{i} = S_{j}$ 且 $|i - j| = 1$ 則 $P_{i, j} = 2$</li>
<li>當 $i = j$ 則 $P_{i, j} = 1$</li>
</ul>
<div class="note info">
            <p>條件 $|i - j| &gt; 1$ 或 $|i - j| = 1$ 都隱含著 $i \neq j$ 這個關係</p>
          </div>
<p>簡潔地表示：</p>
<ul>
<li>
$P_{i, j} = \left\{\begin{array}{l}
max(P_{i + 1, j}, P_{i, j - 1}) && \text{if } S_{i} \neq S_{j}, i \neq j \\
P_{i, j} = P_{i + 1, j - 1} && \text{if } S_{i} = S_{j}, |i - j| > 1 \\
2 && \text{if } S_{i} = S_{j}, |i - j| = 1 \\
1 && \text{if } i = j
\end{array}\right .$

</li>
</ul>
<p>看一個實際的例子，參考下表：<br>（例子已將可能的四種情況納入，表格內的 $P_{i, j}$ 將寫為 Pij）</p>
<table style="width: 298px;"><tr><th style="width: 46.4px;">String</th><td style="width: 15px; text-align: center;">A</td><td style="width: 15px; text-align: center;">B</td><td style="width: 15px; text-align: center;">A</td><td style="width: 15px; text-align: center;">C</td><td style="width: 15px; text-align: center;">C</td></tr><tr><th style="width: 46.4px;">Index</th><td style="width: 15px; text-align: center;">0</td><td style="width: 15px; text-align: center;">1</td><td style="width: 15px; text-align: center;">2</td><td style="width: 15px; text-align: center;">3</td><td style="width: 15px; text-align: center;">4</td></tr></table>

<p>我們的目標是找到 $P_{0, 4}$<br>由於 $S_{0} \neq S_{4}$ 且 $i \neq j$ 所以：</p>
<p>$P_{0, 4} = max(P_{1, 4}, P_{0, 3})$（規則一）</p>
<p>對於 $P_{1, 4}$ 的部份：<br>$P_{1, 4} = max(P_{2, 4}, P_{1, 3})$（規則一）<br>$P_{2, 4} = max(P_{3, 4}, P_{2, 3})$（規則一）<br>$P_{1, 3} = max(P_{2, 3}, P_{1, 2})$（規則一）<br>$P_{3, 4} = 2$（規則四 $\because S_{3} = S_{4}, |3 - 4| = 1$）<br>$P_{2, 3} = max(P_{3, 3}, P_{2, 2}) = 1$（規則一）<br>$P_{1, 2} = max(P_{2, 2}, P_{1, 1}) = 1$（規則一）<br>$P_{1, 1} = P_{2, 2} = P_{3, 3} = 1$（規則三）</p>
<p>對於 $P_{0, 3}$ 的部份：<br>$P_{0, 3} = max(P_{1, 3}, P_{0, 2})$（規則一）<br>$P_{1, 3} = max(P_{2, 3}, P_{1, 2})$（規則一）<br>$P_{2, 3} = max(P_{3, 3}, P_{2, 2}) = 1$（規則一）<br>$P_{1, 2} = max(P_{2, 2}, P_{1, 1}) = 1$（規則一）<br>$P_{1, 1} = P_{2, 2} = P_{3, 3} = 1$（規則三）<br>$P_{0, 2} = 2 + P_{1, 1} = 3$（規則二）</p>
<p>所以 $P_{0, 4} = 3$</p>
<p>程式碼的部份，利用遞迴可以輕易達成：<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...                                                  <span class="comment">// 初始化或輸入</span></span><br><span class="line"><span class="keyword">int</span> **p = <span class="keyword">new</span> <span class="keyword">int</span>* [str.length()];                   <span class="comment">// 建立儲存表</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++)</span><br><span class="line">&#123;</span><br><span class="line">    p[i] = <span class="keyword">new</span> <span class="keyword">int</span> [str.length()];</span><br><span class="line">    <span class="built_in">memset</span>(p[i], <span class="number">-1</span>, <span class="keyword">sizeof</span>(p[i]));                  <span class="comment">// 初始化儲存表為 -1</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// 動態規劃找最長迴文子序列</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LPS</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[i][j] &gt; <span class="number">0</span>) <span class="keyword">return</span> p[i][j];                  <span class="comment">// 若有儲存則直接使用</span></span><br><span class="line">    <span class="keyword">if</span>(i == j)                                       <span class="comment">// 若只有一字元</span></span><br><span class="line">        p[i][j] = <span class="number">1</span>;                                 <span class="comment">// 長度為 1</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(i + <span class="number">1</span> == j &amp;&amp; str[i] == str[j])          <span class="comment">// 只有兩字元，且兩字元一樣</span></span><br><span class="line">        p[i][j] = <span class="number">2</span>;                                 <span class="comment">// 長度為 2</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(i != j &amp;&amp; str[i] == str[j])              <span class="comment">// 首、尾字元相等</span></span><br><span class="line">        p[i][j] = LPS(s, i + <span class="number">1</span>, j - <span class="number">1</span>) + <span class="number">2</span>;          <span class="comment">// 長度至少為 2 還要加上內部的最大長度</span></span><br><span class="line">    <span class="keyword">else</span> <span class="comment">//(i != j &amp;&amp; str[i] != str[j])              // 首、尾字元相異</span></span><br><span class="line">        p[i][j] = max(LPS(i + <span class="number">1</span>, j), LPS(i, j - <span class="number">1</span>)); <span class="comment">// 長度為刪除首、尾字元其一後的最大長度</span></span><br><span class="line">    <span class="keyword">return</span> p[i][j];                                  <span class="comment">// 回傳長度</span></span><br><span class="line">&#125;</span><br><span class="line">LPS(<span class="number">0</span>, str.length() - <span class="number">1</span>);                            <span class="comment">// 調用時</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<div class="note warning">
            <p>調用時，因為傳入值為註標，第二個參數應為「str.length() - 1」而非「str.length()」。</p>
          </div>
<h2 id="複雜度-3"><a href="#複雜度-3" class="headerlink" title="複雜度"></a>複雜度</h2><p>如果採用遞迴的方法處理（即沒紀錄重複計算的部份），<br>這個算法的複雜度也相當高：</p>
<p>僅考慮最糟情況，也就是不斷計算 $P_{i, j} = max(P_{i + 1, j}, P_{i, j - 1})$ 的狀況，<br>令長度 $n = j - i + 1$ 則有 $T(n) = 2T(n - 1), \forall n \in N^{0}$ 的遞迴式。</p>
<p>透過猜測複雜度來解遞迴式的方法：<br>我們先猜測複雜度為 $O(n^{2})$</p>
<p>假設 $\forall c &gt; 0, T(n) = 2T(n - 1), T(n - 1) \leq c(n - 1)^{2}$<br>則 $T(n) = 2T(n - 1) \leq 2c(n - 1)^{2} \leq cn^{2}$<br>有 $2cn^{2} - 4cn + 1 \leq cn^{2}$</p>
<p>假設不成立，顯然 $T(n) &gt; O(n^{2})$</p>
<p>這次改假設為 $T(n) = O(2^{n})$<br>假設 $\forall c &gt; 0, T(n) = 2T(n - 1), T(n - 1) \leq c2^{(n - 1)}$<br>則 $T(n) = 2T(n - 1) \leq 2c(2)^{n - 1} \leq c2^{n}$<br>有 $c2^{n} \leq c2^{n}$ 假設成立，<br>且可知道對於 $c = 1$ 只要 $n_{0} = 1$ 就有 $T(n) = O(2^{n})$</p>
<div class="note warning">
            <p>注意！完整的遞迴式原先應標記在 $n \leq k$ 的情況下 $T(n) = O(1)$<br>故此處隱含了當 $n$ 足夠小，則複雜度為 $O(1)$ 的概念，<br>此外從式中可知 $n_{0} = 0$ 時 $T(n_{0} - 1) = T(-1)$ 是未定義的。</p>
          </div>
<p>做最後一步確認，透過遞迴樹如圖 1：  </p>
<p><img src="https://i.imgur.com/jNptBcw.png" alt="圖 1、遞迴樹"></p>
<p>已知深度為 $k$ 且根節點層為 $1$ 的二元樹有 $2^{k-1}$ 個葉節點，<br>則由於 $T(n) = 2T(n - 1)$ 每次讓 $n$ 遞減，二元樹層數為 $n$ 則葉節點數目為 $2^{n-1}$<br>經累計則可確認，若以不紀錄的方式遞歸，複雜度會達到 $O(2^{n})$</p>
<p>若經紀錄，則會避開重複計算的節點（如上例中的 $P_{1, 1}, P_{2, 2}, P_{3, 3}$）<br>相當於在二維陣列中填表，且只需要填入 $i \leq j$ 的部份即可。</p>
<p>此時，最糟情況下，每次填入都須依賴 $P_{i, j}, i = j$ 的值（對角線）<br>但，至多也只需要填入 $\frac{1}{2} n^{2}$ 個位置，則複雜度為 $O(n^{2})$</p>
<h2 id="演示-3"><a href="#演示-3" class="headerlink" title="演示"></a>演示</h2><div class="note info">
            <p>取得最長序列的方法，可以改變 p[i][j] 同時記錄長度及序列；本演示即是如此。</p>
          </div>
<iframe scrolling="no" width="100%" height="230px" src="//jsfiddle.net/o28vt6cc/embedded/result,js,html,css/dark" frameborder="0" allowfullscreen></iframe>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://en.wikipedia.org/wiki/Substring" target="_blank" rel="noopener">Wikipedia: Substring</a></li>
<li><a href="https://en.wikipedia.org/wiki/Subsequence" target="_blank" rel="noopener">Wikipedia: Subsequence</a></li>
<li><a href="https://en.wikipedia.org/wiki/Longest_palindromic_substring" target="_blank" rel="noopener">Wikipedia: Longest Palindromic Substring</a></li>
<li><a href="http://www.csie.ntnu.edu.tw/~u91029/Palindrome.html" target="_blank" rel="noopener">演算法筆記：迴文</a></li>
<li><a href="http://algorithms.tutorialhorizon.com/longest-palindromic-subsequence/" target="_blank" rel="noopener">Algorithms @tutorialhorizo​​n</a></li>
<li><a href="https://wcipeg.com/wiki/Longest_palindromic_subsequence" target="_blank" rel="noopener">PEGWiki: Longest Palindromic Subsequence</a></li>
<li><a href="https://www.felix021.com/blog/read.php?2040" target="_blank" rel="noopener">Felix021：Manacher’s ALGORITHM: O(n)时间求字符串的最长回文子串</a></li>
<li>《算法導論》（第 2 章到第 4 章，主要用於參考「分析遞迴關係式」）</li>
</ul>
]]></content>
      <categories>
        <category>資料結構與演算法</category>
      </categories>
  </entry>
  <entry>
    <title>寶可夢本傳：三防排名表</title>
    <url>/pokemon-tdv-sorted-list/</url>
    <content><![CDATA[<p>原本這表是要貼在另外一篇的，不過怕影響另一篇的閱讀，就移過來了。<br>資料是透過 Python 搭配 SQLite3 算出來的，而演算法是採用原始三防公式，全部投資三防並最大化的結果。<br><a id="more"></a></p>
<h1 id="三防指數排名"><a href="#三防指數排名" class="headerlink" title="三防指數排名"></a>三防指數排名</h1><table><tr><th>編號</th><th>名稱</th><th>個性</th><th>HP 種族</th><th>DE 種族</th><th>SD 種族</th><th>HP 努力</th><th>DE 努力</th><th>SD 努力</th><th>TDV 三防</th><th>輝石</th><th>戰鬥</th></tr><tr><td>718</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/718.png">基格爾德（完全體形態）</td><td>+sd</td><td>216</td><td>121</td><td>95</td><td>180</td><td>116</td><td>212</td><td>24492.000</td><td></td><td></td></tr><tr><td>113</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/113.png">吉利蛋</td><td>+de</td><td>250</td><td>5</td><td>105</td><td>252</td><td>252</td><td>4</td><td>22411.527</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>487</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/487.png">騎拉帝納（別種形態）</td><td>+de</td><td>150</td><td>120</td><td>120</td><td>252</td><td>76</td><td>180</td><td>21073.216</td><td></td><td></td></tr><tr><td>772</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/772.png">屬性：空</td><td>+de</td><td>95</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>20867.478</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>249</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/249.png">洛奇亞</td><td>+de</td><td>106</td><td>130</td><td>154</td><td>252</td><td>156</td><td>100</td><td>19915.500</td><td></td><td></td></tr><tr><td>790</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/790.png">科斯莫姆</td><td>+de</td><td>43</td><td>131</td><td>131</td><td>252</td><td>68</td><td>188</td><td>19741.935</td><td><img src="/images/pm/obj/-27.gif"></td><td></td></tr><tr><td>233</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/233.png">多邊獸Ⅱ</td><td>+de</td><td>85</td><td>90</td><td>95</td><td>252</td><td>156</td><td>100</td><td>19457.734</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>112</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/112.png">鑽角犀獸</td><td>+sd</td><td>105</td><td>120</td><td>45</td><td>252</td><td>4</td><td>252</td><td>19291.429</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>356</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/356.png">彷徨夜靈</td><td>+de</td><td>40</td><td>130</td><td>130</td><td>252</td><td>76</td><td>180</td><td>19228.947</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>488</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/488.png">克雷色利亞</td><td>+de</td><td>120</td><td>120</td><td>130</td><td>252</td><td>156</td><td>100</td><td>19209.959</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>446</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/446.png">小卡比獸</td><td>+de</td><td>135</td><td>40</td><td>85</td><td>204</td><td>252</td><td>52</td><td>18781.132</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>493</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/493.png">阿爾宙斯</td><td>+de</td><td>120</td><td>120</td><td>120</td><td>252</td><td>76</td><td>180</td><td>18613.308</td><td></td><td></td></tr><tr><td>248</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/248.png">班基拉斯（超級進化）</td><td>+sd</td><td>100</td><td>150</td><td>120</td><td>252</td><td>20</td><td>236</td><td>18601.825</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>487</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/487.png">騎拉帝納（起源形態）</td><td>+de</td><td>150</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>18375.500</td><td></td><td></td></tr><tr><td>379</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/379.png">雷吉斯奇魯</td><td>+de</td><td>80</td><td>150</td><td>150</td><td>252</td><td>76</td><td>180</td><td>18276.261</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>531</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/531.png">差不多娃娃（超級進化）</td><td>+de</td><td>103</td><td>126</td><td>126</td><td>252</td><td>108</td><td>148</td><td>17883.871</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>208</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/208.png">大鋼蛇（超級進化）</td><td>+sd</td><td>75</td><td>230</td><td>95</td><td>252</td><td>4</td><td>252</td><td>17851.461</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>378</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/378.png">雷吉艾斯</td><td>+de</td><td>80</td><td>100</td><td>200</td><td>252</td><td>252</td><td>4</td><td>17787.652</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>377</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/377.png">雷吉洛克</td><td>+sd</td><td>80</td><td>200</td><td>100</td><td>252</td><td>4</td><td>252</td><td>17787.652</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>213</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/213.png">壺壺</td><td>+de</td><td>20</td><td>230</td><td>230</td><td>252</td><td>76</td><td>180</td><td>17738.651</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>250</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/250.png">鳳王</td><td>+de</td><td>106</td><td>90</td><td>154</td><td>252</td><td>252</td><td>4</td><td>17567.674</td><td></td><td></td></tr><tr><td>383</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/383.png">固拉多（原始）</td><td>+sd</td><td>100</td><td>160</td><td>90</td><td>252</td><td>4</td><td>252</td><td>17343.774</td><td></td><td></td></tr><tr><td>382</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/382.png">蓋歐卡（原始）</td><td>+de</td><td>100</td><td>90</td><td>160</td><td>252</td><td>252</td><td>4</td><td>17343.774</td><td></td><td></td></tr><tr><td>221</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/221.png">長毛豬</td><td>+sd</td><td>100</td><td>80</td><td>60</td><td>252</td><td>92</td><td>164</td><td>17317.558</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>143</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/143.png">卡比獸</td><td>+de</td><td>160</td><td>65</td><td>110</td><td>252</td><td>252</td><td>4</td><td>17285.931</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>108</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/108.png">大舌頭</td><td>+de</td><td>90</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>17255.179</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>792</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/792.png">露奈雅拉</td><td>+de</td><td>137</td><td>89</td><td>107</td><td>252</td><td>164</td><td>92</td><td>17198.539</td><td></td><td></td></tr><tr><td>791</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/791.png">索爾迦雷歐</td><td>+sd</td><td>137</td><td>107</td><td>89</td><td>252</td><td>92</td><td>164</td><td>17198.539</td><td></td><td></td></tr><tr><td>242</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/242.png">幸福蛋</td><td>+de</td><td>255</td><td>10</td><td>135</td><td>252</td><td>252</td><td>4</td><td>17143.286</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>80</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/80.png">呆殼獸（超級進化）</td><td>+sd</td><td>95</td><td>180</td><td>80</td><td>252</td><td>4</td><td>252</td><td>17015.289</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>380</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/380.png">拉帝亞斯（超級進化）</td><td>+de</td><td>80</td><td>120</td><td>150</td><td>252</td><td>236</td><td>20</td><td>16804.547</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>176</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/176.png">波克基古</td><td>+de</td><td>55</td><td>85</td><td>105</td><td>252</td><td>196</td><td>60</td><td>16735.304</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>680</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/680.png">雙劍鞘</td><td>+sd</td><td>59</td><td>150</td><td>49</td><td>252</td><td>4</td><td>252</td><td>16716.436</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>486</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/486.png">雷吉奇卡斯</td><td>+de</td><td>110</td><td>110</td><td>110</td><td>252</td><td>76</td><td>180</td><td>16654.573</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>600</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/600.png">齒輪組</td><td>+sd</td><td>60</td><td>95</td><td>85</td><td>252</td><td>140</td><td>116</td><td>16595.940</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>375</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/375.png">金屬怪</td><td>+sd</td><td>60</td><td>100</td><td>80</td><td>252</td><td>100</td><td>156</td><td>16595.940</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>411</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/411.png">護城龍</td><td>+sd</td><td>60</td><td>168</td><td>138</td><td>252</td><td>84</td><td>172</td><td>16574.645</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>197</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/197.png">月亮伊布</td><td>+de</td><td>95</td><td>110</td><td>130</td><td>252</td><td>156</td><td>100</td><td>16563.384</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>305</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/305.png">可多拉</td><td>+sd</td><td>60</td><td>140</td><td>50</td><td>252</td><td>4</td><td>252</td><td>16531.775</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>130</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/130.png">暴鯉龍（超級進化）</td><td>+de</td><td>95</td><td>109</td><td>130</td><td>252</td><td>164</td><td>92</td><td>16512.110</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>364</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/364.png">海魔獅</td><td>+de</td><td>90</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>16480.961</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>245</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/245.png">水君</td><td>+de</td><td>100</td><td>115</td><td>115</td><td>252</td><td>116</td><td>140</td><td>16433.066</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>207</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/207.png">天蠍</td><td>+sd</td><td>65</td><td>105</td><td>65</td><td>252</td><td>12</td><td>244</td><td>16424.199</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>799</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/799.png">惡食大王</td><td>+de</td><td>223</td><td>53</td><td>53</td><td>4</td><td>252</td><td>252</td><td>16411.023</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>383</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/383.png">固拉多</td><td>+sd</td><td>100</td><td>140</td><td>90</td><td>252</td><td>4</td><td>252</td><td>16400.669</td><td></td><td></td></tr><tr><td>382</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/382.png">蓋歐卡</td><td>+de</td><td>100</td><td>90</td><td>140</td><td>252</td><td>252</td><td>4</td><td>16400.669</td><td></td><td></td></tr><tr><td>681</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/681.png">堅盾劍怪（盾牌形態）</td><td>+de</td><td>60</td><td>150</td><td>150</td><td>252</td><td>76</td><td>180</td><td>16321.581</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>376</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/376.png">巨金怪（超級進化）</td><td>+sd</td><td>80</td><td>150</td><td>110</td><td>252</td><td>20</td><td>236</td><td>16314.544</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>718</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/718.png">基格爾德（５０％形態）</td><td>+sd</td><td>108</td><td>121</td><td>95</td><td>252</td><td>60</td><td>196</td><td>16281.815</td><td></td><td></td></tr><tr><td>705</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/705.png">黏美兒</td><td>+de</td><td>68</td><td>53</td><td>113</td><td>252</td><td>252</td><td>4</td><td>16270.789</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>306</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/306.png">波士可多拉（超級進化）</td><td>+sd</td><td>70</td><td>230</td><td>80</td><td>252</td><td>4</td><td>252</td><td>16267.462</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>717</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/717.png">伊裴爾塔爾</td><td>+de</td><td>126</td><td>95</td><td>98</td><td>252</td><td>116</td><td>140</td><td>16241.520</td><td></td><td></td></tr><tr><td>716</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/716.png">哲爾尼亞斯</td><td>+de</td><td>126</td><td>95</td><td>98</td><td>252</td><td>116</td><td>140</td><td>16241.520</td><td></td><td></td></tr><tr><td>123</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/123.png">飛天螳螂</td><td>+de</td><td>70</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>16196.223</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>386</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/386.png">代歐奇希斯（防禦型態）</td><td>+de</td><td>50</td><td>160</td><td>160</td><td>252</td><td>76</td><td>180</td><td>16167.570</td><td></td><td></td></tr><tr><td>345</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/345.png">觸手百合</td><td>+de</td><td>66</td><td>77</td><td>87</td><td>252</td><td>180</td><td>76</td><td>16112.654</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>476</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/476.png">大朝北鼻</td><td>+de</td><td>60</td><td>145</td><td>150</td><td>252</td><td>116</td><td>140</td><td>16104.684</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>299</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/299.png">朝北鼻</td><td>+sd</td><td>30</td><td>135</td><td>90</td><td>252</td><td>4</td><td>252</td><td>16029.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>289</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/289.png">請假王</td><td>+sd</td><td>150</td><td>100</td><td>65</td><td>228</td><td>44</td><td>236</td><td>16002.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>646</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/646.png">酋雷姆（焰白酋雷姆）</td><td>+de</td><td>125</td><td>90</td><td>100</td><td>252</td><td>156</td><td>100</td><td>15986.986</td><td></td><td></td></tr><tr><td>646</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/646.png">酋雷姆（闇黑酋雷姆）</td><td>+sd</td><td>125</td><td>100</td><td>90</td><td>252</td><td>100</td><td>156</td><td>15986.986</td><td></td><td></td></tr><tr><td>445</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/445.png">烈咬陸鯊（超級進化）</td><td>+sd</td><td>108</td><td>115</td><td>95</td><td>252</td><td>60</td><td>196</td><td>15941.852</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>388</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/388.png">樹林龜</td><td>+sd</td><td>75</td><td>85</td><td>65</td><td>252</td><td>60</td><td>196</td><td>15941.333</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>644</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/644.png">捷克羅姆</td><td>+sd</td><td>100</td><td>120</td><td>100</td><td>252</td><td>100</td><td>156</td><td>15887.081</td><td></td><td></td></tr><tr><td>643</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/643.png">萊希拉姆</td><td>+de</td><td>100</td><td>100</td><td>120</td><td>252</td><td>156</td><td>100</td><td>15887.081</td><td></td><td></td></tr><tr><td>483</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/483.png">帝牙盧卡</td><td>+sd</td><td>100</td><td>120</td><td>100</td><td>252</td><td>100</td><td>156</td><td>15887.081</td><td></td><td></td></tr><tr><td>260</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/260.png">巨沼怪（超級進化）</td><td>+de</td><td>100</td><td>110</td><td>110</td><td>252</td><td>76</td><td>180</td><td>15887.081</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>480</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/480.png">由克希</td><td>+de</td><td>75</td><td>130</td><td>130</td><td>252</td><td>76</td><td>180</td><td>15878.327</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>723</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/723.png">投羽梟</td><td>+sd</td><td>78</td><td>75</td><td>70</td><td>252</td><td>100</td><td>156</td><td>15840.962</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>436</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/436.png">銅鏡怪</td><td>+de</td><td>57</td><td>86</td><td>86</td><td>252</td><td>108</td><td>148</td><td>15784.894</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>555</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/555.png">達摩狒狒（達摩模式）</td><td>+de</td><td>105</td><td>105</td><td>105</td><td>252</td><td>116</td><td>140</td><td>15719.407</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>533</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/533.png">鐵骨土人</td><td>+sd</td><td>85</td><td>85</td><td>50</td><td>252</td><td>20</td><td>236</td><td>15694.679</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>737</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/737.png">蟲電寶</td><td>+sd</td><td>57</td><td>95</td><td>75</td><td>252</td><td>60</td><td>196</td><td>15660.283</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>42</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/42.png">大嘴蝠</td><td>+de</td><td>75</td><td>70</td><td>75</td><td>252</td><td>156</td><td>100</td><td>15584.082</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>630</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/630.png">禿鷹娜</td><td>+sd</td><td>110</td><td>105</td><td>95</td><td>252</td><td>140</td><td>116</td><td>15515.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>373</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/373.png">暴飛龍（超級進化）</td><td>+sd</td><td>95</td><td>130</td><td>90</td><td>252</td><td>20</td><td>236</td><td>15503.336</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>3</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/3.png">妙蛙花（超級進化）</td><td>+sd</td><td>80</td><td>123</td><td>120</td><td>252</td><td>180</td><td>76</td><td>15474.109</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>541</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/541.png">寶包繭</td><td>+sd</td><td>55</td><td>90</td><td>80</td><td>252</td><td>100</td><td>156</td><td>15469.304</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>131</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/131.png">拉普拉斯</td><td>+de</td><td>130</td><td>80</td><td>95</td><td>252</td><td>156</td><td>100</td><td>15401.354</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>646</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/646.png">酋雷姆</td><td>+de</td><td>125</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>15369.781</td><td></td><td></td></tr><tr><td>144</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/144.png">急凍鳥</td><td>+de</td><td>90</td><td>100</td><td>125</td><td>252</td><td>236</td><td>20</td><td>15369.776</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>248</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/248.png">班基拉斯</td><td>+sd</td><td>100</td><td>110</td><td>100</td><td>252</td><td>100</td><td>156</td><td>15348.667</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>719</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/719.png">蒂安希</td><td>+de</td><td>50</td><td>150</td><td>150</td><td>252</td><td>76</td><td>180</td><td>15344.240</td><td></td><td></td></tr><tr><td>703</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/703.png">小碎鑽</td><td>+de</td><td>50</td><td>150</td><td>150</td><td>252</td><td>76</td><td>180</td><td>15344.240</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>202</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/202.png">果然翁</td><td>+de</td><td>190</td><td>58</td><td>58</td><td>4</td><td>252</td><td>252</td><td>15326.667</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>288</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/288.png">過動猿</td><td>+sd</td><td>80</td><td>80</td><td>55</td><td>252</td><td>60</td><td>196</td><td>15285.963</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>153</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/153.png">月桂葉</td><td>+de</td><td>60</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>15281.183</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>150</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/150.png">超夢（超級進化X）</td><td>+de</td><td>106</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>15229.500</td><td></td><td></td></tr><tr><td>8</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/8.png">卡咪龜</td><td>+de</td><td>59</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>15189.678</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>598</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/598.png">堅果啞鈴</td><td>+sd</td><td>74</td><td>131</td><td>116</td><td>252</td><td>68</td><td>188</td><td>15169.524</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>384</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/384.png">烈空坐（超級進化）</td><td>+de</td><td>105</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>15158.000</td><td></td><td></td></tr><tr><td>115</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/115.png">袋獸（超級進化）</td><td>+de</td><td>105</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>15158.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>484</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/484.png">帕路奇亞</td><td>+de</td><td>90</td><td>100</td><td>120</td><td>252</td><td>156</td><td>100</td><td>15119.590</td><td></td><td></td></tr><tr><td>748</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/748.png">超壞星</td><td>+sd</td><td>50</td><td>152</td><td>142</td><td>252</td><td>116</td><td>140</td><td>15098.914</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>410</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/410.png">盾甲龍</td><td>+sd</td><td>30</td><td>118</td><td>88</td><td>252</td><td>4</td><td>252</td><td>15022.565</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>9</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/9.png">水箭龜（超級進化）</td><td>+sd</td><td>79</td><td>120</td><td>115</td><td>252</td><td>140</td><td>116</td><td>15012.446</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>648</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/648.png">美洛耶塔（歌聲形態）</td><td>+de</td><td>100</td><td>77</td><td>128</td><td>252</td><td>252</td><td>4</td><td>14996.079</td><td></td><td></td></tr><tr><td>372</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/372.png">甲殼龍</td><td>+sd</td><td>65</td><td>100</td><td>50</td><td>252</td><td>4</td><td>252</td><td>14986.178</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>634</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/634.png">雙首暴龍</td><td>+de</td><td>72</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>14975.087</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>575</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/575.png">哥德小童</td><td>+de</td><td>60</td><td>70</td><td>85</td><td>252</td><td>156</td><td>100</td><td>14954.641</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>463</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/463.png">大舌舔</td><td>+de</td><td>110</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>14953.344</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>114</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/114.png">蔓藤怪</td><td>+sd</td><td>65</td><td>115</td><td>40</td><td>252</td><td>4</td><td>252</td><td>14924.755</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>67</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/67.png">豪力</td><td>+sd</td><td>80</td><td>70</td><td>60</td><td>252</td><td>100</td><td>156</td><td>14914.766</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>651</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/651.png">胖胖哈力</td><td>+sd</td><td>61</td><td>95</td><td>58</td><td>252</td><td>4</td><td>252</td><td>14909.882</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>181</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/181.png">電龍（超級進化）</td><td>+de</td><td>90</td><td>105</td><td>110</td><td>252</td><td>116</td><td>140</td><td>14867.629</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>525</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/525.png">地幔岩</td><td>+sd</td><td>70</td><td>105</td><td>40</td><td>252</td><td>4</td><td>252</td><td>14857.068</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>801</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/801.png">瑪機雅娜</td><td>+de</td><td>80</td><td>115</td><td>115</td><td>252</td><td>116</td><td>140</td><td>14845.330</td><td></td><td></td></tr><tr><td>597</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/597.png">種子鐵球</td><td>+sd</td><td>44</td><td>91</td><td>86</td><td>252</td><td>148</td><td>108</td><td>14834.885</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>783</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/783.png">鱗甲龍</td><td>+sd</td><td>55</td><td>90</td><td>70</td><td>252</td><td>92</td><td>164</td><td>14823.662</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>629</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/629.png">禿鷹丫頭</td><td>+sd</td><td>70</td><td>75</td><td>65</td><td>252</td><td>132</td><td>124</td><td>14807.767</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>259</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/259.png">沼躍魚</td><td>+de</td><td>70</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>14807.767</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>247</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/247.png">沙基拉斯</td><td>+de</td><td>70</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>14807.767</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>494</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/494.png">比克提尼</td><td>+de</td><td>100</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>14800.500</td><td></td><td></td></tr><tr><td>492</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/492.png">謝米（陸上形態）</td><td>+de</td><td>100</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>14800.500</td><td></td><td></td></tr><tr><td>490</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/490.png">瑪納霏</td><td>+de</td><td>100</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>14800.500</td><td></td><td></td></tr><tr><td>385</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/385.png">基拉祈</td><td>+de</td><td>100</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>14800.500</td><td></td><td></td></tr><tr><td>251</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/251.png">時拉比</td><td>+de</td><td>100</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>14800.500</td><td></td><td></td></tr><tr><td>151</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/151.png">夢幻</td><td>+de</td><td>100</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>14800.500</td><td></td><td></td></tr><tr><td>706</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/706.png">黏美龍</td><td>+de</td><td>90</td><td>70</td><td>150</td><td>252</td><td>252</td><td>4</td><td>14800.190</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>797</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/797.png">鐵火輝夜</td><td>+sd</td><td>97</td><td>103</td><td>101</td><td>252</td><td>108</td><td>148</td><td>14790.351</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>485</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/485.png">席多藍恩</td><td>+de</td><td>91</td><td>106</td><td>106</td><td>252</td><td>108</td><td>148</td><td>14787.090</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>450</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/450.png">河馬獸</td><td>+sd</td><td>108</td><td>118</td><td>72</td><td>252</td><td>4</td><td>252</td><td>14779.491</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>518</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/518.png">夢夢蝕</td><td>+de</td><td>116</td><td>85</td><td>95</td><td>252</td><td>124</td><td>132</td><td>14773.540</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>208</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/208.png">大鋼蛇</td><td>+sd</td><td>75</td><td>200</td><td>65</td><td>252</td><td>4</td><td>252</td><td>14751.908</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>788</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/788.png">卡璞・鰭鰭</td><td>+de</td><td>70</td><td>115</td><td>130</td><td>252</td><td>196</td><td>60</td><td>14736.575</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>137</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/137.png">多邊獸</td><td>+de</td><td>65</td><td>70</td><td>75</td><td>252</td><td>156</td><td>100</td><td>14727.813</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>82</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/82.png">三合一磁怪</td><td>+sd</td><td>50</td><td>95</td><td>70</td><td>252</td><td>20</td><td>236</td><td>14679.080</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>350</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/350.png">美納斯</td><td>+de</td><td>95</td><td>79</td><td>125</td><td>252</td><td>252</td><td>4</td><td>14644.303</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>464</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/464.png">超甲狂犀</td><td>+sd</td><td>115</td><td>130</td><td>55</td><td>252</td><td>4</td><td>252</td><td>14634.604</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>150</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/150.png">超夢（超級進化Y）</td><td>+de</td><td>106</td><td>70</td><td>120</td><td>252</td><td>252</td><td>4</td><td>14634.262</td><td></td><td></td></tr><tr><td>729</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/729.png">花漾海獅</td><td>+de</td><td>60</td><td>69</td><td>81</td><td>252</td><td>164</td><td>92</td><td>14627.487</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>496</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/496.png">青藤蛇</td><td>+de</td><td>60</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>14627.487</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>460</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/460.png">暴雪王（超級進化）</td><td>+de</td><td>90</td><td>105</td><td>105</td><td>252</td><td>116</td><td>140</td><td>14607.185</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>159</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/159.png">藍鱷</td><td>+sd</td><td>65</td><td>80</td><td>63</td><td>252</td><td>44</td><td>212</td><td>14587.624</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>394</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/394.png">波皇子</td><td>+de</td><td>64</td><td>68</td><td>76</td><td>252</td><td>172</td><td>84</td><td>14574.616</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>75</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/75.png">隆隆石（阿羅拉）</td><td>+sd</td><td>55</td><td>115</td><td>45</td><td>252</td><td>4</td><td>252</td><td>14526.593</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>75</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/75.png">隆隆石</td><td>+sd</td><td>55</td><td>115</td><td>45</td><td>252</td><td>4</td><td>252</td><td>14526.593</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>126</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/126.png">鴨嘴火獸</td><td>+de</td><td>65</td><td>57</td><td>85</td><td>252</td><td>204</td><td>52</td><td>14525.858</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>125</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/125.png">電擊獸</td><td>+de</td><td>65</td><td>57</td><td>85</td><td>252</td><td>204</td><td>52</td><td>14525.858</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>212</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/212.png">巨鉗螳螂（超級進化）</td><td>+sd</td><td>70</td><td>140</td><td>100</td><td>252</td><td>20</td><td>236</td><td>14513.460</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>544</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/544.png">車輪毬</td><td>+sd</td><td>40</td><td>99</td><td>79</td><td>252</td><td>92</td><td>164</td><td>14489.362</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>618</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/618.png">泥巴魚</td><td>+de</td><td>109</td><td>84</td><td>99</td><td>252</td><td>140</td><td>116</td><td>14472.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>538</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/538.png">投摔鬼</td><td>+de</td><td>120</td><td>85</td><td>85</td><td>252</td><td>116</td><td>140</td><td>14453.224</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>784</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/784.png">杖尾鱗甲龍</td><td>+sd</td><td>75</td><td>125</td><td>105</td><td>252</td><td>60</td><td>196</td><td>14448.396</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>768</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/768.png">具甲武者</td><td>+sd</td><td>75</td><td>140</td><td>90</td><td>252</td><td>4</td><td>252</td><td>14419.912</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>682</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/682.png">粉香香</td><td>+de</td><td>78</td><td>60</td><td>65</td><td>252</td><td>156</td><td>100</td><td>14390.799</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>603</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/603.png">麻麻鰻</td><td>+de</td><td>65</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>14389.469</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>365</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/365.png">帝牙海獅</td><td>+de</td><td>110</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>14376.045</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>381</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/381.png">拉帝歐斯（超級進化）</td><td>+de</td><td>80</td><td>100</td><td>120</td><td>252</td><td>156</td><td>100</td><td>14352.098</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>380</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/380.png">拉帝亞斯</td><td>+de</td><td>80</td><td>90</td><td>130</td><td>252</td><td>236</td><td>20</td><td>14352.098</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>376</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/376.png">巨金怪</td><td>+sd</td><td>80</td><td>130</td><td>90</td><td>252</td><td>20</td><td>236</td><td>14352.098</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>214</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/214.png">赫拉克羅斯（超級進化）</td><td>+sd</td><td>80</td><td>115</td><td>105</td><td>252</td><td>140</td><td>116</td><td>14352.098</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>369</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/369.png">古空棘魚</td><td>+sd</td><td>100</td><td>130</td><td>65</td><td>252</td><td>4</td><td>252</td><td>14340.129</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>794</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/794.png">爆肌蚊</td><td>+sd</td><td>107</td><td>139</td><td>53</td><td>252</td><td>4</td><td>252</td><td>14318.545</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>200</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/200.png">夢妖</td><td>+de</td><td>60</td><td>60</td><td>85</td><td>252</td><td>236</td><td>20</td><td>14299.679</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>44</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/44.png">臭臭花</td><td>+de</td><td>60</td><td>70</td><td>75</td><td>252</td><td>156</td><td>100</td><td>14299.679</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>95</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/95.png">大岩蛇</td><td>+sd</td><td>35</td><td>160</td><td>45</td><td>252</td><td>4</td><td>252</td><td>14285.661</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>699</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/699.png">冰雪巨龍</td><td>+de</td><td>123</td><td>72</td><td>92</td><td>236</td><td>220</td><td>52</td><td>14268.622</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>445</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/445.png">烈咬陸鯊</td><td>+sd</td><td>108</td><td>95</td><td>85</td><td>252</td><td>140</td><td>116</td><td>14243.547</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>594</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/594.png">保母曼波</td><td>+sd</td><td>165</td><td>80</td><td>45</td><td>108</td><td>148</td><td>252</td><td>14239.804</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>468</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/468.png">波克基斯</td><td>+de</td><td>85</td><td>95</td><td>115</td><td>252</td><td>196</td><td>60</td><td>14236.444</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>458</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/458.png">小球飛魚</td><td>+de</td><td>45</td><td>50</td><td>120</td><td>252</td><td>252</td><td>4</td><td>14216.612</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>111</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/111.png">獨角犀牛</td><td>+sd</td><td>80</td><td>95</td><td>30</td><td>252</td><td>4</td><td>252</td><td>14215.631</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>526</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/526.png">龐岩怪</td><td>+sd</td><td>85</td><td>130</td><td>80</td><td>252</td><td>4</td><td>252</td><td>14202.162</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>713</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/713.png">冰岩怪</td><td>+sd</td><td>95</td><td>184</td><td>46</td><td>252</td><td>4</td><td>252</td><td>14201.506</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>499</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/499.png">炒炒豬</td><td>+de</td><td>90</td><td>55</td><td>55</td><td>220</td><td>116</td><td>172</td><td>14184.040</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>2</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/2.png">妙蛙草</td><td>+de</td><td>60</td><td>63</td><td>80</td><td>252</td><td>212</td><td>44</td><td>14163.565</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>134</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/134.png">水伊布</td><td>+de</td><td>130</td><td>60</td><td>95</td><td>244</td><td>236</td><td>28</td><td>14159.017</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>771</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/771.png">拳海參</td><td>+de</td><td>55</td><td>130</td><td>130</td><td>252</td><td>76</td><td>180</td><td>14133.456</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>640</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/640.png">畢力吉翁</td><td>+de</td><td>91</td><td>72</td><td>129</td><td>252</td><td>252</td><td>4</td><td>14123.077</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>638</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/638.png">勾帕路翁</td><td>+sd</td><td>91</td><td>129</td><td>72</td><td>252</td><td>4</td><td>252</td><td>14123.077</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>150</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/150.png">超夢</td><td>+de</td><td>106</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>14111.049</td><td></td><td></td></tr><tr><td>800</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/800.png">奈克洛茲瑪</td><td>+sd</td><td>97</td><td>101</td><td>89</td><td>252</td><td>92</td><td>164</td><td>14057.522</td><td></td><td></td></tr><tr><td>384</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/384.png">烈空坐</td><td>+de</td><td>105</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>14044.800</td><td></td><td></td></tr><tr><td>226</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/226.png">巨翅飛魚</td><td>+de</td><td>85</td><td>70</td><td>140</td><td>252</td><td>252</td><td>4</td><td>14041.383</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>320</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/320.png">吼吼鯨</td><td>+de</td><td>130</td><td>35</td><td>35</td><td>4</td><td>252</td><td>252</td><td>14038.710</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>700</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/700.png">仙子伊布</td><td>+de</td><td>95</td><td>65</td><td>130</td><td>252</td><td>252</td><td>4</td><td>13993.749</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>346</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/346.png">搖籃百合</td><td>+de</td><td>86</td><td>97</td><td>107</td><td>252</td><td>180</td><td>76</td><td>13992.832</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>750</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/750.png">重泥挽馬</td><td>+sd</td><td>100</td><td>100</td><td>85</td><td>252</td><td>60</td><td>196</td><td>13981.284</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>563</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/563.png">死神棺</td><td>+sd</td><td>58</td><td>145</td><td>105</td><td>252</td><td>28</td><td>228</td><td>13942.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>671</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/671.png">花潔夫人</td><td>+de</td><td>78</td><td>68</td><td>154</td><td>252</td><td>252</td><td>4</td><td>13920.195</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>773</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/773.png">銀伴戰獸</td><td>+de</td><td>95</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>13919.703</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>626</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/626.png">爆炸頭水牛</td><td>+de</td><td>95</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>13919.703</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>389</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/389.png">土台龜</td><td>+sd</td><td>95</td><td>105</td><td>85</td><td>252</td><td>60</td><td>196</td><td>13919.703</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>199</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/199.png">呆呆王</td><td>+de</td><td>95</td><td>80</td><td>110</td><td>252</td><td>236</td><td>20</td><td>13919.703</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>80</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/80.png">呆殼獸</td><td>+sd</td><td>95</td><td>110</td><td>80</td><td>252</td><td>20</td><td>236</td><td>13919.703</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>437</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/437.png">青銅鐘</td><td>+de</td><td>67</td><td>116</td><td>116</td><td>252</td><td>108</td><td>148</td><td>13906.406</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>149</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/149.png">快龍</td><td>+de</td><td>91</td><td>95</td><td>100</td><td>252</td><td>116</td><td>140</td><td>13905.096</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>721</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/721.png">波爾凱尼恩&lrm;</td><td>+sd</td><td>80</td><td>120</td><td>90</td><td>252</td><td>20</td><td>236</td><td>13865.704</td><td></td><td></td></tr><tr><td>481</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/481.png">艾姆利多</td><td>+de</td><td>80</td><td>105</td><td>105</td><td>252</td><td>116</td><td>140</td><td>13865.704</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>564</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/564.png">原蓋海龜</td><td>+sd</td><td>54</td><td>103</td><td>45</td><td>252</td><td>4</td><td>252</td><td>13847.861</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>79</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/79.png">呆呆獸</td><td>+sd</td><td>90</td><td>65</td><td>40</td><td>188</td><td>84</td><td>236</td><td>13812.245</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>502</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/502.png">雙刃丸</td><td>+de</td><td>75</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>13797.541</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>89</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/89.png">臭臭泥（阿羅拉）</td><td>+de</td><td>105</td><td>75</td><td>100</td><td>252</td><td>196</td><td>60</td><td>13776.738</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>89</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/89.png">臭臭泥</td><td>+de</td><td>105</td><td>75</td><td>100</td><td>252</td><td>196</td><td>60</td><td>13776.738</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>749</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/749.png">泥驢仔</td><td>+sd</td><td>70</td><td>70</td><td>55</td><td>252</td><td>60</td><td>196</td><td>13765.112</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>616</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/616.png">小嘴蝸</td><td>+sd</td><td>50</td><td>85</td><td>65</td><td>252</td><td>60</td><td>196</td><td>13751.590</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>652</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/652.png">布里卡隆</td><td>+sd</td><td>88</td><td>122</td><td>75</td><td>252</td><td>4</td><td>252</td><td>13744.734</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>334</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/334.png">七夕青鳥（超級進化）</td><td>+sd</td><td>75</td><td>110</td><td>105</td><td>252</td><td>140</td><td>116</td><td>13735.576</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>148</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/148.png">哈克龍</td><td>+de</td><td>61</td><td>65</td><td>70</td><td>252</td><td>116</td><td>140</td><td>13732.844</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>507</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/507.png">哈約克</td><td>+de</td><td>65</td><td>65</td><td>65</td><td>252</td><td>116</td><td>140</td><td>13716.865</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>260</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/260.png">巨沼怪</td><td>+de</td><td>100</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>13713.555</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>670</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/670.png">花葉蒂</td><td>+de</td><td>54</td><td>47</td><td>98</td><td>252</td><td>252</td><td>4</td><td>13698.692</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>477</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/477.png">黑夜魔靈</td><td>+de</td><td>45</td><td>135</td><td>135</td><td>252</td><td>116</td><td>140</td><td>13659.311</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>560</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/560.png">頭巾混混</td><td>+de</td><td>65</td><td>115</td><td>115</td><td>252</td><td>116</td><td>140</td><td>13654.528</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>793</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/793.png">虛吾伊德</td><td>+de</td><td>109</td><td>47</td><td>131</td><td>252</td><td>252</td><td>4</td><td>13637.908</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>752</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/752.png">滴蛛霸</td><td>+de</td><td>68</td><td>92</td><td>132</td><td>252</td><td>236</td><td>20</td><td>13606.109</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>96</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/96.png">催眠貘</td><td>+de</td><td>60</td><td>45</td><td>90</td><td>252</td><td>252</td><td>4</td><td>13605.890</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>765</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/765.png">智揮猩</td><td>+de</td><td>90</td><td>80</td><td>110</td><td>252</td><td>236</td><td>20</td><td>13575.156</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>30</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/30.png">尼多娜</td><td>+sd</td><td>70</td><td>67</td><td>55</td><td>252</td><td>116</td><td>140</td><td>13560.391</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>244</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/244.png">炎帝</td><td>+sd</td><td>115</td><td>85</td><td>75</td><td>252</td><td>132</td><td>124</td><td>13542.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>9</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/9.png">水箭龜</td><td>+de</td><td>79</td><td>100</td><td>105</td><td>252</td><td>156</td><td>100</td><td>13537.233</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>711</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/711.png">南瓜怪人（特大尺寸）</td><td>+sd</td><td>85</td><td>122</td><td>75</td><td>252</td><td>4</td><td>252</td><td>13533.277</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>360</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/360.png">小果然</td><td>+de</td><td>95</td><td>48</td><td>48</td><td>124</td><td>172</td><td>212</td><td>13518.557</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>306</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/306.png">波士可多拉</td><td>+sd</td><td>70</td><td>180</td><td>60</td><td>252</td><td>4</td><td>252</td><td>13506.083</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>117</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/117.png">海刺龍</td><td>+sd</td><td>55</td><td>95</td><td>45</td><td>252</td><td>4</td><td>252</td><td>13503.234</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>531</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/531.png">差不多娃娃</td><td>+de</td><td>103</td><td>86</td><td>86</td><td>252</td><td>108</td><td>148</td><td>13482.490</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>746</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/746（魚群）.png">弱丁魚（魚群）</td><td>+de</td><td>45</td><td>130</td><td>135</td><td>252</td><td>84</td><td>172</td><td>13452.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>593</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/593.png">胖嘟嘟</td><td>+de</td><td>100</td><td>70</td><td>105</td><td>252</td><td>236</td><td>20</td><td>13451.815</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>231</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/231.png">小小象</td><td>+sd</td><td>90</td><td>60</td><td>40</td><td>156</td><td>116</td><td>236</td><td>13445.876</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>698</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/698.png">冰雪龍</td><td>+de</td><td>77</td><td>50</td><td>63</td><td>252</td><td>156</td><td>100</td><td>13444.898</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>104</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/104.png">卡拉卡拉</td><td>+sd</td><td>50</td><td>95</td><td>50</td><td>252</td><td>4</td><td>252</td><td>13419.368</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>727</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/727.png">熾焰咆哮虎</td><td>+de</td><td>95</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>13382.309</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>86</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/86.png">小海獅</td><td>+de</td><td>65</td><td>55</td><td>70</td><td>252</td><td>196</td><td>60</td><td>13374.058</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>154</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/154.png">大竺葵</td><td>+de</td><td>80</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>13370.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>130</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/130.png">暴鯉龍</td><td>+de</td><td>95</td><td>79</td><td>100</td><td>252</td><td>164</td><td>92</td><td>13332.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>62</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/62.png">蚊香泳士</td><td>+sd</td><td>90</td><td>95</td><td>90</td><td>252</td><td>100</td><td>156</td><td>13305.860</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>449</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/449.png">沙河馬</td><td>+sd</td><td>68</td><td>78</td><td>42</td><td>252</td><td>20</td><td>236</td><td>13263.934</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>444</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/444.png">尖牙陸鯊</td><td>+sd</td><td>68</td><td>65</td><td>55</td><td>252</td><td>124</td><td>132</td><td>13263.934</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>592</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/592.png">輕飄飄</td><td>+de</td><td>55</td><td>50</td><td>85</td><td>252</td><td>236</td><td>20</td><td>13242.385</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>579</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/579.png">人造細胞卵</td><td>+de</td><td>110</td><td>75</td><td>85</td><td>252</td><td>124</td><td>132</td><td>13237.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>583</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/583.png">多多冰</td><td>+de</td><td>51</td><td>65</td><td>75</td><td>252</td><td>132</td><td>124</td><td>13218.233</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>635</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/635.png">三首惡龍</td><td>+de</td><td>92</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>13183.562</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>422</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/422.png">無殼海兔</td><td>+de</td><td>76</td><td>48</td><td>62</td><td>244</td><td>172</td><td>92</td><td>13155.155</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>559</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/559.png">滑滑小子</td><td>+de</td><td>50</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>13134.573</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>241</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/241.png">大奶罐</td><td>+sd</td><td>95</td><td>105</td><td>70</td><td>252</td><td>20</td><td>236</td><td>13126.892</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>787</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/787.png">卡璞・哞哞</td><td>+sd</td><td>70</td><td>115</td><td>95</td><td>252</td><td>60</td><td>196</td><td>13124.222</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>787</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/787.png">卡璞・哞哞</td><td>+sd</td><td>70</td><td>115</td><td>95</td><td>252</td><td>60</td><td>196</td><td>13124.222</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>589</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/589.png">騎士蝸牛</td><td>+de</td><td>70</td><td>105</td><td>105</td><td>252</td><td>116</td><td>140</td><td>13124.222</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>465</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/465.png">巨蔓藤</td><td>+sd</td><td>100</td><td>125</td><td>50</td><td>252</td><td>4</td><td>252</td><td>13119.628</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>647</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/647.png">凱路迪歐</td><td>+de</td><td>91</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>13117.313</td><td></td><td></td></tr><tr><td>639</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/639.png">代拉基翁</td><td>+de</td><td>91</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>13117.313</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>357</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/357.png">熱帶龍</td><td>+de</td><td>99</td><td>83</td><td>87</td><td>252</td><td>132</td><td>124</td><td>13116.141</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>654</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/654.png">長尾火狐</td><td>+de</td><td>59</td><td>58</td><td>70</td><td>252</td><td>172</td><td>84</td><td>13111.899</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>611</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/611.png">斧牙龍</td><td>+sd</td><td>66</td><td>70</td><td>50</td><td>252</td><td>84</td><td>172</td><td>13111.579</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>395</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/395.png">帝王拿波</td><td>+de</td><td>84</td><td>88</td><td>101</td><td>252</td><td>172</td><td>84</td><td>13110.240</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>438</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/438.png">盆才怪</td><td>+sd</td><td>50</td><td>95</td><td>45</td><td>252</td><td>4</td><td>252</td><td>13086.467</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>536</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/536.png">藍蟾蜍</td><td>+de</td><td>75</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>13082.474</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>180</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/180.png">茸茸羊</td><td>+de</td><td>70</td><td>55</td><td>60</td><td>252</td><td>116</td><td>140</td><td>13068.699</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>6</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/6.png">噴火龍（超級進化X）</td><td>+sd</td><td>78</td><td>111</td><td>85</td><td>252</td><td>60</td><td>196</td><td>13039.876</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>673</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/673.png">坐騎山羊</td><td>+de</td><td>123</td><td>62</td><td>81</td><td>188</td><td>220</td><td>100</td><td>13030.928</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>344</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/344.png">念力土偶</td><td>+de</td><td>60</td><td>105</td><td>120</td><td>252</td><td>196</td><td>60</td><td>13029.201</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>684</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/684.png">綿綿泡芙</td><td>+sd</td><td>62</td><td>66</td><td>57</td><td>252</td><td>76</td><td>180</td><td>13012.451</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>648</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/648.png">美洛耶塔（舞步形態）</td><td>+sd</td><td>100</td><td>90</td><td>77</td><td>252</td><td>76</td><td>180</td><td>13011.429</td><td></td><td></td></tr><tr><td>102</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/102.png">蛋蛋</td><td>+sd</td><td>60</td><td>80</td><td>45</td><td>252</td><td>28</td><td>228</td><td>12984.116</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>475</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/475.png">艾路雷朵（超級進化）</td><td>+de</td><td>68</td><td>95</td><td>115</td><td>252</td><td>196</td><td>60</td><td>12975.926</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>770</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/770.png">噬沙堡爺</td><td>+sd</td><td>85</td><td>110</td><td>75</td><td>252</td><td>36</td><td>220</td><td>12960.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>472</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/472.png">天蠍王</td><td>+sd</td><td>75</td><td>125</td><td>75</td><td>252</td><td>4</td><td>252</td><td>12959.677</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>97</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/97.png">引夢貘人</td><td>+de</td><td>85</td><td>70</td><td>115</td><td>252</td><td>252</td><td>4</td><td>12959.289</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>76</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/76.png">隆隆岩（阿羅拉）</td><td>+sd</td><td>80</td><td>130</td><td>65</td><td>252</td><td>4</td><td>252</td><td>12954.609</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>76</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/76.png">隆隆岩</td><td>+sd</td><td>80</td><td>130</td><td>65</td><td>252</td><td>4</td><td>252</td><td>12954.609</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>317</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/317.png">吞食獸</td><td>+de</td><td>100</td><td>83</td><td>83</td><td>252</td><td>132</td><td>124</td><td>12954.406</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>324</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/324.png">煤炭龜</td><td>+sd</td><td>70</td><td>140</td><td>70</td><td>252</td><td>4</td><td>252</td><td>12944.400</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>304</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/304.png">可可多拉</td><td>+sd</td><td>50</td><td>100</td><td>40</td><td>252</td><td>4</td><td>252</td><td>12941.892</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>232</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/232.png">頓甲</td><td>+sd</td><td>90</td><td>120</td><td>60</td><td>252</td><td>4</td><td>252</td><td>12941.557</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>534</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/534.png">修建老匠</td><td>+sd</td><td>105</td><td>95</td><td>65</td><td>252</td><td>52</td><td>204</td><td>12932.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>115</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/115.png">袋獸</td><td>+de</td><td>105</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>12932.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>35</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/35.png">皮皮</td><td>+de</td><td>70</td><td>48</td><td>65</td><td>252</td><td>172</td><td>84</td><td>12930.612</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>215</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/215.png">狃拉</td><td>+de</td><td>55</td><td>55</td><td>75</td><td>252</td><td>196</td><td>60</td><td>12919.373</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>591</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/591.png">敗露球菇</td><td>+de</td><td>114</td><td>70</td><td>80</td><td>244</td><td>156</td><td>108</td><td>12913.532</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>297</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/297.png">鐵掌力士</td><td>+de</td><td>144</td><td>60</td><td>60</td><td>20</td><td>236</td><td>252</td><td>12912.206</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>710</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/710.png">南瓜精（特大尺寸）</td><td>+sd</td><td>59</td><td>70</td><td>55</td><td>252</td><td>60</td><td>196</td><td>12906.367</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>6</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/6.png">噴火龍（超級進化Y）</td><td>+de</td><td>78</td><td>78</td><td>115</td><td>252</td><td>252</td><td>4</td><td>12895.627</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>691</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/691.png">毒藻龍</td><td>+de</td><td>65</td><td>90</td><td>123</td><td>252</td><td>236</td><td>20</td><td>12890.827</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>381</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/381.png">拉帝歐斯</td><td>+de</td><td>80</td><td>80</td><td>110</td><td>252</td><td>236</td><td>20</td><td>12886.062</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>576</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/576.png">哥德小姐</td><td>+de</td><td>70</td><td>95</td><td>110</td><td>252</td><td>196</td><td>60</td><td>12882.205</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>462</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/462.png">自爆磁怪</td><td>+sd</td><td>70</td><td>115</td><td>90</td><td>252</td><td>20</td><td>236</td><td>12882.205</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>323</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/323.png">噴火駝（超級進化）</td><td>+de</td><td>70</td><td>100</td><td>105</td><td>252</td><td>156</td><td>100</td><td>12882.205</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>302</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/302.png">勾魂眼（超級進化）</td><td>+sd</td><td>50</td><td>125</td><td>115</td><td>252</td><td>140</td><td>116</td><td>12873.521</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>160</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/160.png">大力鱷</td><td>+sd</td><td>85</td><td>100</td><td>83</td><td>252</td><td>108</td><td>148</td><td>12864.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>730</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/730.png">西獅海壬</td><td>+de</td><td>80</td><td>74</td><td>116</td><td>252</td><td>252</td><td>4</td><td>12856.080</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>689</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/689.png">龜足巨鎧</td><td>+sd</td><td>72</td><td>115</td><td>86</td><td>252</td><td>68</td><td>188</td><td>12843.094</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>416</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/416.png">蜂女王</td><td>+de</td><td>70</td><td>102</td><td>102</td><td>252</td><td>140</td><td>116</td><td>12832.804</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>711</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/711.png">南瓜怪人（大尺寸）</td><td>+sd</td><td>75</td><td>122</td><td>75</td><td>252</td><td>4</td><td>252</td><td>12828.418</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>243</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/243.png">雷公</td><td>+de</td><td>90</td><td>75</td><td>100</td><td>252</td><td>196</td><td>60</td><td>12801.969</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>186</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/186.png">蚊香蛙皇</td><td>+de</td><td>90</td><td>75</td><td>100</td><td>252</td><td>196</td><td>60</td><td>12801.969</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>181</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/181.png">電龍</td><td>+de</td><td>90</td><td>85</td><td>90</td><td>252</td><td>116</td><td>140</td><td>12801.969</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>146</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/146.png">火焰鳥</td><td>+sd</td><td>90</td><td>90</td><td>85</td><td>252</td><td>140</td><td>116</td><td>12801.969</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>145</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/145.png">閃電鳥</td><td>+de</td><td>90</td><td>85</td><td>90</td><td>252</td><td>116</td><td>140</td><td>12801.969</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>87</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/87.png">白海獅</td><td>+de</td><td>90</td><td>80</td><td>95</td><td>252</td><td>156</td><td>100</td><td>12801.969</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>334</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/334.png">七夕青鳥</td><td>+de</td><td>75</td><td>90</td><td>105</td><td>252</td><td>156</td><td>100</td><td>12781.452</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>182</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/182.png">美麗花</td><td>+de</td><td>75</td><td>95</td><td>100</td><td>252</td><td>116</td><td>140</td><td>12781.452</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>776</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/776.png">爆焰龜獸</td><td>+sd</td><td>60</td><td>135</td><td>85</td><td>252</td><td>4</td><td>252</td><td>12770.588</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>127</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/127.png">凱羅斯（超級進化）</td><td>+sd</td><td>65</td><td>120</td><td>90</td><td>252</td><td>20</td><td>236</td><td>12753.481</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>683</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/683.png">芳香精</td><td>+de</td><td>101</td><td>72</td><td>89</td><td>252</td><td>156</td><td>100</td><td>12739.788</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>423</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/423.png">海兔獸</td><td>+de</td><td>111</td><td>68</td><td>82</td><td>252</td><td>172</td><td>84</td><td>12738.094</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>88</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/88.png">臭泥（阿羅拉）</td><td>+de</td><td>80</td><td>50</td><td>50</td><td>180</td><td>156</td><td>172</td><td>12727.208</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>88</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/88.png">臭泥</td><td>+de</td><td>80</td><td>50</td><td>50</td><td>180</td><td>156</td><td>172</td><td>12727.208</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>508</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/508.png">長毛狗</td><td>+de</td><td>85</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>12719.819</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>156</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/156.png">火岩鼠</td><td>+de</td><td>58</td><td>58</td><td>65</td><td>252</td><td>172</td><td>84</td><td>12704.464</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>5</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/5.png">火恐龍</td><td>+de</td><td>58</td><td>58</td><td>65</td><td>252</td><td>172</td><td>84</td><td>12704.464</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>562</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/562.png">哭哭面具</td><td>+sd</td><td>38</td><td>85</td><td>65</td><td>252</td><td>60</td><td>196</td><td>12700.513</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>61</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/61.png">蚊香君</td><td>+sd</td><td>65</td><td>65</td><td>50</td><td>252</td><td>100</td><td>156</td><td>12699.527</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>205</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/205.png">佛烈托斯</td><td>+sd</td><td>75</td><td>140</td><td>60</td><td>252</td><td>4</td><td>252</td><td>12690.655</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>760</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/760.png">穿著熊</td><td>+sd</td><td>120</td><td>80</td><td>60</td><td>172</td><td>100</td><td>236</td><td>12679.662</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>720</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/720.png">胡帕（解放胡帕）</td><td>+de</td><td>80</td><td>60</td><td>130</td><td>252</td><td>252</td><td>4</td><td>12675.734</td><td></td><td></td></tr><tr><td>720</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/720.png">胡帕（懲戒胡帕）</td><td>+de</td><td>80</td><td>60</td><td>130</td><td>252</td><td>252</td><td>4</td><td>12675.734</td><td></td><td></td></tr><tr><td>138</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/138.png">菊石獸</td><td>+sd</td><td>35</td><td>100</td><td>55</td><td>252</td><td>4</td><td>252</td><td>12671.014</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>608</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/608.png">燈火幽靈</td><td>+de</td><td>60</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>12656.842</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>285</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/285.png">蘑蘑菇</td><td>+de</td><td>60</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>12656.842</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>271</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/271.png">蓮帽小童</td><td>+de</td><td>60</td><td>50</td><td>70</td><td>252</td><td>172</td><td>84</td><td>12656.842</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>256</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/256.png">力壯雞</td><td>+de</td><td>60</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>12656.842</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>565</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/565.png">肋骨海龜</td><td>+sd</td><td>74</td><td>133</td><td>65</td><td>252</td><td>4</td><td>252</td><td>12652.028</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>31</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/31.png">尼多后</td><td>+sd</td><td>90</td><td>87</td><td>85</td><td>252</td><td>140</td><td>116</td><td>12647.860</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>696</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/696.png">寶寶暴龍</td><td>+sd</td><td>58</td><td>77</td><td>45</td><td>252</td><td>36</td><td>220</td><td>12641.042</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>184</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/184.png">瑪力露麗</td><td>+de</td><td>100</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>12627.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>171</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/171.png">電燈怪</td><td>+de</td><td>125</td><td>58</td><td>76</td><td>132</td><td>252</td><td>124</td><td>12621.391</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>355</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/355.png">夜巡靈</td><td>+de</td><td>20</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>12620.864</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>763</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/763.png">甜冷美后</td><td>+de</td><td>72</td><td>98</td><td>98</td><td>252</td><td>92</td><td>164</td><td>12616.961</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>558</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/558.png">岩殿居蟹</td><td>+sd</td><td>70</td><td>125</td><td>75</td><td>252</td><td>4</td><td>252</td><td>12603.642</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>769</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/769.png">沙丘娃</td><td>+sd</td><td>55</td><td>80</td><td>45</td><td>252</td><td>28</td><td>228</td><td>12595.370</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>227</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/227.png">盔甲鳥</td><td>+sd</td><td>65</td><td>140</td><td>70</td><td>252</td><td>4</td><td>252</td><td>12578.739</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>451</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/451.png">鉗尾蠍</td><td>+sd</td><td>40</td><td>90</td><td>55</td><td>252</td><td>28</td><td>228</td><td>12568.500</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>73</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/73.png">毒刺水母</td><td>+de</td><td>80</td><td>65</td><td>120</td><td>252</td><td>252</td><td>4</td><td>12546.379</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>802</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/802.png">瑪夏多</td><td>+de</td><td>90</td><td>80</td><td>90</td><td>252</td><td>156</td><td>100</td><td>12543.106</td><td></td><td></td></tr><tr><td>497</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/497.png">君主蛇</td><td>+de</td><td>75</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>12541.514</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>230</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/230.png">刺龍王</td><td>+de</td><td>75</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>12541.514</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>3</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/3.png">妙蛙花</td><td>+de</td><td>80</td><td>83</td><td>100</td><td>252</td><td>148</td><td>108</td><td>12529.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>471</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/471.png">冰伊布</td><td>+sd</td><td>65</td><td>110</td><td>95</td><td>252</td><td>60</td><td>196</td><td>12518.301</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>710</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/710.png">南瓜精（大尺寸）</td><td>+sd</td><td>54</td><td>70</td><td>55</td><td>252</td><td>60</td><td>196</td><td>12517.621</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>674</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/674.png">頑皮熊貓</td><td>+sd</td><td>67</td><td>62</td><td>48</td><td>252</td><td>84</td><td>172</td><td>12506.250</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>645</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/645.png">土地雲（靈獸形態）</td><td>+sd</td><td>89</td><td>90</td><td>80</td><td>252</td><td>100</td><td>156</td><td>12479.435</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>645</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/645.png">土地雲（化身形態）</td><td>+sd</td><td>89</td><td>90</td><td>80</td><td>252</td><td>100</td><td>156</td><td>12479.435</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>36</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/36.png">皮可西</td><td>+de</td><td>95</td><td>73</td><td>90</td><td>252</td><td>156</td><td>100</td><td>12473.296</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>321</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/321.png">吼鯨王</td><td>+de</td><td>170</td><td>45</td><td>45</td><td>4</td><td>252</td><td>252</td><td>12459.961</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>517</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/517.png">食夢夢</td><td>+de</td><td>76</td><td>45</td><td>55</td><td>188</td><td>196</td><td>124</td><td>12444.382</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>316</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/316.png">溶食獸</td><td>+de</td><td>70</td><td>53</td><td>53</td><td>236</td><td>132</td><td>140</td><td>12444.382</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>333</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/333.png">青綿鳥</td><td>+de</td><td>45</td><td>60</td><td>75</td><td>252</td><td>156</td><td>100</td><td>12424.954</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>677</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/677.png">妙喵</td><td>+de</td><td>62</td><td>54</td><td>60</td><td>252</td><td>124</td><td>132</td><td>12416.327</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>142</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/142.png">化石翼龍（超級進化）</td><td>+de</td><td>80</td><td>85</td><td>95</td><td>252</td><td>124</td><td>132</td><td>12388.574</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>537</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/537.png">蟾蜍王</td><td>+de</td><td>105</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>12387.504</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>139</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/139.png">多刺菊石獸</td><td>+sd</td><td>70</td><td>125</td><td>70</td><td>252</td><td>4</td><td>252</td><td>12367.243</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>578</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/578.png">雙卵細胞球</td><td>+de</td><td>65</td><td>50</td><td>60</td><td>252</td><td>156</td><td>100</td><td>12362.500</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>340</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/340.png">鯰魚王</td><td>+sd</td><td>110</td><td>73</td><td>71</td><td>220</td><td>140</td><td>148</td><td>12331.047</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>614</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/614.png">凍原熊</td><td>+de</td><td>95</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>12322.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>373</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/373.png">暴飛龍</td><td>+de</td><td>95</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>12322.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>103</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/103.png">椰蛋樹（阿羅拉）</td><td>+sd</td><td>95</td><td>85</td><td>75</td><td>252</td><td>132</td><td>124</td><td>12322.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>103</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/103.png">椰蛋樹</td><td>+sd</td><td>95</td><td>85</td><td>75</td><td>252</td><td>132</td><td>124</td><td>12322.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>697</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/697.png">怪顎龍</td><td>+sd</td><td>82</td><td>119</td><td>59</td><td>252</td><td>4</td><td>252</td><td>12321.069</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>282</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/282.png">沙奈朵（超級進化）</td><td>+de</td><td>68</td><td>65</td><td>135</td><td>252</td><td>252</td><td>4</td><td>12304.225</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>374</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/374.png">鐵啞鈴</td><td>+sd</td><td>40</td><td>80</td><td>60</td><td>252</td><td>92</td><td>164</td><td>12297.976</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>679</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/679.png">獨劍鞘</td><td>+sd</td><td>45</td><td>100</td><td>37</td><td>252</td><td>4</td><td>252</td><td>12296.707</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>667</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/667.png">小獅獅</td><td>+sd</td><td>62</td><td>58</td><td>54</td><td>252</td><td>132</td><td>124</td><td>12282.990</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>68</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/68.png">怪力</td><td>+de</td><td>90</td><td>80</td><td>85</td><td>252</td><td>156</td><td>100</td><td>12273.888</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>325</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/325.png">跳跳豬</td><td>+de</td><td>60</td><td>35</td><td>80</td><td>252</td><td>252</td><td>4</td><td>12269.980</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>649</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/649.png">蓋諾賽克特</td><td>+de</td><td>71</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>12265.877</td><td></td><td></td></tr><tr><td>109</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/109.png">瓦斯彈</td><td>+sd</td><td>40</td><td>95</td><td>45</td><td>252</td><td>4</td><td>252</td><td>12252.934</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>722</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/722.png">木木梟</td><td>+sd</td><td>68</td><td>55</td><td>50</td><td>236</td><td>116</td><td>156</td><td>12234.375</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>387</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/387.png">草苗龜</td><td>+sd</td><td>55</td><td>64</td><td>55</td><td>252</td><td>132</td><td>124</td><td>12222.417</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>28</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/28.png">穿山王（阿羅拉）</td><td>+sd</td><td>75</td><td>120</td><td>65</td><td>252</td><td>4</td><td>252</td><td>12210.914</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>33</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/33.png">尼多力諾</td><td>+sd</td><td>61</td><td>57</td><td>55</td><td>252</td><td>140</td><td>116</td><td>12210.309</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>692</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/692.png">鐵臂槍蝦</td><td>+de</td><td>50</td><td>62</td><td>63</td><td>252</td><td>140</td><td>116</td><td>12206.624</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>315</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/315.png">毒薔薇</td><td>+de</td><td>50</td><td>45</td><td>80</td><td>252</td><td>236</td><td>20</td><td>12206.624</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>781</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/781.png">破破舵輪</td><td>+sd</td><td>70</td><td>100</td><td>90</td><td>252</td><td>100</td><td>156</td><td>12196.967</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>712</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/712.png">冰寶</td><td>+sd</td><td>55</td><td>85</td><td>35</td><td>252</td><td>4</td><td>252</td><td>12196.669</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>637</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/637.png">火神蛾</td><td>+de</td><td>85</td><td>65</td><td>105</td><td>252</td><td>244</td><td>12</td><td>12192.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>615</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/615.png">幾何雪花</td><td>+de</td><td>80</td><td>50</td><td>135</td><td>252</td><td>252</td><td>4</td><td>12191.284</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>621</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/621.png">赤面龍</td><td>+de</td><td>77</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>12189.826</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>786</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/786.png">卡璞・蝶蝶</td><td>+de</td><td>70</td><td>75</td><td>115</td><td>252</td><td>244</td><td>12</td><td>12168.589</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>786</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/786.png">卡璞・蝶蝶</td><td>+de</td><td>70</td><td>75</td><td>115</td><td>252</td><td>244</td><td>12</td><td>12168.589</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>568</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/568.png">破破袋</td><td>+de</td><td>50</td><td>62</td><td>62</td><td>252</td><td>140</td><td>116</td><td>12154.839</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>710</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/710.png">南瓜精（普通尺寸）</td><td>+sd</td><td>49</td><td>70</td><td>55</td><td>252</td><td>60</td><td>196</td><td>12128.875</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>711</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/711.png">南瓜怪人（普通尺寸）</td><td>+sd</td><td>65</td><td>122</td><td>75</td><td>252</td><td>4</td><td>252</td><td>12123.560</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>540</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/540.png">蟲寶包</td><td>+sd</td><td>45</td><td>70</td><td>60</td><td>252</td><td>100</td><td>156</td><td>12121.881</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>152</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/152.png">菊草葉</td><td>+de</td><td>45</td><td>65</td><td>65</td><td>252</td><td>116</td><td>140</td><td>12121.881</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>326</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/326.png">噗噗豬</td><td>+de</td><td>80</td><td>65</td><td>110</td><td>252</td><td>252</td><td>4</td><td>12106.625</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>473</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/473.png">象牙豬</td><td>+sd</td><td>110</td><td>80</td><td>60</td><td>196</td><td>76</td><td>236</td><td>12100.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>766</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/766.png">投擲猴</td><td>+sd</td><td>100</td><td>90</td><td>60</td><td>252</td><td>20</td><td>236</td><td>12095.346</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>628</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/628.png">勇士雄鷹</td><td>+de</td><td>100</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>12095.346</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>492</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/492.png">謝米（天空形態）</td><td>+de</td><td>100</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>12095.346</td><td></td><td></td></tr><tr><td>672</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/672.png">坐騎小羊</td><td>+de</td><td>66</td><td>48</td><td>57</td><td>236</td><td>172</td><td>100</td><td>12094.554</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>780</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/780.png">老翁龍</td><td>+de</td><td>78</td><td>85</td><td>91</td><td>252</td><td>116</td><td>140</td><td>12069.655</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>503</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/503.png">大劍鬼</td><td>+sd</td><td>95</td><td>85</td><td>70</td><td>252</td><td>100</td><td>156</td><td>12067.598</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>204</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/204.png">榛果球</td><td>+sd</td><td>50</td><td>90</td><td>35</td><td>252</td><td>4</td><td>252</td><td>12061.055</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>27</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/27.png">穿山鼠（阿羅拉）</td><td>+sd</td><td>50</td><td>90</td><td>35</td><td>252</td><td>4</td><td>252</td><td>12061.055</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>348</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/348.png">太古盔甲</td><td>+sd</td><td>75</td><td>100</td><td>80</td><td>252</td><td>100</td><td>156</td><td>12057.328</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>229</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/229.png">黑魯加（超級進化）</td><td>+de</td><td>75</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>12057.328</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>719</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/719.png">蒂安希（超級進化）</td><td>+de</td><td>50</td><td>110</td><td>110</td><td>252</td><td>76</td><td>180</td><td>12049.622</td><td></td><td></td></tr><tr><td>303</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/303.png">大嘴娃（超級進化）</td><td>+sd</td><td>50</td><td>125</td><td>95</td><td>252</td><td>60</td><td>196</td><td>12049.622</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>759</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/759.png">童偶熊</td><td>+de</td><td>70</td><td>50</td><td>50</td><td>196</td><td>156</td><td>156</td><td>12027.273</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>627</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/627.png">毛頭小鷹</td><td>+de</td><td>70</td><td>50</td><td>50</td><td>196</td><td>156</td><td>156</td><td>12027.273</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>363</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/363.png">海豹球</td><td>+de</td><td>70</td><td>50</td><td>50</td><td>196</td><td>156</td><td>156</td><td>12027.273</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>294</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/294.png">吼爆彈</td><td>+de</td><td>84</td><td>43</td><td>43</td><td>84</td><td>212</td><td>212</td><td>12027.273</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>183</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/183.png">瑪力露</td><td>+de</td><td>70</td><td>50</td><td>50</td><td>196</td><td>156</td><td>156</td><td>12027.273</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>724</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/724.png">狙射樹梟</td><td>+de</td><td>78</td><td>75</td><td>100</td><td>252</td><td>196</td><td>60</td><td>12022.154</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>460</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/460.png">暴雪王</td><td>+de</td><td>90</td><td>75</td><td>85</td><td>252</td><td>124</td><td>132</td><td>12017.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>59</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/59.png">風速狗</td><td>+de</td><td>90</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>12017.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>459</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/459.png">雪笠怪</td><td>+de</td><td>60</td><td>50</td><td>60</td><td>252</td><td>156</td><td>100</td><td>12003.125</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>7</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/7.png">傑尼龜</td><td>+sd</td><td>44</td><td>65</td><td>64</td><td>252</td><td>132</td><td>124</td><td>11987.406</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>188</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/188.png">毽子花</td><td>+de</td><td>55</td><td>50</td><td>65</td><td>252</td><td>156</td><td>100</td><td>11961.182</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>133</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/133.png">伊布</td><td>+de</td><td>55</td><td>50</td><td>65</td><td>252</td><td>156</td><td>100</td><td>11961.182</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>590</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/590.png">哎呀球菇</td><td>+de</td><td>69</td><td>45</td><td>55</td><td>204</td><td>196</td><td>108</td><td>11958.545</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>170</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/170.png">燈籠魚</td><td>+de</td><td>75</td><td>38</td><td>56</td><td>156</td><td>252</td><td>100</td><td>11958.545</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>623</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/623.png">泥偶巨人</td><td>+de</td><td>89</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11956.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>662</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/662.png">火箭雀</td><td>+sd</td><td>62</td><td>55</td><td>52</td><td>252</td><td>116</td><td>140</td><td>11949.435</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>452</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/452.png">龍王蠍</td><td>+sd</td><td>70</td><td>110</td><td>75</td><td>252</td><td>36</td><td>220</td><td>11947.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>774</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/774.png">小隕星（流星）</td><td>+de</td><td>60</td><td>100</td><td>100</td><td>252</td><td>76</td><td>180</td><td>11940.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>601</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/601.png">齒輪怪</td><td>+sd</td><td>60</td><td>115</td><td>85</td><td>252</td><td>60</td><td>196</td><td>11940.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>219</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/219.png">熔岩蝸牛</td><td>+sd</td><td>60</td><td>120</td><td>80</td><td>252</td><td>20</td><td>236</td><td>11940.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>426</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/426.png">隨風球</td><td>+de</td><td>150</td><td>44</td><td>54</td><td>4</td><td>252</td><td>252</td><td>11921.232</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>687</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/687.png">烏賊王</td><td>+sd</td><td>86</td><td>88</td><td>75</td><td>252</td><td>124</td><td>132</td><td>11917.555</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>470</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/470.png">葉伊布</td><td>+sd</td><td>65</td><td>130</td><td>65</td><td>252</td><td>4</td><td>252</td><td>11915.470</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>272</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/272.png">樂天河童</td><td>+de</td><td>80</td><td>70</td><td>100</td><td>252</td><td>236</td><td>20</td><td>11906.400</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>214</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/214.png">赫拉克羅斯</td><td>+de</td><td>80</td><td>75</td><td>95</td><td>252</td><td>196</td><td>60</td><td>11906.400</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>690</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/690.png">垃垃藻</td><td>+de</td><td>50</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>11898.947</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>77</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/77.png">小火馬</td><td>+de</td><td>50</td><td>55</td><td>65</td><td>252</td><td>132</td><td>124</td><td>11898.947</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>425</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/425.png">飄飄球</td><td>+de</td><td>90</td><td>34</td><td>44</td><td>100</td><td>212</td><td>196</td><td>11889.818</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>442</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/442.png">花岩怪</td><td>+de</td><td>50</td><td>108</td><td>108</td><td>252</td><td>92</td><td>164</td><td>11889.512</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>391</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/391.png">猛火猴</td><td>+de</td><td>64</td><td>52</td><td>52</td><td>236</td><td>140</td><td>132</td><td>11884.821</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>17</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/17.png">比比鳥</td><td>+sd</td><td>63</td><td>55</td><td>50</td><td>244</td><td>108</td><td>156</td><td>11884.821</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>366</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/366.png">珍珠貝</td><td>+sd</td><td>35</td><td>85</td><td>55</td><td>252</td><td>52</td><td>204</td><td>11879.678</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>428</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/428.png">長耳兔（超級進化）</td><td>+de</td><td>65</td><td>94</td><td>96</td><td>252</td><td>124</td><td>132</td><td>11852.420</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>222</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/222.png">太陽珊瑚</td><td>+de</td><td>65</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>11852.420</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>164</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/164.png">貓頭夜鷹</td><td>+de</td><td>100</td><td>50</td><td>96</td><td>252</td><td>252</td><td>4</td><td>11845.100</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>641</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/641.png">龍捲雲（靈獸形態）</td><td>+de</td><td>79</td><td>80</td><td>90</td><td>252</td><td>156</td><td>100</td><td>11842.729</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>45</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/45.png">霸王花</td><td>+de</td><td>75</td><td>85</td><td>90</td><td>252</td><td>116</td><td>140</td><td>11827.200</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>557</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/557.png">石居蟹</td><td>+sd</td><td>50</td><td>85</td><td>35</td><td>252</td><td>4</td><td>252</td><td>11820.228</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>110</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/110.png">雙彈瓦斯</td><td>+sd</td><td>65</td><td>120</td><td>70</td><td>252</td><td>4</td><td>252</td><td>11817.338</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>479</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/479.png">洛托姆（切割洛托姆）</td><td>+de</td><td>50</td><td>107</td><td>107</td><td>252</td><td>100</td><td>156</td><td>11807.860</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>479</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/479.png">洛托姆（清洗洛托姆）</td><td>+de</td><td>50</td><td>107</td><td>107</td><td>252</td><td>100</td><td>156</td><td>11807.860</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>479</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/479.png">洛托姆（結冰洛托姆）</td><td>+de</td><td>50</td><td>107</td><td>107</td><td>252</td><td>100</td><td>156</td><td>11807.860</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>479</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/479.png">洛托姆（旋轉洛托姆）</td><td>+de</td><td>50</td><td>107</td><td>107</td><td>252</td><td>100</td><td>156</td><td>11807.860</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>479</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/479.png">洛托姆（加熱洛托姆）</td><td>+de</td><td>50</td><td>107</td><td>107</td><td>252</td><td>100</td><td>156</td><td>11807.860</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>553</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/553.png">流氓鱷</td><td>+sd</td><td>95</td><td>80</td><td>70</td><td>252</td><td>100</td><td>156</td><td>11803.188</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>195</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/195.png">沼王</td><td>+sd</td><td>95</td><td>85</td><td>65</td><td>252</td><td>60</td><td>196</td><td>11803.188</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>584</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/584.png">雙倍多多冰</td><td>+de</td><td>71</td><td>85</td><td>95</td><td>252</td><td>124</td><td>132</td><td>11792.332</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>675</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/675.png">流氓熊貓</td><td>+sd</td><td>95</td><td>78</td><td>71</td><td>252</td><td>108</td><td>148</td><td>11748.944</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>520</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/520.png">咕咕鴿</td><td>+sd</td><td>62</td><td>62</td><td>42</td><td>244</td><td>44</td><td>220</td><td>11745.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>72</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/72.png">瑪瑙水母</td><td>+de</td><td>40</td><td>35</td><td>100</td><td>252</td><td>252</td><td>4</td><td>11743.213</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>710</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/710.png">南瓜精（小尺寸）</td><td>+sd</td><td>44</td><td>70</td><td>55</td><td>252</td><td>60</td><td>196</td><td>11740.129</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>754</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/754.png">蘭螳花</td><td>+de</td><td>70</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>11726.083</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>491</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/491.png">達克萊伊</td><td>+de</td><td>70</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>11726.083</td><td></td><td></td></tr><tr><td>212</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/212.png">巨鉗螳螂</td><td>+sd</td><td>70</td><td>100</td><td>80</td><td>252</td><td>100</td><td>156</td><td>11726.083</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>755</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/755.png">睡睡菇</td><td>+de</td><td>40</td><td>55</td><td>75</td><td>252</td><td>196</td><td>60</td><td>11723.135</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>599</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/599.png">齒輪兒</td><td>+sd</td><td>40</td><td>70</td><td>60</td><td>252</td><td>100</td><td>156</td><td>11723.135</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>650</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/650.png">哈力栗</td><td>+sd</td><td>56</td><td>65</td><td>45</td><td>252</td><td>60</td><td>196</td><td>11715.625</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>715</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/715.png">音波龍</td><td>+de</td><td>85</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11712.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>604</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/604.png">麻麻鰻魚王</td><td>+de</td><td>85</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11712.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>169</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/169.png">叉字蝠</td><td>+de</td><td>85</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11712.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>38</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/38.png">九尾（阿羅拉）</td><td>+de</td><td>73</td><td>75</td><td>100</td><td>252</td><td>196</td><td>60</td><td>11697.231</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>38</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/38.png">九尾</td><td>+de</td><td>73</td><td>75</td><td>100</td><td>252</td><td>196</td><td>60</td><td>11697.231</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>726</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/726.png">炎熱喵</td><td>+de</td><td>65</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>11685.882</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>532</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/532.png">搬運小匠</td><td>+sd</td><td>75</td><td>55</td><td>35</td><td>212</td><td>100</td><td>196</td><td>11685.882</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>655</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/655.png">妖火紅狐</td><td>+de</td><td>75</td><td>72</td><td>100</td><td>252</td><td>220</td><td>36</td><td>11684.825</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>48</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/48.png">毛球</td><td>+de</td><td>60</td><td>50</td><td>55</td><td>252</td><td>156</td><td>100</td><td>11675.089</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>185</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/185.png">樹才怪</td><td>+sd</td><td>70</td><td>115</td><td>65</td><td>252</td><td>4</td><td>252</td><td>11671.273</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>693</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/693.png">鋼砲臂蝦</td><td>+de</td><td>71</td><td>88</td><td>89</td><td>252</td><td>92</td><td>164</td><td>11658.321</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>456</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/456.png">螢光魚</td><td>+de</td><td>49</td><td>56</td><td>61</td><td>252</td><td>116</td><td>140</td><td>11645.217</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>636</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/636.png">燃燒蟲</td><td>+de</td><td>55</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>11643.750</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>605</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/605.png">小灰怪</td><td>+de</td><td>55</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>11643.750</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>190</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/190.png">長尾怪手</td><td>+de</td><td>55</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>11643.750</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>709</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/709.png">朽木妖</td><td>+de</td><td>85</td><td>76</td><td>82</td><td>252</td><td>108</td><td>148</td><td>11616.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>569</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/569.png">灰塵山</td><td>+de</td><td>80</td><td>82</td><td>82</td><td>252</td><td>140</td><td>116</td><td>11598.506</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>18</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/18.png">大比鳥（超級進化）</td><td>+de</td><td>83</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11590.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>606</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/606.png">大宇怪</td><td>+de</td><td>75</td><td>75</td><td>95</td><td>252</td><td>196</td><td>60</td><td>11588.047</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>358</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/358.png">風鈴鈴</td><td>+de</td><td>75</td><td>80</td><td>90</td><td>252</td><td>156</td><td>100</td><td>11588.047</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>740</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/740.png">好勝毛蟹</td><td>+sd</td><td>97</td><td>77</td><td>67</td><td>244</td><td>84</td><td>180</td><td>11584.297</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>685</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/685.png">胖甜妮</td><td>+sd</td><td>82</td><td>86</td><td>75</td><td>252</td><td>132</td><td>124</td><td>11576.057</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>500</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/500.png">炎武王</td><td>+de</td><td>110</td><td>65</td><td>65</td><td>220</td><td>116</td><td>172</td><td>11553.041</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>295</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/295.png">爆音怪</td><td>+de</td><td>104</td><td>63</td><td>73</td><td>252</td><td>132</td><td>124</td><td>11552.009</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>475</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/475.png">艾路雷朵</td><td>+de</td><td>68</td><td>65</td><td>115</td><td>252</td><td>252</td><td>4</td><td>11539.394</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>282</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/282.png">沙奈朵</td><td>+de</td><td>68</td><td>65</td><td>115</td><td>252</td><td>252</td><td>4</td><td>11539.394</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>747</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/747.png">好壞星</td><td>+sd</td><td>50</td><td>62</td><td>52</td><td>252</td><td>116</td><td>140</td><td>11534.694</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>43</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/43.png">走路草</td><td>+de</td><td>45</td><td>55</td><td>65</td><td>252</td><td>132</td><td>124</td><td>11520.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>338</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/338.png">太陽岩</td><td>+sd</td><td>90</td><td>85</td><td>65</td><td>252</td><td>60</td><td>196</td><td>11511.030</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>337</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/337.png">月石</td><td>+de</td><td>90</td><td>65</td><td>85</td><td>252</td><td>196</td><td>60</td><td>11511.030</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>217</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/217.png">圈圈熊</td><td>+de</td><td>90</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>11511.030</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>413</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/413.png">結草貴婦（垃圾蓑衣）</td><td>+de</td><td>60</td><td>95</td><td>95</td><td>252</td><td>116</td><td>140</td><td>11507.873</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>413</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/413.png">結草貴婦（砂土蓑衣）</td><td>+sd</td><td>60</td><td>105</td><td>85</td><td>252</td><td>60</td><td>196</td><td>11507.873</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>413</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/413.png">結草貴婦（草木蓑衣）</td><td>+de</td><td>60</td><td>85</td><td>105</td><td>252</td><td>196</td><td>60</td><td>11507.873</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>105</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/105.png">嘎啦嘎啦（阿羅拉）</td><td>+sd</td><td>60</td><td>110</td><td>80</td><td>252</td><td>20</td><td>236</td><td>11507.873</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>105</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/105.png">嘎啦嘎啦</td><td>+sd</td><td>60</td><td>110</td><td>80</td><td>252</td><td>20</td><td>236</td><td>11507.873</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>105</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/105.png">嘎啦嘎啦（阿羅拉）</td><td>+sd</td><td>60</td><td>110</td><td>80</td><td>252</td><td>20</td><td>236</td><td>11507.873</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>105</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/105.png">嘎啦嘎啦</td><td>+sd</td><td>60</td><td>110</td><td>80</td><td>252</td><td>20</td><td>236</td><td>11507.873</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>580</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/580.png">鴨寶寶</td><td>+de</td><td>62</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>11482.059</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>352</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/352.png">變隱龍</td><td>+de</td><td>60</td><td>70</td><td>120</td><td>252</td><td>252</td><td>4</td><td>11473.811</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>688</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/688.png">龜腳腳</td><td>+sd</td><td>42</td><td>67</td><td>56</td><td>252</td><td>68</td><td>188</td><td>11472.516</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>738</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/738.png">鍬農炮蟲</td><td>+sd</td><td>77</td><td>90</td><td>75</td><td>252</td><td>60</td><td>196</td><td>11463.936</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>27</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/27.png">穿山鼠</td><td>+sd</td><td>50</td><td>85</td><td>30</td><td>252</td><td>4</td><td>252</td><td>11462.602</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>657</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/657.png">呱頭蛙</td><td>+de</td><td>54</td><td>52</td><td>56</td><td>252</td><td>140</td><td>116</td><td>11439.474</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>524</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/524.png">石丸子</td><td>+sd</td><td>55</td><td>85</td><td>25</td><td>252</td><td>4</td><td>252</td><td>11437.993</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>393</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/393.png">波加曼</td><td>+de</td><td>53</td><td>53</td><td>56</td><td>252</td><td>132</td><td>124</td><td>11437.762</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>343</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/343.png">天秤偶</td><td>+de</td><td>40</td><td>55</td><td>70</td><td>252</td><td>196</td><td>60</td><td>11429.132</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>237</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/237.png">戰舞郎</td><td>+de</td><td>50</td><td>95</td><td>110</td><td>252</td><td>196</td><td>60</td><td>11426.589</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>157</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/157.png">火爆獸</td><td>+de</td><td>78</td><td>78</td><td>85</td><td>252</td><td>116</td><td>140</td><td>11423.563</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>6</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/6.png">噴火龍</td><td>+de</td><td>78</td><td>78</td><td>85</td><td>252</td><td>116</td><td>140</td><td>11423.563</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>660</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/660.png">掘地兔</td><td>+de</td><td>85</td><td>77</td><td>77</td><td>252</td><td>100</td><td>156</td><td>11420.773</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>711</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/711.png">南瓜怪人（小尺寸）</td><td>+sd</td><td>55</td><td>122</td><td>75</td><td>252</td><td>4</td><td>252</td><td>11418.702</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>158</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/158.png">小鋸鱷</td><td>+sd</td><td>50</td><td>64</td><td>48</td><td>252</td><td>84</td><td>172</td><td>11410.825</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>489</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/489.png">霏歐納</td><td>+de</td><td>80</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11407.000</td><td></td><td></td></tr><tr><td>362</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/362.png">冰鬼護（超級進化）</td><td>+de</td><td>80</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11407.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>362</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/362.png">冰鬼護</td><td>+de</td><td>80</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11407.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>330</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/330.png">沙漠蜻蜓</td><td>+de</td><td>80</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11407.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>257</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/257.png">火焰雞（超級進化）</td><td>+de</td><td>80</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11407.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>428</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/428.png">長耳兔</td><td>+de</td><td>65</td><td>84</td><td>96</td><td>252</td><td>132</td><td>124</td><td>11394.838</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>74</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/74.png">小拳石（阿羅拉）</td><td>+sd</td><td>40</td><td>100</td><td>30</td><td>252</td><td>4</td><td>252</td><td>11366.915</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>74</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/74.png">小拳石</td><td>+sd</td><td>40</td><td>100</td><td>30</td><td>252</td><td>4</td><td>252</td><td>11366.915</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>554</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/554.png">火紅不倒翁</td><td>+de</td><td>70</td><td>45</td><td>45</td><td>220</td><td>116</td><td>172</td><td>11352.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>70</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/70.png">口呆花</td><td>+sd</td><td>65</td><td>50</td><td>45</td><td>252</td><td>140</td><td>116</td><td>11352.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>585</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/585.png">四季鹿</td><td>+de</td><td>60</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>11346.176</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>216</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/216.png">熊寶寶</td><td>+de</td><td>60</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>11346.176</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>189</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/189.png">毽子棉</td><td>+de</td><td>75</td><td>70</td><td>95</td><td>252</td><td>236</td><td>20</td><td>11339.328</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>128</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/128.png">肯泰羅</td><td>+sd</td><td>75</td><td>95</td><td>70</td><td>252</td><td>20</td><td>236</td><td>11339.328</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>669</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/669.png">花蓓蓓</td><td>+de</td><td>44</td><td>39</td><td>79</td><td>252</td><td>252</td><td>4</td><td>11325.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>175</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/175.png">波克比</td><td>+de</td><td>35</td><td>65</td><td>65</td><td>252</td><td>116</td><td>140</td><td>11324.389</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>405</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/405.png">倫琴貓</td><td>+de</td><td>80</td><td>79</td><td>79</td><td>252</td><td>84</td><td>172</td><td>11313.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>55</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/55.png">哥達鴨</td><td>+de</td><td>80</td><td>78</td><td>80</td><td>252</td><td>92</td><td>164</td><td>11313.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>764</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/764.png">花療環環</td><td>+de</td><td>51</td><td>90</td><td>110</td><td>252</td><td>156</td><td>100</td><td>11297.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>728</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/728.png">球球海獅</td><td>+de</td><td>50</td><td>54</td><td>56</td><td>252</td><td>124</td><td>132</td><td>11284.375</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>607</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/607.png">燭光靈</td><td>+de</td><td>50</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>11284.375</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>253</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/253.png">森林蜥蜴</td><td>+de</td><td>50</td><td>45</td><td>65</td><td>252</td><td>196</td><td>60</td><td>11284.375</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>530</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/530.png">龍頭地鼠</td><td>+de</td><td>110</td><td>60</td><td>65</td><td>188</td><td>156</td><td>164</td><td>11282.130</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>206</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/206.png">土龍弟弟</td><td>+sd</td><td>100</td><td>70</td><td>65</td><td>252</td><td>140</td><td>116</td><td>11280.550</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>622</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/622.png">泥偶小人</td><td>+de</td><td>59</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>11278.235</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>440</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/440.png">小福蛋</td><td>+de</td><td>100</td><td>5</td><td>65</td><td>252</td><td>252</td><td>4</td><td>11255.973</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>28</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/28.png">穿山王</td><td>+sd</td><td>75</td><td>110</td><td>55</td><td>252</td><td>4</td><td>252</td><td>11248.040</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>40</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/40.png">胖可丁</td><td>+de</td><td>140</td><td>45</td><td>50</td><td>4</td><td>252</td><td>252</td><td>11227.846</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>751</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/751.png">滴蛛</td><td>+de</td><td>38</td><td>52</td><td>72</td><td>252</td><td>220</td><td>36</td><td>11225.806</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>574</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/574.png">哥德寶寶</td><td>+de</td><td>45</td><td>50</td><td>65</td><td>252</td><td>156</td><td>100</td><td>11222.838</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>745</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/745（黑夜）.png">鬃岩狼人（黑夜）</td><td>+de</td><td>85</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>11218.872</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>404</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/404.png">勒克貓</td><td>+de</td><td>60</td><td>49</td><td>49</td><td>252</td><td>100</td><td>156</td><td>11211.970</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>467</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/467.png">鴨嘴炎獸</td><td>+de</td><td>75</td><td>67</td><td>95</td><td>252</td><td>196</td><td>60</td><td>11193.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>1</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/1.png">妙蛙種子</td><td>+de</td><td>45</td><td>49</td><td>65</td><td>252</td><td>164</td><td>92</td><td>11167.347</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>612</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/612.png">雙斧戰龍</td><td>+sd</td><td>76</td><td>90</td><td>70</td><td>252</td><td>92</td><td>164</td><td>11163.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>140</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/140.png">化石盔</td><td>+sd</td><td>30</td><td>90</td><td>45</td><td>252</td><td>4</td><td>252</td><td>11161.718</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>39</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/39.png">胖丁</td><td>+de</td><td>115</td><td>20</td><td>25</td><td>4</td><td>252</td><td>252</td><td>11143.870</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>542</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/542.png">保母蟲</td><td>+de</td><td>75</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>11102.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>34</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/34.png">尼多王</td><td>+sd</td><td>81</td><td>77</td><td>75</td><td>252</td><td>140</td><td>116</td><td>11084.831</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>435</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/435.png">坦克臭鼬</td><td>+sd</td><td>103</td><td>67</td><td>61</td><td>220</td><td>140</td><td>148</td><td>11066.512</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>756</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/756.png">燈罩夜菇</td><td>+de</td><td>60</td><td>80</td><td>100</td><td>252</td><td>164</td><td>92</td><td>11063.592</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>609</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/609.png">水晶燈火靈</td><td>+de</td><td>60</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>11063.592</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>498</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/498.png">暖暖豬</td><td>+de</td><td>65</td><td>45</td><td>45</td><td>228</td><td>116</td><td>164</td><td>11025.793</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>193</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/193.png">蜻蜻蜓</td><td>+de</td><td>65</td><td>45</td><td>45</td><td>228</td><td>116</td><td>164</td><td>11025.793</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>66</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/66.png">腕力</td><td>+sd</td><td>70</td><td>50</td><td>35</td><td>188</td><td>124</td><td>196</td><td>11025.793</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>287</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/287.png">懶人獺</td><td>+sd</td><td>60</td><td>60</td><td>35</td><td>252</td><td>60</td><td>196</td><td>11022.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>732</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/732.png">喇叭啄鳥</td><td>+de</td><td>55</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>11006.471</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>427</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/427.png">捲捲耳</td><td>+de</td><td>55</td><td>44</td><td>56</td><td>252</td><td>148</td><td>108</td><td>11006.471</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>474</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/474.png">多邊獸Ｚ</td><td>+de</td><td>85</td><td>70</td><td>75</td><td>252</td><td>156</td><td>100</td><td>10956.576</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>625</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/625.png">劈斬司令</td><td>+sd</td><td>65</td><td>100</td><td>70</td><td>252</td><td>20</td><td>236</td><td>10951.341</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>127</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/127.png">凱羅斯</td><td>+sd</td><td>65</td><td>100</td><td>70</td><td>252</td><td>20</td><td>236</td><td>10951.341</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>778</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/778.png">謎擬Ｑ</td><td>+de</td><td>55</td><td>80</td><td>105</td><td>252</td><td>236</td><td>20</td><td>10941.875</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>733</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/733.png">銃嘴大鳥</td><td>+de</td><td>80</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>10926.714</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>782</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/782.png">心鱗寶</td><td>+sd</td><td>45</td><td>65</td><td>45</td><td>252</td><td>60</td><td>196</td><td>10925.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>624</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/624.png">駒刀小兵</td><td>+sd</td><td>45</td><td>70</td><td>40</td><td>252</td><td>20</td><td>236</td><td>10925.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>495</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/495.png">藤藤蛇</td><td>+de</td><td>45</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>10925.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>118</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/118.png">角金魚</td><td>+sd</td><td>45</td><td>60</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10925.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>561</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/561.png">象徵鳥</td><td>+de</td><td>72</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>10919.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>136</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/136.png">火伊布</td><td>+de</td><td>65</td><td>60</td><td>110</td><td>252</td><td>252</td><td>4</td><td>10911.165</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>704</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/704.png">黏黏寶</td><td>+de</td><td>45</td><td>35</td><td>75</td><td>252</td><td>252</td><td>4</td><td>10905.868</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>678</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/678.png">超能妙喵</td><td>+de</td><td>74</td><td>76</td><td>81</td><td>252</td><td>108</td><td>148</td><td>10905.062</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>91</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/91.png">刺甲貝</td><td>+sd</td><td>50</td><td>180</td><td>45</td><td>252</td><td>4</td><td>252</td><td>10895.902</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>642</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/642.png">雷電雲（靈獸形態）</td><td>+de</td><td>79</td><td>70</td><td>80</td><td>252</td><td>156</td><td>100</td><td>10868.282</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>642</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/642.png">雷電雲（化身形態）</td><td>+de</td><td>79</td><td>70</td><td>80</td><td>252</td><td>156</td><td>100</td><td>10868.282</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>641</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/641.png">龍捲雲（化身形態）</td><td>+de</td><td>79</td><td>70</td><td>80</td><td>252</td><td>156</td><td>100</td><td>10868.282</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>469</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/469.png">遠古巨蜓</td><td>+sd</td><td>86</td><td>86</td><td>56</td><td>252</td><td>52</td><td>204</td><td>10856.036</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>141</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/141.png">鐮刀盔</td><td>+sd</td><td>60</td><td>105</td><td>70</td><td>252</td><td>20</td><td>236</td><td>10852.431</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>94</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/94.png">耿鬼（超級進化）</td><td>+de</td><td>60</td><td>80</td><td>95</td><td>252</td><td>156</td><td>100</td><td>10852.431</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>18</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/18.png">大比鳥</td><td>+sd</td><td>83</td><td>75</td><td>70</td><td>252</td><td>100</td><td>156</td><td>10842.445</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>457</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/457.png">霓虹魚</td><td>+de</td><td>69</td><td>76</td><td>86</td><td>252</td><td>124</td><td>132</td><td>10824.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>686</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/686.png">好啦魷</td><td>+sd</td><td>53</td><td>53</td><td>46</td><td>252</td><td>132</td><td>124</td><td>10802.647</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>633</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/633.png">單首龍</td><td>+de</td><td>52</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10802.647</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>785</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/785.png">卡璞・鳴鳴</td><td>+sd</td><td>70</td><td>85</td><td>75</td><td>252</td><td>132</td><td>124</td><td>10797.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>310</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/310.png">雷電獸（超級進化）</td><td>+de</td><td>70</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>10797.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>254</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/254.png">蜥蜴王（超級進化）</td><td>+de</td><td>70</td><td>75</td><td>85</td><td>252</td><td>124</td><td>132</td><td>10797.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>707</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/707.png">鑰圈兒</td><td>+sd</td><td>57</td><td>91</td><td>87</td><td>252</td><td>156</td><td>100</td><td>10782.844</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>107</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/107.png">快拳郎</td><td>+de</td><td>50</td><td>79</td><td>110</td><td>252</td><td>244</td><td>12</td><td>10776.480</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>527</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/527.png">滾滾蝙蝠</td><td>+de</td><td>65</td><td>43</td><td>43</td><td>204</td><td>132</td><td>172</td><td>10765.674</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>434</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/434.png">臭鼬噗</td><td>+sd</td><td>63</td><td>47</td><td>41</td><td>220</td><td>140</td><td>148</td><td>10765.674</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>210</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/210.png">布魯皇</td><td>+sd</td><td>90</td><td>75</td><td>60</td><td>252</td><td>100</td><td>156</td><td>10735.596</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>368</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/368.png">櫻花魚</td><td>+sd</td><td>55</td><td>105</td><td>75</td><td>252</td><td>60</td><td>196</td><td>10732.347</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>367</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/367.png">獵斑魚</td><td>+sd</td><td>55</td><td>105</td><td>75</td><td>252</td><td>60</td><td>196</td><td>10732.347</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>466</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/466.png">電擊魔獸</td><td>+de</td><td>75</td><td>67</td><td>85</td><td>252</td><td>180</td><td>76</td><td>10731.059</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>448</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/448.png">路卡利歐（超級進化）</td><td>+sd</td><td>70</td><td>88</td><td>70</td><td>252</td><td>100</td><td>156</td><td>10708.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>739</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/739.png">好勝蟹</td><td>+sd</td><td>47</td><td>57</td><td>47</td><td>252</td><td>76</td><td>180</td><td>10702.446</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>552</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/552.png">混混鱷</td><td>+de</td><td>60</td><td>45</td><td>45</td><td>244</td><td>116</td><td>148</td><td>10701.209</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>274</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/274.png">長鼻葉</td><td>+de</td><td>70</td><td>40</td><td>40</td><td>164</td><td>156</td><td>188</td><td>10701.209</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>209</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/209.png">布魯</td><td>+sd</td><td>60</td><td>50</td><td>40</td><td>244</td><td>108</td><td>156</td><td>10701.209</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>58</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/58.png">卡蒂狗</td><td>+de</td><td>55</td><td>45</td><td>50</td><td>252</td><td>116</td><td>140</td><td>10692.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>796</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/796.png">電束木</td><td>+de</td><td>83</td><td>71</td><td>71</td><td>252</td><td>92</td><td>164</td><td>10687.289</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>119</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/119.png">金魚王</td><td>+de</td><td>80</td><td>65</td><td>80</td><td>252</td><td>196</td><td>60</td><td>10671.249</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>595</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/595.png">電電蟲</td><td>+de</td><td>50</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10666.765</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>361</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/361.png">雪童子</td><td>+de</td><td>50</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10666.765</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>329</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/329.png">超音波幼蟲</td><td>+de</td><td>50</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10666.765</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>258</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/258.png">水躍魚</td><td>+de</td><td>50</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10666.765</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>246</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/246.png">幼基拉斯</td><td>+de</td><td>50</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10666.765</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>668</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/668.png">火炎獅</td><td>+sd</td><td>86</td><td>72</td><td>66</td><td>252</td><td>148</td><td>108</td><td>10663.032</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>708</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/708.png">小木靈</td><td>+de</td><td>43</td><td>48</td><td>60</td><td>252</td><td>172</td><td>84</td><td>10657.895</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>676</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/676.png">多麗米亞</td><td>+de</td><td>75</td><td>60</td><td>90</td><td>252</td><td>236</td><td>20</td><td>10634.556</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>539</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/539.png">打擊鬼</td><td>+de</td><td>75</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>10634.556</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>224</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/224.png">章魚桶</td><td>+de</td><td>75</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>10634.556</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>20</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/20.png">拉達（阿羅拉）</td><td>+de</td><td>75</td><td>70</td><td>80</td><td>252</td><td>156</td><td>100</td><td>10634.556</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>308</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/308.png">恰雷姆（超級進化）</td><td>+de</td><td>60</td><td>85</td><td>85</td><td>252</td><td>116</td><td>140</td><td>10632.988</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>279</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/279.png">大嘴鷗</td><td>+sd</td><td>60</td><td>100</td><td>70</td><td>252</td><td>20</td><td>236</td><td>10632.988</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>121</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/121.png">寶石海星</td><td>+de</td><td>60</td><td>85</td><td>85</td><td>252</td><td>116</td><td>140</td><td>10632.988</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>407</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/407.png">羅絲雷朵</td><td>+de</td><td>60</td><td>65</td><td>105</td><td>252</td><td>244</td><td>12</td><td>10604.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>443</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/443.png">圓陸鯊</td><td>+de</td><td>58</td><td>45</td><td>45</td><td>244</td><td>116</td><td>148</td><td>10572.279</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>546</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/546.png">木棉球</td><td>+sd</td><td>40</td><td>60</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10565.625</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>762</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/762.png">甜舞妮</td><td>+de</td><td>52</td><td>48</td><td>48</td><td>252</td><td>100</td><td>156</td><td>10545.169</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>54</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/54.png">可達鴨</td><td>+de</td><td>50</td><td>48</td><td>50</td><td>252</td><td>108</td><td>148</td><td>10540.595</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>29</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/29.png">尼多蘭</td><td>+sd</td><td>55</td><td>52</td><td>40</td><td>252</td><td>100</td><td>156</td><td>10503.862</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>775</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/775.png">樹枕尾熊</td><td>+de</td><td>65</td><td>65</td><td>95</td><td>252</td><td>204</td><td>52</td><td>10492.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>314</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/314.png">甜甜螢</td><td>+de</td><td>65</td><td>75</td><td>85</td><td>252</td><td>124</td><td>132</td><td>10492.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>313</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/313.png">電螢蟲</td><td>+de</td><td>65</td><td>75</td><td>85</td><td>252</td><td>124</td><td>132</td><td>10492.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>165</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/165.png">芭瓢蟲</td><td>+de</td><td>40</td><td>30</td><td>80</td><td>252</td><td>252</td><td>4</td><td>10477.605</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>163</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/163.png">咕咕</td><td>+de</td><td>60</td><td>30</td><td>56</td><td>220</td><td>236</td><td>52</td><td>10443.349</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>586</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/586.png">萌芽鹿</td><td>+de</td><td>80</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>10425.040</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>257</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/257.png">火焰雞</td><td>+de</td><td>80</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>10425.040</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>142</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/142.png">化石翼龍</td><td>+de</td><td>80</td><td>65</td><td>75</td><td>252</td><td>132</td><td>124</td><td>10425.040</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>515</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/515.png">冷水猴</td><td>+de</td><td>50</td><td>48</td><td>48</td><td>252</td><td>100</td><td>156</td><td>10411.685</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>513</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/513.png">爆香猴</td><td>+de</td><td>50</td><td>48</td><td>48</td><td>252</td><td>100</td><td>156</td><td>10411.685</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>511</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/511.png">花椰猴</td><td>+de</td><td>50</td><td>48</td><td>48</td><td>252</td><td>100</td><td>156</td><td>10411.685</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>386</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/386.png">代歐奇希斯（速度型態）</td><td>+de</td><td>50</td><td>90</td><td>90</td><td>252</td><td>84</td><td>172</td><td>10401.102</td><td></td><td></td></tr><tr><td>610</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/610.png">牙牙</td><td>+sd</td><td>46</td><td>60</td><td>40</td><td>252</td><td>84</td><td>172</td><td>10395.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>429</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/429.png">夢妖魔</td><td>+de</td><td>60</td><td>60</td><td>105</td><td>252</td><td>252</td><td>4</td><td>10394.241</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>566</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/566.png">始祖小鳥</td><td>+de</td><td>55</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>10378.884</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>529</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/529.png">螺釘地鼠</td><td>+de</td><td>60</td><td>40</td><td>45</td><td>212</td><td>156</td><td>140</td><td>10378.884</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>501</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/501.png">水水獺</td><td>+de</td><td>55</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>10378.884</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>397</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/397.png">姆克鳥</td><td>+sd</td><td>55</td><td>50</td><td>40</td><td>252</td><td>100</td><td>156</td><td>10378.884</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>322</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/322.png">呆火駝</td><td>+de</td><td>60</td><td>40</td><td>45</td><td>212</td><td>156</td><td>140</td><td>10378.884</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>439</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/439.png">魔尼尼</td><td>+de</td><td>20</td><td>45</td><td>90</td><td>252</td><td>252</td><td>4</td><td>10346.994</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>354</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/354.png">詛咒娃娃（超級進化）</td><td>+de</td><td>64</td><td>75</td><td>83</td><td>252</td><td>116</td><td>140</td><td>10345.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>549</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/549.png">裙兒小姐</td><td>+de</td><td>70</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>10342.397</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>461</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/461.png">瑪狃拉</td><td>+de</td><td>70</td><td>65</td><td>85</td><td>252</td><td>196</td><td>60</td><td>10342.397</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>254</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/254.png">蜥蜴王</td><td>+de</td><td>70</td><td>65</td><td>85</td><td>252</td><td>196</td><td>60</td><td>10342.397</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>619</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/619.png">功夫鼬</td><td>+de</td><td>45</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10327.059</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>548</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/548.png">百合根娃娃</td><td>+de</td><td>45</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10327.059</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>433</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/433.png">鈴鐺響</td><td>+de</td><td>45</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10327.059</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>347</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/347.png">太古羽蟲</td><td>+de</td><td>45</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>10327.059</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>93</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/93.png">鬼斯通</td><td>+de</td><td>45</td><td>45</td><td>55</td><td>252</td><td>140</td><td>116</td><td>10327.059</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>198</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/198.png">黑暗鴉</td><td>+de</td><td>60</td><td>42</td><td>42</td><td>204</td><td>140</td><td>164</td><td>10314.635</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>631</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/631.png">熔蟻獸</td><td>+de</td><td>85</td><td>66</td><td>66</td><td>252</td><td>108</td><td>148</td><td>10314.419</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>663</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/663.png">烈箭鷹</td><td>+sd</td><td>78</td><td>71</td><td>69</td><td>252</td><td>164</td><td>92</td><td>10313.543</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>392</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/392.png">烈焰猴</td><td>+de</td><td>76</td><td>71</td><td>71</td><td>252</td><td>92</td><td>164</td><td>10293.547</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>65</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/65.png">胡地（超級進化）</td><td>+de</td><td>55</td><td>65</td><td>105</td><td>252</td><td>244</td><td>12</td><td>10287.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>582</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/582.png">迷你冰</td><td>+de</td><td>36</td><td>50</td><td>60</td><td>252</td><td>156</td><td>100</td><td>10278.125</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>455</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/455.png">尖牙籠</td><td>+de</td><td>74</td><td>72</td><td>72</td><td>252</td><td>140</td><td>116</td><td>10278.101</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>100</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/100.png">霹靂電球</td><td>+de</td><td>40</td><td>50</td><td>55</td><td>252</td><td>156</td><td>100</td><td>10276.875</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>196</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/196.png">太陽伊布</td><td>+de</td><td>65</td><td>60</td><td>95</td><td>252</td><td>236</td><td>20</td><td>10275.381</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>135</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/135.png">雷伊布</td><td>+de</td><td>65</td><td>60</td><td>95</td><td>252</td><td>236</td><td>20</td><td>10275.381</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>290</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/290.png">土居忍士</td><td>+sd</td><td>31</td><td>90</td><td>30</td><td>252</td><td>4</td><td>252</td><td>10274.352</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>81</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/81.png">小磁怪</td><td>+sd</td><td>25</td><td>70</td><td>55</td><td>252</td><td>60</td><td>196</td><td>10262.894</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>406</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/406.png">含羞苞</td><td>+de</td><td>40</td><td>35</td><td>70</td><td>252</td><td>236</td><td>20</td><td>10256.370</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>421</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/421.png">櫻花兒</td><td>+de</td><td>70</td><td>70</td><td>78</td><td>252</td><td>156</td><td>100</td><td>10246.927</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>90</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/90.png">大舌貝</td><td>+sd</td><td>30</td><td>100</td><td>25</td><td>252</td><td>4</td><td>252</td><td>10224.737</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>701</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/701.png">摔角鷹人</td><td>+sd</td><td>78</td><td>75</td><td>63</td><td>252</td><td>124</td><td>132</td><td>10221.041</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>555</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/555.png">達摩狒狒（普通模式）</td><td>+de</td><td>105</td><td>55</td><td>55</td><td>108</td><td>196</td><td>204</td><td>10214.882</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>398</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/398.png">姆克鷹</td><td>+sd</td><td>85</td><td>70</td><td>60</td><td>252</td><td>100</td><td>156</td><td>10212.958</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>46</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/46.png">派拉斯</td><td>+de</td><td>35</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>10206.250</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>420</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/420.png">櫻花寶</td><td>+de</td><td>45</td><td>45</td><td>53</td><td>252</td><td>132</td><td>124</td><td>10204.907</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>341</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/341.png">龍蝦小兵</td><td>+sd</td><td>43</td><td>65</td><td>35</td><td>252</td><td>44</td><td>212</td><td>10191.176</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>521</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/521.png">高傲雉雞</td><td>+sd</td><td>80</td><td>80</td><td>55</td><td>252</td><td>60</td><td>196</td><td>10190.642</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>71</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/71.png">大食花</td><td>+de</td><td>80</td><td>65</td><td>70</td><td>252</td><td>116</td><td>140</td><td>10190.642</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>547</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/547.png">風妖精</td><td>+sd</td><td>60</td><td>85</td><td>75</td><td>252</td><td>132</td><td>124</td><td>10187.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>417</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/417.png">帕奇利茲</td><td>+de</td><td>60</td><td>70</td><td>90</td><td>252</td><td>164</td><td>92</td><td>10187.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>269</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/269.png">毒粉蛾</td><td>+de</td><td>60</td><td>70</td><td>90</td><td>252</td><td>164</td><td>92</td><td>10187.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>47</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/47.png">派拉斯特</td><td>+de</td><td>60</td><td>80</td><td>80</td><td>252</td><td>84</td><td>172</td><td>10187.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>741</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/741（熱辣熱辣）.png"><img src="/images/pm/741（呼拉呼拉）.png"><img src="/images/pm/741（啪滋啪滋）.png"><img src="/images/pm/741（輕盈輕盈）.png">花舞鳥</td><td>+de</td><td>75</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>10146.296</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>482</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/482.png">亞克諾姆</td><td>+de</td><td>75</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>10146.296</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>192</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/192.png">向日花怪</td><td>+de</td><td>75</td><td>55</td><td>85</td><td>252</td><td>212</td><td>44</td><td>10146.296</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>37</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/37.png">六尾（阿羅拉）</td><td>+de</td><td>38</td><td>40</td><td>65</td><td>252</td><td>236</td><td>20</td><td>10137.054</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>37</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/37.png">六尾</td><td>+de</td><td>38</td><td>40</td><td>65</td><td>252</td><td>236</td><td>20</td><td>10137.054</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>454</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/454.png">毒骷蛙</td><td>+de</td><td>83</td><td>65</td><td>65</td><td>252</td><td>116</td><td>140</td><td>10106.573</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>545</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/545.png">蜈蚣王</td><td>+sd</td><td>60</td><td>89</td><td>69</td><td>252</td><td>92</td><td>164</td><td>10103.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>323</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/323.png">噴火駝</td><td>+de</td><td>70</td><td>70</td><td>75</td><td>252</td><td>156</td><td>100</td><td>10100.594</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>179</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/179.png">咩利羊</td><td>+de</td><td>55</td><td>40</td><td>45</td><td>220</td><td>156</td><td>132</td><td>10059.953</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>588</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/588.png">蓋蓋蟲</td><td>+de</td><td>50</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>10056.558</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>284</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/284.png">雨翅蛾</td><td>+de</td><td>70</td><td>62</td><td>82</td><td>252</td><td>220</td><td>36</td><td>10050.961</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>78</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/78.png">烈焰馬</td><td>+de</td><td>65</td><td>70</td><td>80</td><td>252</td><td>156</td><td>100</td><td>10050.239</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>399</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/399.png">大牙狸</td><td>+de</td><td>59</td><td>40</td><td>40</td><td>180</td><td>156</td><td>172</td><td>9997.440</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>653</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/653.png">火狐狸</td><td>+de</td><td>40</td><td>40</td><td>60</td><td>252</td><td>180</td><td>76</td><td>9987.353</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>64</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/64.png">勇基拉</td><td>+de</td><td>40</td><td>30</td><td>70</td><td>252</td><td>252</td><td>4</td><td>9963.297</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>275</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/275.png">狡猾天狗</td><td>+de</td><td>90</td><td>60</td><td>60</td><td>196</td><td>156</td><td>156</td><td>9952.381</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>99</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/99.png">巨鉗蟹</td><td>+sd</td><td>55</td><td>115</td><td>50</td><td>252</td><td>4</td><td>252</td><td>9949.935</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>632</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/632.png">鐵蟻</td><td>+sd</td><td>58</td><td>112</td><td>48</td><td>252</td><td>4</td><td>252</td><td>9933.951</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>658</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/658.png">甲賀忍蛙（小智）</td><td>+de</td><td>72</td><td>67</td><td>71</td><td>252</td><td>108</td><td>148</td><td>9889.548</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>658</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/658.png">甲賀忍蛙</td><td>+de</td><td>72</td><td>67</td><td>71</td><td>252</td><td>108</td><td>148</td><td>9889.548</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>408</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/408.png">頭蓋龍</td><td>+sd</td><td>67</td><td>40</td><td>30</td><td>108</td><td>164</td><td>236</td><td>9872.472</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>556</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/556.png">沙鈴仙人掌</td><td>+de</td><td>75</td><td>67</td><td>67</td><td>252</td><td>100</td><td>156</td><td>9871.613</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>478</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/478.png">雪妖女</td><td>+de</td><td>70</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>9867.552</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>448</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/448.png">路卡利歐</td><td>+de</td><td>70</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>9867.552</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>351</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/351.png">飄浮泡泡</td><td>+de</td><td>70</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>9867.552</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>168</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/168.png">阿利多斯</td><td>+de</td><td>70</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>9867.552</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>736</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/736.png">強顎雞母蟲</td><td>+de</td><td>47</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>9863.163</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>122</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/122.png">魔牆人偶</td><td>+de</td><td>40</td><td>65</td><td>120</td><td>252</td><td>252</td><td>4</td><td>9862.662</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>98</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/98.png">大鉗蟹</td><td>+sd</td><td>30</td><td>90</td><td>25</td><td>252</td><td>4</td><td>252</td><td>9857.454</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>240</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/240.png">鴨嘴寶寶</td><td>+de</td><td>45</td><td>37</td><td>55</td><td>252</td><td>180</td><td>76</td><td>9851.448</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>239</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/239.png">電擊怪</td><td>+de</td><td>45</td><td>37</td><td>55</td><td>252</td><td>180</td><td>76</td><td>9851.448</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>307</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/307.png">瑪沙那</td><td>+de</td><td>30</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>9846.875</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>120</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/120.png">海星星</td><td>+de</td><td>30</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>9846.875</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>409</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/409.png">戰槌龍</td><td>+sd</td><td>97</td><td>60</td><td>50</td><td>204</td><td>148</td><td>156</td><td>9801.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>166</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/166.png">安瓢蟲</td><td>+de</td><td>55</td><td>50</td><td>110</td><td>252</td><td>252</td><td>4</td><td>9781.333</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>424</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/424.png">雙尾怪手</td><td>+de</td><td>75</td><td>66</td><td>66</td><td>252</td><td>108</td><td>148</td><td>9777.209</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>147</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/147.png">迷你龍</td><td>+de</td><td>41</td><td>45</td><td>50</td><td>252</td><td>116</td><td>140</td><td>9768.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>308</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/308.png">恰雷姆</td><td>+de</td><td>60</td><td>75</td><td>75</td><td>252</td><td>116</td><td>140</td><td>9758.081</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>101</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/101.png">頑皮雷彈</td><td>+de</td><td>60</td><td>70</td><td>80</td><td>252</td><td>156</td><td>100</td><td>9758.081</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>779</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/779.png">磨牙彩皮魚</td><td>+de</td><td>68</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>9756.054</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>613</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/613.png">噴嚏熊</td><td>+de</td><td>55</td><td>40</td><td>40</td><td>188</td><td>156</td><td>164</td><td>9748.664</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>572</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/572.png">泡沫栗鼠</td><td>+de</td><td>55</td><td>40</td><td>40</td><td>188</td><td>156</td><td>164</td><td>9748.664</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>665</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/665.png">粉蝶蛹</td><td>+sd</td><td>45</td><td>60</td><td>30</td><td>252</td><td>20</td><td>236</td><td>9734.233</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>577</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/577.png">單卵細胞球</td><td>+de</td><td>45</td><td>40</td><td>50</td><td>252</td><td>156</td><td>100</td><td>9734.233</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>506</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/506.png">小約克</td><td>+de</td><td>45</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>9734.233</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>371</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/371.png">寶貝龍</td><td>+sd</td><td>45</td><td>60</td><td>30</td><td>252</td><td>20</td><td>236</td><td>9734.233</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>328</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/328.png">大顎蟻</td><td>+de</td><td>45</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>9734.233</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>255</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/255.png">火稚雞</td><td>+de</td><td>45</td><td>40</td><td>50</td><td>252</td><td>156</td><td>100</td><td>9734.233</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>339</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/339.png">泥泥鰍</td><td>+sd</td><td>50</td><td>43</td><td>41</td><td>228</td><td>132</td><td>148</td><td>9686.964</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>745</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/745（白晝）.png">鬃岩狼人（白晝）</td><td>+de</td><td>75</td><td>65</td><td>65</td><td>252</td><td>116</td><td>140</td><td>9681.033</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>567</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/567.png">始祖大鳥</td><td>+de</td><td>75</td><td>65</td><td>65</td><td>252</td><td>116</td><td>140</td><td>9681.033</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>229</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/229.png">黑魯加</td><td>+de</td><td>75</td><td>50</td><td>80</td><td>252</td><td>236</td><td>20</td><td>9681.033</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>695</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/695.png">光電傘蜥</td><td>+de</td><td>62</td><td>52</td><td>94</td><td>252</td><td>252</td><td>4</td><td>9675.066</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>24</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/24.png">阿柏怪</td><td>+de</td><td>60</td><td>69</td><td>79</td><td>252</td><td>164</td><td>92</td><td>9668.004</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>718</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/718.png">基格爾德（１０％形態）</td><td>+de</td><td>54</td><td>71</td><td>85</td><td>252</td><td>148</td><td>108</td><td>9659.329</td><td></td><td></td></tr><tr><td>430</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/430.png">烏鴉頭頭</td><td>+de</td><td>100</td><td>52</td><td>52</td><td>164</td><td>140</td><td>204</td><td>9652.751</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>162</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/162.png">大尾立</td><td>+sd</td><td>85</td><td>64</td><td>55</td><td>252</td><td>132</td><td>124</td><td>9647.761</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>319</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/319.png">巨牙鯊（超級進化）</td><td>+sd</td><td>70</td><td>70</td><td>65</td><td>252</td><td>140</td><td>116</td><td>9645.688</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>49</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/49.png">摩魯蛾</td><td>+de</td><td>70</td><td>60</td><td>75</td><td>252</td><td>156</td><td>100</td><td>9645.688</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>173</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/173.png">皮寶寶</td><td>+de</td><td>50</td><td>28</td><td>55</td><td>220</td><td>252</td><td>36</td><td>9625.263</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>106</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/106.png">飛腿郎</td><td>+de</td><td>50</td><td>53</td><td>110</td><td>252</td><td>252</td><td>4</td><td>9614.654</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>211</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/211.png">千針魚</td><td>+sd</td><td>65</td><td>85</td><td>55</td><td>252</td><td>52</td><td>204</td><td>9588.807</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>178</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/178.png">天然鳥</td><td>+de</td><td>65</td><td>70</td><td>70</td><td>252</td><td>92</td><td>164</td><td>9588.807</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>296</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/296.png">幕下力士</td><td>+de</td><td>72</td><td>30</td><td>30</td><td>36</td><td>236</td><td>236</td><td>9563.563</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>390</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/390.png">小火焰猴</td><td>+de</td><td>44</td><td>44</td><td>44</td><td>252</td><td>124</td><td>132</td><td>9550.601</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>23</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/23.png">阿柏蛇</td><td>+de</td><td>35</td><td>44</td><td>54</td><td>252</td><td>140</td><td>116</td><td>9533.532</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>155</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/155.png">火球鼠</td><td>+de</td><td>39</td><td>43</td><td>50</td><td>252</td><td>132</td><td>124</td><td>9525.241</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>4</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/4.png">小火龍</td><td>+de</td><td>39</td><td>43</td><td>50</td><td>252</td><td>132</td><td>124</td><td>9525.241</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>581</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/581.png">舞天鵝</td><td>+de</td><td>75</td><td>63</td><td>63</td><td>252</td><td>132</td><td>124</td><td>9483.158</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>523</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/523.png">雷電斑馬</td><td>+de</td><td>75</td><td>63</td><td>63</td><td>252</td><td>132</td><td>124</td><td>9483.158</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>516</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/516.png">冷水猿</td><td>+de</td><td>75</td><td>63</td><td>63</td><td>252</td><td>132</td><td>124</td><td>9483.158</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>514</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/514.png">爆香猿</td><td>+de</td><td>75</td><td>63</td><td>63</td><td>252</td><td>132</td><td>124</td><td>9483.158</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>512</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/512.png">花椰猿</td><td>+de</td><td>75</td><td>63</td><td>63</td><td>252</td><td>132</td><td>124</td><td>9483.158</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>342</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/342.png">鐵螯龍蝦</td><td>+sd</td><td>63</td><td>85</td><td>55</td><td>252</td><td>52</td><td>204</td><td>9477.309</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>798</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/798.png">紙御劍</td><td>+sd</td><td>59</td><td>131</td><td>31</td><td>252</td><td>4</td><td>252</td><td>9449.021</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>735</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/735.png">貓鼬探長</td><td>+de</td><td>80</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>9443.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>535</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/535.png">圓蝌蚪</td><td>+de</td><td>50</td><td>40</td><td>40</td><td>204</td><td>156</td><td>148</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>519</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/519.png">豆豆鴿</td><td>+sd</td><td>50</td><td>50</td><td>30</td><td>204</td><td>68</td><td>236</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>331</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/331.png">刺球仙人掌</td><td>+de</td><td>50</td><td>40</td><td>40</td><td>204</td><td>156</td><td>148</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>300</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/300.png">向尾喵</td><td>+sd</td><td>50</td><td>45</td><td>35</td><td>204</td><td>108</td><td>196</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>298</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/298.png">露力麗</td><td>+de</td><td>50</td><td>40</td><td>40</td><td>204</td><td>156</td><td>148</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>268</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/268.png">盾甲繭</td><td>+sd</td><td>50</td><td>55</td><td>25</td><td>252</td><td>36</td><td>220</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>266</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/266.png">甲殼繭</td><td>+sd</td><td>50</td><td>55</td><td>25</td><td>252</td><td>36</td><td>220</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>11</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/11.png">鐵甲蛹</td><td>+sd</td><td>50</td><td>55</td><td>25</td><td>252</td><td>36</td><td>220</td><td>9440.162</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>264</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/264.png">直衝熊</td><td>+de</td><td>78</td><td>61</td><td>61</td><td>252</td><td>92</td><td>164</td><td>9435.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>234</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/234.png">驚角鹿</td><td>+de</td><td>73</td><td>62</td><td>65</td><td>252</td><td>140</td><td>116</td><td>9428.571</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>777</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/777.png">托戈德瑪爾</td><td>+de</td><td>65</td><td>63</td><td>73</td><td>252</td><td>132</td><td>124</td><td>9416.804</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>262</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/262.png">大狼犬</td><td>+sd</td><td>70</td><td>70</td><td>60</td><td>252</td><td>100</td><td>156</td><td>9415.070</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>203</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/203.png">麒麟奇</td><td>+de</td><td>70</td><td>65</td><td>65</td><td>252</td><td>116</td><td>140</td><td>9415.070</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>412</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/412.png">結草兒</td><td>+de</td><td>40</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>9411.907</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>252</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/252.png">木守宮</td><td>+de</td><td>40</td><td>35</td><td>55</td><td>252</td><td>196</td><td>60</td><td>9411.907</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>177</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/177.png">天然雀</td><td>+de</td><td>40</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>9411.907</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>400</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/400.png">大尾狸</td><td>+de</td><td>79</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>9393.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>187</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/187.png">毽子草</td><td>+de</td><td>35</td><td>40</td><td>55</td><td>252</td><td>156</td><td>100</td><td>9372.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>479</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/479.png">洛托姆</td><td>+de</td><td>50</td><td>77</td><td>77</td><td>252</td><td>100</td><td>156</td><td>9338.861</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>757</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/757.png">夜盜火蜥</td><td>+de</td><td>48</td><td>40</td><td>40</td><td>204</td><td>156</td><td>148</td><td>9317.324</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>453</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/453.png">不良蛙</td><td>+de</td><td>48</td><td>40</td><td>40</td><td>204</td><td>156</td><td>148</td><td>9317.324</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>431</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/431.png">魅力喵</td><td>+sd</td><td>49</td><td>42</td><td>37</td><td>196</td><td>132</td><td>180</td><td>9317.324</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>286</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/286.png">斗笠菇</td><td>+sd</td><td>60</td><td>80</td><td>60</td><td>252</td><td>92</td><td>164</td><td>9310.063</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>281</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/281.png">奇魯莉安</td><td>+de</td><td>38</td><td>35</td><td>55</td><td>252</td><td>196</td><td>60</td><td>9282.977</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>505</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/505.png">步哨鼠</td><td>+de</td><td>60</td><td>69</td><td>69</td><td>252</td><td>92</td><td>164</td><td>9226.561</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>543</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/543.png">百足蜈蚣</td><td>+sd</td><td>30</td><td>59</td><td>39</td><td>252</td><td>84</td><td>172</td><td>9197.844</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>661</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/661.png">小箭雀</td><td>+sd</td><td>45</td><td>43</td><td>38</td><td>220</td><td>116</td><td>172</td><td>9195.529</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>32</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/32.png">尼多朗</td><td>+de</td><td>46</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>9195.529</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>573</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/573.png">奇諾栗鼠</td><td>+de</td><td>75</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>9191.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>57</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/57.png">火爆猴</td><td>+de</td><td>65</td><td>60</td><td>70</td><td>252</td><td>156</td><td>100</td><td>9149.108</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>194</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/194.png">烏波</td><td>+sd</td><td>55</td><td>45</td><td>25</td><td>204</td><td>100</td><td>204</td><td>9137.749</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>744</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/744.png">岩狗狗</td><td>+de</td><td>45</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>9134.876</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>725</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/725.png">火斑喵</td><td>+de</td><td>45</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>9134.876</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>228</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/228.png">戴魯比</td><td>+de</td><td>45</td><td>30</td><td>50</td><td>252</td><td>180</td><td>76</td><td>9134.876</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>656</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/656.png">呱呱泡蛙</td><td>+de</td><td>41</td><td>40</td><td>44</td><td>244</td><td>156</td><td>108</td><td>9131.660</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>432</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/432.png">東施喵</td><td>+sd</td><td>71</td><td>64</td><td>59</td><td>252</td><td>92</td><td>164</td><td>9124.660</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>312</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/312.png">負電拍拍</td><td>+de</td><td>60</td><td>50</td><td>85</td><td>252</td><td>236</td><td>20</td><td>9100.734</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>94</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/94.png">耿鬼</td><td>+de</td><td>60</td><td>60</td><td>75</td><td>252</td><td>156</td><td>100</td><td>9100.734</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>26</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/26.png">雷丘（阿羅拉）</td><td>+de</td><td>60</td><td>55</td><td>80</td><td>252</td><td>196</td><td>60</td><td>9100.734</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>26</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/26.png">雷丘</td><td>+de</td><td>60</td><td>55</td><td>80</td><td>252</td><td>196</td><td>60</td><td>9100.734</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>336</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/336.png">飯匙蛇</td><td>+de</td><td>73</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>9090.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>335</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/335.png">貓鼬斬</td><td>+de</td><td>73</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>9090.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>25</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/25.png">皮卡丘</td><td>+de</td><td>35</td><td>40</td><td>50</td><td>252</td><td>156</td><td>100</td><td>9089.581</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>283</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/283.png">溜溜糖球</td><td>+de</td><td>40</td><td>32</td><td>52</td><td>244</td><td>220</td><td>44</td><td>9069.960</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>174</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/174.png">寶寶丁</td><td>+de</td><td>90</td><td>15</td><td>20</td><td>4</td><td>252</td><td>252</td><td>9046.239</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>238</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/238.png">迷唇娃</td><td>+de</td><td>45</td><td>15</td><td>65</td><td>252</td><td>252</td><td>4</td><td>9024.603</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>504</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/504.png">探探鼠</td><td>+de</td><td>45</td><td>39</td><td>39</td><td>252</td><td>100</td><td>156</td><td>9018.301</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>354</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/354.png">詛咒娃娃</td><td>+sd</td><td>64</td><td>65</td><td>63</td><td>252</td><td>124</td><td>132</td><td>9003.839</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>116</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/116.png">墨海馬</td><td>+sd</td><td>30</td><td>70</td><td>25</td><td>252</td><td>4</td><td>252</td><td>8997.202</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>124</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/124.png">迷唇姐</td><td>+de</td><td>65</td><td>35</td><td>95</td><td>252</td><td>252</td><td>4</td><td>8983.128</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>65</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/65.png">胡地</td><td>+de</td><td>55</td><td>45</td><td>95</td><td>252</td><td>252</td><td>4</td><td>8972.757</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>702</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/702.png">咚咚鼠</td><td>+de</td><td>67</td><td>57</td><td>67</td><td>252</td><td>180</td><td>76</td><td>8968.986</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>419</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/419.png">浮潛鼬</td><td>+sd</td><td>85</td><td>55</td><td>50</td><td>196</td><td>156</td><td>156</td><td>8968.686</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>22</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/22.png">大嘴雀</td><td>+sd</td><td>65</td><td>65</td><td>61</td><td>252</td><td>108</td><td>148</td><td>8962.105</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>596</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/596.png">電蜘蛛</td><td>+de</td><td>70</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8938.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>550</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/550.png">野蠻鱸魚</td><td>+sd</td><td>70</td><td>65</td><td>55</td><td>252</td><td>124</td><td>132</td><td>8938.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>332</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/332.png">夢歌仙人掌</td><td>+de</td><td>70</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8938.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>310</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/310.png">雷電獸</td><td>+de</td><td>70</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8938.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>301</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/301.png">優雅貓</td><td>+sd</td><td>70</td><td>65</td><td>55</td><td>252</td><td>124</td><td>132</td><td>8938.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>53</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/53.png">貓老大（阿羅拉）</td><td>+de</td><td>65</td><td>60</td><td>65</td><td>252</td><td>156</td><td>100</td><td>8914.231</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>53</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/53.png">貓老大</td><td>+de</td><td>65</td><td>60</td><td>65</td><td>252</td><td>156</td><td>100</td><td>8914.231</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>743</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/743.png">蝶結萌虻</td><td>+de</td><td>60</td><td>60</td><td>70</td><td>252</td><td>156</td><td>100</td><td>8883.146</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>85</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/85.png">嘟嘟利</td><td>+sd</td><td>60</td><td>70</td><td>60</td><td>252</td><td>100</td><td>156</td><td>8883.146</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>12</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/12.png">巴大蝶</td><td>+de</td><td>60</td><td>50</td><td>80</td><td>252</td><td>236</td><td>20</td><td>8883.146</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>694</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/694.png">傘電蜥</td><td>+de</td><td>44</td><td>33</td><td>43</td><td>252</td><td>140</td><td>116</td><td>8839.831</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>551</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/551.png">黑眼鱷</td><td>+de</td><td>50</td><td>35</td><td>35</td><td>220</td><td>116</td><td>172</td><td>8839.831</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>418</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/418.png">泳圈鼬</td><td>+sd</td><td>55</td><td>35</td><td>30</td><td>180</td><td>172</td><td>156</td><td>8839.831</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>220</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/220.png">小山豬</td><td>+sd</td><td>50</td><td>40</td><td>30</td><td>220</td><td>132</td><td>156</td><td>8839.831</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>14</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/14.png">鐵殼蛹</td><td>+sd</td><td>45</td><td>50</td><td>25</td><td>252</td><td>60</td><td>196</td><td>8839.831</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>758</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/758.png">焰后蜥</td><td>+de</td><td>68</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8837.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>742</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/742.png">萌虻</td><td>+de</td><td>40</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>570</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/570.png">索羅亞</td><td>+de</td><td>40</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>447</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/447.png">利歐路</td><td>+de</td><td>40</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>309</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/309.png">落雷獸</td><td>+de</td><td>40</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>273</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/273.png">橡實果</td><td>+sd</td><td>40</td><td>50</td><td>30</td><td>252</td><td>76</td><td>180</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>270</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/270.png">蓮葉童子</td><td>+de</td><td>40</td><td>30</td><td>50</td><td>252</td><td>180</td><td>76</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>218</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/218.png">熔岩蟲</td><td>+de</td><td>40</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>167</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/167.png">圓絲蛛</td><td>+de</td><td>40</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>60</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/60.png">蚊香蝌蚪</td><td>+de</td><td>40</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>56</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/56.png">猴怪</td><td>+de</td><td>40</td><td>35</td><td>45</td><td>252</td><td>140</td><td>116</td><td>8832.397</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>263</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/263.png">蛇紋熊</td><td>+de</td><td>38</td><td>41</td><td>41</td><td>236</td><td>148</td><td>124</td><td>8830.143</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>401</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/401.png">圓法師</td><td>+de</td><td>37</td><td>41</td><td>41</td><td>252</td><td>100</td><td>156</td><td>8769.246</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>19</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/19.png">小拉達（阿羅拉）</td><td>+sd</td><td>30</td><td>55</td><td>35</td><td>252</td><td>60</td><td>196</td><td>8767.465</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>303</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/303.png">大嘴娃</td><td>+sd</td><td>50</td><td>85</td><td>55</td><td>252</td><td>52</td><td>204</td><td>8752.574</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>302</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/302.png">勾魂眼</td><td>+sd</td><td>50</td><td>75</td><td>65</td><td>252</td><td>132</td><td>124</td><td>8752.574</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>761</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/761.png">甜竹竹</td><td>+de</td><td>42</td><td>38</td><td>38</td><td>252</td><td>100</td><td>156</td><td>8721.966</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>620</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/620.png">師父鼬</td><td>+de</td><td>65</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8686.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>359</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/359.png">阿勃梭魯（超級進化）</td><td>+de</td><td>65</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8686.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>359</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/359.png">阿勃梭魯</td><td>+de</td><td>65</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8686.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>15</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/15.png">大針蜂（超級進化）</td><td>+de</td><td>65</td><td>40</td><td>80</td><td>252</td><td>252</td><td>4</td><td>8686.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>15</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/15.png">大針蜂</td><td>+de</td><td>65</td><td>40</td><td>80</td><td>252</td><td>252</td><td>4</td><td>8686.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>20</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/20.png">拉達</td><td>+de</td><td>55</td><td>60</td><td>70</td><td>252</td><td>156</td><td>100</td><td>8617.183</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>509</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/509.png">扒手貓</td><td>+de</td><td>41</td><td>37</td><td>37</td><td>252</td><td>100</td><td>156</td><td>8545.558</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>69</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/69.png">喇叭芽</td><td>+sd</td><td>50</td><td>35</td><td>30</td><td>196</td><td>156</td><td>156</td><td>8545.558</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>714</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/714.png">嗡蝠</td><td>+de</td><td>40</td><td>35</td><td>40</td><td>252</td><td>124</td><td>132</td><td>8545.169</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>52</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/52.png">喵喵（阿羅拉）</td><td>+de</td><td>40</td><td>35</td><td>40</td><td>252</td><td>124</td><td>132</td><td>8545.169</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>52</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/52.png">喵喵</td><td>+de</td><td>40</td><td>35</td><td>40</td><td>252</td><td>124</td><td>132</td><td>8545.169</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>41</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/41.png">超音蝠</td><td>+de</td><td>40</td><td>35</td><td>40</td><td>252</td><td>124</td><td>132</td><td>8545.169</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>16</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/16.png">波波</td><td>+sd</td><td>40</td><td>40</td><td>35</td><td>252</td><td>140</td><td>116</td><td>8545.169</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>602</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/602.png">麻麻小魚</td><td>+de</td><td>35</td><td>40</td><td>40</td><td>252</td><td>100</td><td>156</td><td>8530.606</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>84</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/84.png">嘟嘟</td><td>+sd</td><td>35</td><td>45</td><td>35</td><td>252</td><td>116</td><td>140</td><td>8530.606</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>666</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/666.png">彩粉蝶</td><td>+de</td><td>80</td><td>50</td><td>50</td><td>180</td><td>156</td><td>172</td><td>8488.084</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>617</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/617.png">敏捷蟲</td><td>+de</td><td>80</td><td>40</td><td>60</td><td>180</td><td>236</td><td>92</td><td>8488.084</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>161</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/161.png">尾立</td><td>+de</td><td>35</td><td>34</td><td>45</td><td>252</td><td>148</td><td>108</td><td>8480.787</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>415</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/415.png">三蜜蜂</td><td>+de</td><td>30</td><td>42</td><td>42</td><td>252</td><td>140</td><td>116</td><td>8452.955</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>402</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/402.png">音箱蟀</td><td>+de</td><td>77</td><td>51</td><td>51</td><td>196</td><td>148</td><td>164</td><td>8440.398</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>774</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/774.png">小隕星（核心）</td><td>+de</td><td>60</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8433.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>571</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/571.png">索羅亞克</td><td>+de</td><td>60</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8433.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>327</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/327.png">晃晃斑</td><td>+de</td><td>60</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8433.500</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>403</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/403.png">小貓怪</td><td>+de</td><td>45</td><td>34</td><td>34</td><td>220</td><td>124</td><td>164</td><td>8430.158</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>353</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/353.png">怨影娃娃</td><td>+sd</td><td>44</td><td>35</td><td>33</td><td>220</td><td>156</td><td>132</td><td>8373.197</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>659</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/659.png">掘掘兔</td><td>+sd</td><td>38</td><td>38</td><td>36</td><td>252</td><td>148</td><td>108</td><td>8372.338</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>528</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/528.png">心蝙蝠</td><td>+de</td><td>67</td><td>55</td><td>55</td><td>252</td><td>116</td><td>140</td><td>8343.844</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>753</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/753.png">偽螳草</td><td>+de</td><td>40</td><td>35</td><td>35</td><td>244</td><td>116</td><td>148</td><td>8259.276</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>293</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/293.png">咕妞妞</td><td>+de</td><td>64</td><td>23</td><td>23</td><td>52</td><td>212</td><td>244</td><td>8259.276</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>265</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/265.png">刺尾蟲</td><td>+sd</td><td>45</td><td>35</td><td>30</td><td>204</td><td>148</td><td>156</td><td>8259.276</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>311</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/311.png">正電拍拍</td><td>+de</td><td>60</td><td>40</td><td>75</td><td>252</td><td>236</td><td>20</td><td>8224.538</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>522</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/522.png">斑斑馬</td><td>+de</td><td>45</td><td>32</td><td>32</td><td>196</td><td>140</td><td>172</td><td>8202.316</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>587</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/587.png">電飛鼠</td><td>+de</td><td>55</td><td>60</td><td>60</td><td>252</td><td>92</td><td>164</td><td>8181.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>734</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/734.png">貓鼬少</td><td>+de</td><td>48</td><td>30</td><td>30</td><td>164</td><td>156</td><td>188</td><td>8145.355</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>414</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/414.png">紳士蛾</td><td>+de</td><td>70</td><td>50</td><td>50</td><td>196</td><td>156</td><td>156</td><td>8014.286</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>277</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/277.png">大王燕</td><td>+sd</td><td>60</td><td>60</td><td>50</td><td>252</td><td>100</td><td>156</td><td>8008.172</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>789</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/789.png">科斯莫古</td><td>+de</td><td>43</td><td>31</td><td>31</td><td>188</td><td>148</td><td>172</td><td>7974.720</td><td><img src="/images/pm/obj/-27.gif"></td><td></td></tr><tr><td>236</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/236.png">無畏小子</td><td>+de</td><td>35</td><td>35</td><td>35</td><td>252</td><td>116</td><td>140</td><td>7974.720</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>223</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/223.png">鐵炮魚</td><td>+de</td><td>35</td><td>35</td><td>35</td><td>252</td><td>116</td><td>140</td><td>7974.720</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>83</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/83.png">大蔥鴨</td><td>+de</td><td>52</td><td>55</td><td>62</td><td>252</td><td>124</td><td>132</td><td>7910.050</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>664</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/664.png">粉蝶蟲</td><td>+sd</td><td>38</td><td>40</td><td>25</td><td>220</td><td>92</td><td>196</td><td>7862.400</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>21</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/21.png">烈雀</td><td>+de</td><td>40</td><td>30</td><td>31</td><td>188</td><td>156</td><td>164</td><td>7752.436</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>510</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/510.png">酷豹</td><td>+de</td><td>64</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>7737.514</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>441</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/441.png">聒噪鳥</td><td>+sd</td><td>76</td><td>45</td><td>42</td><td>188</td><td>180</td><td>140</td><td>7700.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>396</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/396.png">姆克兒</td><td>+de</td><td>40</td><td>30</td><td>30</td><td>180</td><td>156</td><td>172</td><td>7697.455</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>278</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/278.png">長翅鷗</td><td>+de</td><td>40</td><td>30</td><td>30</td><td>180</td><td>156</td><td>172</td><td>7697.455</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>276</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/276.png">傲骨燕</td><td>+de</td><td>40</td><td>30</td><td>30</td><td>180</td><td>156</td><td>172</td><td>7697.455</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>261</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/261.png">土狼犬</td><td>+sd</td><td>35</td><td>35</td><td>30</td><td>220</td><td>132</td><td>156</td><td>7697.455</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>10</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/10.png">綠毛蟲</td><td>+sd</td><td>45</td><td>35</td><td>20</td><td>140</td><td>132</td><td>236</td><td>7697.455</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>19</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/19.png">小拉達</td><td>+de</td><td>30</td><td>35</td><td>35</td><td>252</td><td>116</td><td>140</td><td>7693.920</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>370</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/370.png">愛心魚</td><td>+de</td><td>43</td><td>55</td><td>65</td><td>252</td><td>132</td><td>124</td><td>7575.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>681</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/681.png">堅盾劍怪（刀劍形態）</td><td>+de</td><td>60</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>7556.519</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>267</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/267.png">狩獵鳳蝶</td><td>+de</td><td>60</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>7556.519</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>51</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/51.png">地鼠（阿羅拉）</td><td>+de</td><td>35</td><td>60</td><td>70</td><td>252</td><td>156</td><td>100</td><td>7553.333</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>51</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/51.png">地鼠（阿羅拉）</td><td>+de</td><td>10</td><td>30</td><td>45</td><td>252</td><td>156</td><td>100</td><td>7553.333</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>731</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/731.png">小篤兒</td><td>+de</td><td>35</td><td>30</td><td>30</td><td>196</td><td>156</td><td>156</td><td>7424.516</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>92</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/92.png">鬼斯</td><td>+de</td><td>30</td><td>30</td><td>35</td><td>236</td><td>156</td><td>116</td><td>7424.516</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>767</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/767.png">膽小蟲</td><td>+sd</td><td>25</td><td>40</td><td>30</td><td>252</td><td>100</td><td>156</td><td>7413.120</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>291</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/291.png">鐵面忍者</td><td>+de</td><td>61</td><td>45</td><td>50</td><td>252</td><td>116</td><td>140</td><td>7392.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>63</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/63.png">凱西</td><td>+de</td><td>25</td><td>15</td><td>55</td><td>252</td><td>252</td><td>4</td><td>7389.643</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>349</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/349.png">醜醜魚</td><td>+de</td><td>20</td><td>20</td><td>55</td><td>252</td><td>244</td><td>12</td><td>7371.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>129</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/129.png">鯉魚王</td><td>+sd</td><td>20</td><td>55</td><td>20</td><td>252</td><td>20</td><td>236</td><td>7371.000</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>51</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/51.png">三地鼠</td><td>+de</td><td>35</td><td>50</td><td>70</td><td>252</td><td>172</td><td>84</td><td>7171.000</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>191</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/191.png">向日種子</td><td>+de</td><td>30</td><td>30</td><td>30</td><td>204</td><td>156</td><td>148</td><td>7154.363</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>13</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/13.png">獨角蟲</td><td>+sd</td><td>40</td><td>30</td><td>20</td><td>124</td><td>148</td><td>236</td><td>7154.363</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>319</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/319.png">巨牙鯊</td><td>+de</td><td>70</td><td>40</td><td>40</td><td>164</td><td>156</td><td>188</td><td>7134.140</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>386</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/386.png">代歐奇希斯（普通型態）</td><td>+de</td><td>50</td><td>50</td><td>50</td><td>252</td><td>100</td><td>156</td><td>7104.033</td><td></td><td></td></tr><tr><td>280</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/280.png">拉魯拉絲</td><td>+de</td><td>28</td><td>25</td><td>35</td><td>204</td><td>196</td><td>108</td><td>7049.713</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>795</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/795.png">費洛美螂</td><td>+de</td><td>71</td><td>37</td><td>37</td><td>124</td><td>180</td><td>204</td><td>6919.579</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>318</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/318.png">利牙魚</td><td>+de</td><td>45</td><td>20</td><td>20</td><td>116</td><td>172</td><td>220</td><td>6893.053</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>201</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/201.png">未知圖騰</td><td>+de</td><td>48</td><td>48</td><td>48</td><td>252</td><td>100</td><td>156</td><td>6858.531</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>132</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/132.png">百變怪</td><td>+de</td><td>48</td><td>48</td><td>48</td><td>252</td><td>100</td><td>156</td><td>6858.531</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>50</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/50.png">地鼠</td><td>+de</td><td>10</td><td>25</td><td>45</td><td>252</td><td>196</td><td>60</td><td>6570.720</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>235</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/235.png">圖圖犬</td><td>+de</td><td>55</td><td>35</td><td>45</td><td>188</td><td>196</td><td>124</td><td>6495.337</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>225</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/225.png">信使鳥</td><td>+de</td><td>45</td><td>45</td><td>45</td><td>252</td><td>116</td><td>140</td><td>6492.444</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>172</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/172.png">皮丘</td><td>+de</td><td>20</td><td>15</td><td>35</td><td>244</td><td>196</td><td>68</td><td>6141.046</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>746</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/746（單獨）.png">弱丁魚（單獨）</td><td>+de</td><td>45</td><td>20</td><td>25</td><td>84</td><td>236</td><td>188</td><td>4767.144</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>386</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/386.png">代歐奇希斯（攻擊型態）</td><td>+de</td><td>50</td><td>20</td><td>20</td><td>44</td><td>236</td><td>228</td><td>4767.144</td><td></td><td></td></tr><tr><td>50</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/50.png">地鼠（阿羅拉）</td><td>+de</td><td>35</td><td>60</td><td>70</td><td>252</td><td>164</td><td>92</td><td>4533.561</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>50</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/50.png">地鼠（阿羅拉）</td><td>+de</td><td>10</td><td>30</td><td>45</td><td>252</td><td>164</td><td>92</td><td>4533.561</td><td><img src="/images/pm/obj/-27.gif"></td><td><img src="/images/pm/obj/0.gif"></td></tr><tr><td>292</td><td style="overflow-wrap: break-word;" id="table_name"><img src="/images/pm/292.png">脫殼忍者</td><td>+sd</td><td>1</td><td>45</td><td>30</td><td>252</td><td>100</td><td>156</td><td>4184.826</td><td></td><td><img src="/images/pm/obj/0.gif"></td></tr></table>]]></content>
      <categories>
        <category>寶可夢</category>
      </categories>
  </entry>
</search>
